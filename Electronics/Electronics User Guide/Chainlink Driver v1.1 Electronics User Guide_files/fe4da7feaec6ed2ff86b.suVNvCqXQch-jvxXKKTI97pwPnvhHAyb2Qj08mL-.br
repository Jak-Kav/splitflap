(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["paper_binder~paper_bundle~paper_cloud_docs~paper_native_desktop~paper_pifs~paper_view_only"],{1500:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.getProductNameFromProductType=void 0;var n=a(7);t.getProductNameFromProductType=function(e){switch(e){case n.ProductType.Paper:return"Paper"
;case n.ProductType.Spaces:return"Spaces";default:return"Paper"}}},1501:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(363),i=a(1502),r=a(3),s=a(2),l=a(11),d=a(10),c=a(38),u=a(14),p=a(0),m=a(13),h=(0,u.MsgFactory)("modals"),f=h.F,g=(0,h.defineMessages)({tryagain:{msg:"Try again"},addascreenshot:{
msg:"Add a screenshot"}}),v=((0,s.defineMessages)({tryagain:{id:"BCyGLk",defaultMessage:"Try again"},addascreenshot:{id:"CCItA6",defaultMessage:"Add a screenshot"}}),{isUploading:!1,
screenshotUrl:null,fileName:null,failToUpload:!1}),b=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.attachmentStore=null;t.state=n.__assign({},v)
;t.attach=function(e){t.setState({isUploading:!0});var a="feedback-"+c.getStandardLengthRandomId();t.attachmentStore.attachImage(e,a,6e3,6e3,52428800)};t.onChooseScreenshot=function(e){
e.preventDefault();t.refs.screenshot.click()};t.onDelete=function(){t.setState(v);t.props.onScreenshotAttached(null)};return t}t.prototype.componentDidMount=function(){var e=this
;this.attachmentStore=this.props.isBinderFeedbackForm?new i.default(this.props.localPadId):new o.AttachmentStore(App.getCurrentPadController())
;this.attachmentStore.registerEventListener((function(t,a){if(a.done){e.setState({screenshotUrl:a.finalUrl,fileName:t.originalFile&&t.originalFile.name,isUploading:!1,failToUpload:!1})
;e.props.onScreenshotAttached(a.finalUrl)}else if(a.failed){e.setState({screenshotUrl:null,fileName:null,isUploading:!1,failToUpload:!0});e.props.onScreenshotAttached(null)}}))
;this.events.on(this.refs.screenshot,"change",(function(){var t=e.refs.screenshot.files;t&&t.length&&e.attach(t[0])}))};t.prototype.render=function(){
var e,t=this.state,a=t.screenshotUrl,o=t.fileName,i=t.isUploading,s=t.failToUpload;e=a&&o?p.createElement("div",{className:"feedback-image-attachment"},p.createElement("div",{className:"notranslate"
},o),p.createElement(d.default,{onClick:this.onDelete,"track-title":"close",className:"feedback-image-close"},p.createElement(m.default,{name:"close"}))):p.createElement(d.default,{secondary:!0,
onClick:this.onChooseScreenshot,disabled:i,className:r("feedback-image-upload-button",{"feedback-image-upload-error":s}),tabIndex:this.props.tabIndex
},s?p.createElement(f,n.__assign({},g.tryagain)):p.createElement(f,n.__assign({},g.addascreenshot)));return p.createElement("div",{className:"feedback-image-upload-container"
},p.createElement("input",{type:"file",ref:"screenshot",name:"screenshot",accept:"image/*",className:"feedback-image-upload-input"}),e)};t.displayName="ScreenshotUploader"
;return t=n.__decorate([l.default],t)}(p.PureComponent);t.default=b},1502:function(e,t,a){var n;Object.defineProperty(t,"__esModule",{value:!0})
;var o=a(1),i=a(574),r=a(81),s=a(12),l=a(7),d=((n={})[l.UploadContentType.Audio]="audioS3PolicyAndSig",n[l.UploadContentType.Image]="secureS3PolicyAndSig",
n[l.UploadContentType.PencilKitDrawing]="pencilKitS3PolicyAndSig",n),c=function(e){o.__extends(t,e);function t(t){var a=e.call(this)||this;a.localPadId=t;return a}
t.prototype.getOrRefreshS3Policy=function(e){var t=this;return new Promise((function(a){s.post({url:"/ep/pad/s3-policy",data:{localPadId:t.localPadId,version:3},analyticsTag:"get-s3-policy",
shardingKey:s.getShardingKeyForPad(t.localPadId),successHandler:function(t){var n=d[e];a(t[n])}})}))};return t=o.__decorate([r.nullifyProperties],t)}(i.default);t.default=c},1503:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(8),i=a(14),r=a(21),s=a(12),l=a(4),d=a(29),c=a(108),u=a(0),p=a(2),m=a(289),h=a(1504),f=(0,i.MsgFactory)("modals"),g=f.F,v=f._f,b=(0,
f.defineMessages)({choosealanguage:{msg:"Choose a language"},close:{msg:"Close",description:"Label for the close button on a language selection modal"}});(0,p.defineMessages)({choosealanguage:{
id:"RWqDb6",defaultMessage:"Choose a language"},close:{id:"gqGhBm",defaultMessage:"Close"}});var y=function(e){var t=e.onClose,a=e.open;return u.createElement(l.TrackContext,{
trackContext:l.AppContext.LanguagePopup},u.createElement(c.Modal,{open:a,withCloseButton:v(b.close),onRequestClose:t,"aria-labelledby":"language-modal-title"},u.createElement(c.Modal.Header,{
hasBottomSpacing:"title-standard"},u.createElement(c.Modal.Title,{id:"language-modal-title"},u.createElement(g,n.__assign({},b.choosealanguage)))),u.createElement(c.Modal.Body,{hasVerticalSpacing:!1
},u.createElement("ul",{className:h.default.languageList},m.getSortedLocalesVisibleToCurrentUser(o.default.isAppAdmin||o.default.isDropboxer||o.default.canDebug).map((function(e){
var a=e.locale,n=e.name;return u.createElement("li",{className:"notranslate",key:a},u.createElement(r.default,{variant:"transparent",hasNoUnderline:!0,href:"?cl=".concat(a),onClick:function(e){
return function(e,a){e.preventDefault();s.post({url:"/ep/account/set-locale",data:{locale:a},analyticsTag:"submit-language",shardingKey:s.getStatelessShardingKey(),successHandler:function(){t();(0,
d.locationReload)("locale-change",!0)},errorHandler:function(){t();return!0}})}(e,a)}},n))})))),u.createElement(c.Modal.Footer,null)))};y.displayName="LanguageModal";y.displayName="LanguageModal"
;t.default=y},1504:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.languageList=void 0;a(1505);t.languageList="_languageList_1x3xi_1";t.default={languageList:"_languageList_1x3xi_1"
}},1505:function(e,t,a){},1506:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(169),i=a(2),r=a(1507),s=a(10),l=a(103),d=a(606),c=a(23),u=a(0),p=a(4),m=(0,
a(5).PaperIntlFactory)().F,h=(0,i.defineMessages)({beta:{id:"8Dtg9+",defaultMessage:"Beta"},new:{id:"ZAPyt+",defaultMessage:"New"},getdesktopapp:{id:"0ITm7s",defaultMessage:"Get desktop app"}
}),f=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.downloadAttempted=!1;a.markAllDesktopPromotionTourStopsAsCompleted=function(){
o.desktopAppPromotionTourStopNames.forEach((function(e){return a.context.stores.onboarding.markCompleted(e,(function(){}),(function(){}))}))};a.handleClick=function(){
p.IntentionEvent.DesktopAppPromotionAssistMenuClick.track();p.trackUi("paper-desktop-promotion assist-menu click");a.setState({downloadModalOpened:!0})};a.handleModalDownloadClick=function(){
a.downloadAttempted=!0;o.startPaperDesktopAppDownload()};a.handleModalClose=function(){a.downloadAttempted&&a.markAllDesktopPromotionTourStopsAsCompleted();a.downloadAttempted=!1;a.setState({
downloadModalOpened:!1})};a.state={downloadModalOpened:!1};return a}t.prototype.render=function(){var e=u.createElement(m,n.__assign({},h.beta))
;return u.createElement(l.HpMenuItem,null,u.createElement(s.default,{id:"hp-desktop-app-promo-menu-item",onClick:this.handleClick},u.createElement(d.default,{badge:e,muted:!0
},u.createElement(m,n.__assign({},h.getdesktopapp))),this.state.downloadModalOpened?u.createElement(r.DesktopDownloadModal,{onDownloadClick:this.handleModalDownloadClick,onClose:this.handleModalClose
}):null))};t.displayName="DesktopAppMenuItem";t.contextTypes={stores:c.object.isRequired};return t}(u.Component);t.default=f},1507:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.DesktopDownloadModal=void 0;var n=a(1),o=a(8),i=a(2),r=a(10),s=a(73),l=a(70),d=a(0),c=a(4),u=a(61),p=(0,a(5).PaperIntlFactory)().F,m=(0,i.defineMessages)({paperformacOS:{id:"pug8WN",
defaultMessage:"Paper for macOS"},paperforWindows:{id:"1rYVKt",defaultMessage:"Paper for Windows"},todownloadPaperyoullneedtheDropboxappinstalledandrunningonyourcomputerdropboxDesktopAppDownloadLink:{
id:"Q6CdVk",defaultMessage:"To download Paper, youâ€™ll need the Dropbox app installed and running on your computer. {dropboxDesktopAppDownloadLink}"},downloadDropboxapp:{id:"ZpQkqC",
defaultMessage:"Download Dropbox app"},downloadPaperapp:{id:"AXruDx",defaultMessage:"Download Paper app"}}),h=function(e){return e>Date.now()-1e4};t.DesktopDownloadModal=function(e){
var t=e.onDownloadClick,a=e.onClose,f=u.default.mac?"mac":u.default.windows?"win":"linux",g=d.useRef([]),v=d.useState(!1),b=v[0],y=v[1],E=d.useMemo((function(){return function(e){t(e)
;if(b)c.trackUi("paper-desktop-download-modal user already frustrated");else{g.current=n.__spreadArray(n.__spreadArray([],g.current.filter(h),!0),[Date.now()],!1);if(g.current.length>=3){y(!0)
;c.trackUi("paper-desktop-download-modal user frustrated")}}}
}),[g.current]),k=d.createElement(p,n.__assign({},m.paperformacOS)),_=d.createElement(p,n.__assign({},m.paperforWindows)),C=d.createElement(s.default,{className:"desktop-app-modal-illustration",
src:"/static/img/desktop/paper-desktop-icon-mac-45.png"}),S=d.createElement(s.default,{className:"desktop-app-modal-illustration",src:"/static/img/desktop/paper-desktop-icon-windows.png"})
;return d.createElement(i.IntlProvider,{locale:o.default.userLocale},d.createElement(l.default,{className:"desktop-app-modal",onClose:a,openOnMount:!0,closeButton:!0,size:"mediumlarge"
},"mac"==f?C:S,d.createElement("div",{className:"desktop-app-modal-title"},"mac"==f?k:_),d.createElement("div",{className:"desktop-app-modal-content"
},d.createElement("p",null,d.createElement(p,n.__assign({values:{dropboxDesktopAppDownloadLink:d.createElement("a",{href:"https://www.dropbox.com/install",target:"_blank",rel:"noreferrer"
},d.createElement(p,n.__assign({},m.downloadDropboxapp)))}},m.todownloadPaperyoullneedtheDropboxappinstalledandrunningonyourcomputerdropboxDesktopAppDownloadLink)))),d.createElement(r.default,{
className:"desktop-app-modal-button",primary:!0,onClick:E},d.createElement(p,n.__assign({},m.downloadPaperapp)))))};t.DesktopDownloadModal.displayName="DesktopDownloadModal"},1508:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(2),i=a(10),r=a(103),s=a(1509),l=a(23),d=a(0),c=(0,a(5).PaperIntlFactory)().F,u=(0,o.defineMessages)({darkmode:{id:"jTEUz5",
defaultMessage:"Dark mode"}}),p=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.openPopup=function(){(0,s.open)({omnibar:this.context.omnibar,
themeService:this.context.themeService})};t.prototype.render=function(){return d.createElement(r.HpMenuItem,null,d.createElement(i.default,{id:"toggle-dark-mode",className:"",
onClick:this.openPopup.bind(this)},d.createElement(c,n.__assign({},u.darkmode))))};t.displayName="PaperNoirMenuItem";t.contextTypes={omnibar:l.object,themeService:l.object};return t}(d.PureComponent)
;t.default=p},1509:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.open=void 0
;var n=a(1),o=a(6),i=a(231),r=a(8),s=a(2),l=a(18),d=a(10),c=a(14),u=a(66),p=a(70),m=a(40),h=a(0),f=a(36),g=a(24),v=a(71),b=a(4),y=(0,a(5).PaperIntlFactory)().F,E=(0,s.defineMessages)({auto:{
id:"9f93ZS",defaultMessage:"Auto"},turnsondarkmodeautomaticallywheneveryourdeviceisindarkmode:{id:"O4s+Yw",defaultMessage:"Turns on dark mode automatically whenever your device is in dark mode."},
cookieInfo:{id:"VY4L57",defaultMessage:"To remember your dark mode preference, please allow {cookieCategory} cookies."},cookieCategory:{id:"xYL2bq",defaultMessage:"Performance and Functionality"},
cookiesLinkText:{id:"9y6WMg",defaultMessage:"Open cookie preferences"},darkmode:{id:"TlNvWU",defaultMessage:"Dark mode"},on:{id:"/uECqz",defaultMessage:"On"},off:{id:"KXwFI5",defaultMessage:"Off"},
close:{id:"AM5gNi",defaultMessage:"Close"}}),k=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={themePref:t.props.themeService.getThemePref()}
;t.saveThemeChange=function(){return n.__awaiter(t,void 0,void 0,(function(){var e,t;return n.__generator(this,(function(a){switch(a.label){case 0:
return(e=this.refs.radioGroup.querySelector("input[name=theme]:checked"))?(t=e.value)==this.state.themePref?[3,2]:[4,this.props.omnibar.runCommandById("change_theme",{theme:[t]})]:[3,2];case 1:
a.sent();a.label=2;case 2:return[2]}}))}))};t.changeThemeThrottled=o.throttle(t.saveThemeChange,1e3,{trailing:!1});return t}t.prototype.componentDidMount=function(){
this.props.themeService.on("changePref",this.handleThemePrefChange.bind(this))};t.prototype.componentWillUnmount=function(){this.props.themeService.off("changePref",this.handleThemePrefChange)}
;t.prototype.handleThemePrefChange=function(e){e!=this.state.themePref&&this.setState({themePref:e})};t.prototype.render=function(){var e=(0,
u.isApollo)()?this.changeThemeThrottled:this.saveThemeChange,t=this.props.themeService.isSystemThemeControlSupported(),a=this.state.themePref;"system"!==a||t||(a=this.props.themeService.getTheme())
;var o=null;if(!(0,i.trackingAllowedForCategories)([i.ConsentCookieCategory.PerformanceFunctionality])){var r=h.createElement("b",null,h.createElement(y,n.__assign({},E.cookieCategory)))
;o=h.createElement("div",{style:{padding:"var(--spacing__base_unit) var(--spacing__unit--2)",margin:"var(--spacing__base_unit) var(--spacing__unit--2) var(--spacing__unit--2)",
border:"1px solid var(--color__standard__border)"}},h.createElement("p",null,h.createElement(y,n.__assign({},E.cookieInfo,{values:{cookieCategory:r}}))),h.createElement("p",null,h.createElement("a",{
href:"#manage-cookies",target:"_blank",onClick:i.maybeOpenCookiePrefs},h.createElement(y,n.__assign({},E.cookiesLinkText)))))}var s=t?h.createElement("p",null,h.createElement("input",{type:"radio",
id:"system",className:"hp-legacy-radio",name:"theme",value:"system",checked:"system"===a,onClick:e,readOnly:!0}),h.createElement("label",{htmlFor:"system"
},h.createElement(y,n.__assign({},E.auto))),h.createElement("br",null),h.createElement("div",{className:"option-description"
},h.createElement(y,n.__assign({},E.turnsondarkmodeautomaticallywheneveryourdeviceisindarkmode)))):null;return h.createElement(b.TrackContext,{trackContext:b.AppContext.ThemePopup
},h.createElement(p.default,{openOnMount:!0,size:"medium",onClose:this.props.onClose,className:"hp-theme-popup",closeButton:!0},h.createElement("div",{
className:"hp-theme-popup-content hp-popup-link-access",ref:"radioGroup"
},h.createElement("h1",null,h.createElement(y,n.__assign({},E.darkmode))),o,h.createElement("fieldset",null,h.createElement("p",null,h.createElement("input",{type:"radio",id:"dark",
className:"hp-legacy-radio",name:"theme",value:"dark",checked:"dark"===a,onClick:e,readOnly:!0}),h.createElement("label",{htmlFor:"dark"
},h.createElement(y,n.__assign({},E.on)))),h.createElement("p",null,h.createElement("input",{type:"radio",id:"light",className:"hp-legacy-radio",name:"theme",value:"light",checked:"light"===a,
onClick:e,readOnly:!0}),h.createElement("label",{htmlFor:"light"},h.createElement(y,n.__assign({},E.off)))),s,h.createElement("div",{className:"hp-theme-select-button-container"
},h.createElement(d.default,{primary:!0,onClick:this.props.onClose},h.createElement(y,n.__assign({},E.close))))))))};t.displayName="PaperNoirPopup";return t=n.__decorate([m.default],t)
}(h.PureComponent);t.default=k;t.open=function(e){var t=document.querySelector("#hp-popup-container"),a=function(){g.unmountComponentAtNode(t);(0,l.empty)(t)};a()
;f.reactDomRender(h.createElement(v.ToastAndUnmountErrorBoundary,null,h.createElement(c.IntlProvider,{locale:r.default.userLocale},h.createElement(k,n.__assign({onClose:a},e)))),t)}},
1510:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.TipsSidebar=void 0;var n=a(1),o=a(459),i=a(23),r=a(0),s=a(1511),l=a(4),d=a(17),c=function(e){n.__extends(t,e);function t(t){
var a=e.call(this,t)||this;a.panelId="tips";a.openTipsSidebar=function(){a.setState({isOpen:!0,wasEverOpened:!0});l.IntentionEvent.OpenTipsSidebar.track()};a.handleTipsSidebarClose=function(){
a.setState({isOpen:!1,selectedTipId:null});l.IntentionEvent.CloseTipsSidebar.track()};a.updateSelectedTipId=function(e){a.setState({selectedTipId:e})};a.state={isOpen:!1,wasEverOpened:!1,
selectedTipId:a.props.initialTipId};return a}t.prototype.componentDidMount=function(){this.context.panels&&this.context.panels.registerPanel(this);var e=d.default.consumeQueryParam("openTip");if(e){
this.setState({selectedTipId:e});this.openTipsSidebar()}};t.prototype.componentWillUnmount=function(){this.context.panels&&this.context.panels.unregisterPanel(this)};t.prototype.openPanel=function(){
this.state.isOpen||this.openTipsSidebar()};t.prototype.closePanel=function(){this.state.isOpen&&this.handleTipsSidebarClose()};t.prototype.ensurePrerendered=function(){this.setState({wasEverOpened:!0
})};t.prototype.render=function(){var e=this,t=this.state.selectedTipId?r.createElement(s.TipsDetailsPane,{onPreviousClicked:function(){return e.setState({selectedTipId:null})},
onTipSelected:this.updateSelectedTipId,tipId:this.state.selectedTipId}):r.createElement(s.TipsMenuPane,{onTipSelected:this.updateSelectedTipId});return r.createElement(l.TrackContext,{
trackContext:l.AppContext.TipsSidebar},r.createElement(o.AssistMenuSidebar,n.__assign({},this.props,{shouldUpdate:!0,className:"tips-sidebar dark-sidebar",closeOnOutsideClick:!0,
open:this.state.isOpen,onClose:this.handleTipsSidebarClose}),t))};t.displayName="TipsSidebar";t.contextTypes={panels:i.object,themeService:i.object};return t}(r.Component);t.TipsSidebar=c},
1511:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.TipsDetailsPane=t.TipsMenuPane=void 0
;var n=a(1),o=a(6),i=a(3),r=a(2),s=a(101),l=a(10),d=a(1512),c=a(607),u=a(0),p=a(52),m=a(13),h=(0,a(5).PaperIntlFactory)(),f=h.F,g=h._f,v=(0,r.defineMessages)({navigatePrevTip:{id:"VIW9kc",
defaultMessage:"Navigate to previous tip"},navigateNextTip:{id:"xGP+w1",defaultMessage:"Navigate to next tip"},sharingadoc:{id:"bVYca8",defaultMessage:"Sharing a doc"},invite:{id:"sTZgnw",
defaultMessage:"Invite"},share:{id:"CcpVyl",defaultMessage:"Share"},addingcomments:{id:"6REo/o",defaultMessage:"Adding comments"},stickersincomments:{id:"/xs3XV",defaultMessage:"Stickers in comments"
},formattingtext:{id:"DtgUg8",defaultMessage:"Formatting text"},mentioningcollaborators:{id:"c4tuKt",defaultMessage:"Mentioning collaborators"},creatingtasks:{id:"TtcqSE",
defaultMessage:"Creating tasks"},assigningtasks:{id:"DfTZzV",defaultMessage:"Assigning tasks"},addingemojisandstickers:{id:"dIRIic",defaultMessage:"Adding emojis and stickers"},
typecolontobringuptheemojipicker:{id:"mNKpW4",defaultMessage:"Type {colon} to bring up the emoji picker."},insertatable:{id:"zLeg2y",defaultMessage:"Insert a table"},
startanewlineandselectthetableButtonicontoinsertatable:{id:"+MnYmE",defaultMessage:"Start a new line and select the {tableButton} icon to insert a table."},
clicktheinsertButtoniconintheleftmarginandselectthetableButtonicontoinsertatable:{id:"sdnT50",
defaultMessage:"Click the {insertButton} icon in the left margin and select the {tableButton} icon to insert a table."},addingimages:{id:"iJ31LY",defaultMessage:"Adding images"},
arrangingimagesinagallery:{id:"eyNvmr",defaultMessage:"Arranging images in a gallery"},addingvideos:{id:"gGk+l8",defaultMessage:"Adding videos"},
pasteinalinkfromYouTubeorVimeoandplaythevideorightinthedoc:{id:"W26Lan",defaultMessage:"Paste in a link from YouTube or Vimeo and play the video right in the doc."},codeblocks:{id:"tpugiM",
defaultMessage:"Code blocks"},typethreebackticksbacktickstostartcodeblocks:{id:"izvu5a",defaultMessage:"Type three back ticks ({backticks}) to start code blocks."},
typetwodollarsignsdollarSignstostartenteringlatex:{id:"P17EUW",defaultMessage:"Type two dollar signs ({dollarSigns}) to start entering {latex}."},dropboxHelpCenter:{id:"6VsOdB",
defaultMessage:"Dropbox Help Center"},onablanklineselectcodeIconorjusttypebackticksbackticksforautomaticlanguagedetectionandsyntaxhighlighting:{id:"qDJgwJ",
defaultMessage:"On a blank line, select {codeIcon} or just type 3 backticks ({backticks}) for automatic language detection and syntax highlighting."},invitepeopletodocs:{id:"fMAEYb",
defaultMessage:"Invite people to docs"},sendaninvitetoletthemviewcommentoreditthedoc:{id:"I9aVP5",defaultMessage:"Send an invite to let them view, comment, or edit the doc."},addacomment:{id:"Phg2FU",
defaultMessage:"Add a comment"},selecttextorphotothenclickcommentButtontocomment:{id:"jQniaN",defaultMessage:"Select text or photo, then click {commentButton} to comment."},addasticker:{id:"gZVEcy",
defaultMessage:"Add a sticker"},selecttextorphotothenclickcommentButtonandthengotosmileyFacetopickasticker:{id:"FSlF+Q",
defaultMessage:"Select text or photo, then click {commentButton}, and then go to {smileyFace} to pick a sticker."},navigatingdocswiththetableofcontents:{id:"ngBZ1m",
defaultMessage:"Navigating docs with the table of contents"},formattext:{id:"6M062o",defaultMessage:"Format text"},selectsometextinyourdoctoseeoptions:{id:"fg+xrz",
defaultMessage:"Select some text in your doc to see options."},mentionsomeonebyname:{id:"8B35Xy",defaultMessage:"Mention someone by name"},typeatSymbolandanameoremailtosendaninviteorassignatodo:{
id:"S2OoCX",defaultMessage:"Type {atSymbol} and a name or email to send an invite or assign a to-do."},createatodo:{id:"hZa16J",defaultMessage:"Create a to-do"},
typetodotocreateatodoandsetaduedatetogetreminders:{id:"FYpeMl",defaultMessage:"Type {todo}  to create a to-do and set a due date to get reminders."},assignatodo:{id:"3bAIXp",
defaultMessage:"Assign a to-do"},createatodothentypeatSymbolandsomeonesnameoremailtoassignittothem:{id:"O4rbMv",
defaultMessage:"Create a to-do, then type {atSymbol} and someoneâ€™s name or email to assign it to them."},usingkeyboardshortcuts:{id:"xoJNRv",defaultMessage:"Using keyboard shortcuts"},addemojiemoji:{
id:"vGqZhb",defaultMessage:"Add emoji {emoji}"},typecolonandchooseafunemojilikeemojioremojioremoji:{id:"3vGp2I",
defaultMessage:"Type {colon} and choose a fun emoji, like {emoji1} or {emoji2} or {emoji3}."},createatable:{id:"wHlMFE",defaultMessage:"Create a table"},
onablanklineselectthetableButtonicontoaddatable:{id:"6sW52f",defaultMessage:"On a blank line, select the {tableButton} icon to add a table."},addaphoto:{id:"Z7L5iM",defaultMessage:"Add a photo"},
onablanklineselectaddImageButtonorchoosefromaDropboxfolder:{id:"o9J/RQ",defaultMessage:"On a blank line, select {addImageButton} or choose from a Dropbox folder."},createaphotogallery:{id:"rvkJ1k",
defaultMessage:"Create a photo gallery"},draginmultiplephotostocreateaninstantgallery:{id:"gnZdRB",defaultMessage:"Drag in multiple photos to create an instant gallery."},addavideo:{id:"GVTCbu",
defaultMessage:"Add a video"},onablanklinechooseaddMediafromthemenuorjustpastealinkfromYouTubeorVimeo:{id:"lOwHZN",
defaultMessage:"On a blank line, choose {addMedia} from the menu or just paste a link from YouTube or Vimeo."},addsomecode:{id:"Vcchbz",defaultMessage:"Add some code"},formatwithlatexLogo:{
id:"Tbn5Xp",defaultMessage:"Format with {latexLogo}"},typedollarSignstostartenteringlatex:{id:"rZcj87",defaultMessage:"Type {dollarSigns} to start entering {latex}."},dateandtime:{id:"B8nDpe",
defaultMessage:"Date and time"},typedateortimetoaddthecurrentdateortime:{id:"bZ+6iS",defaultMessage:"Type {date} or {time} to add the current date or time."},copyingaheaderslink:{id:"5/3KFt",
defaultMessage:"Copying a headerâ€™s link"},basics:{id:"X86+76",defaultMessage:"Basics"},text:{id:"wzKMOb",defaultMessage:"Text"},tables:{id:"GT2vE3",defaultMessage:"Tables"},imagesandvideos:{
id:"JCpPbc",defaultMessage:"Images and videos"},code:{id:"raxpN5",defaultMessage:"Code"},learnmoreaboutusingPaper:{id:"i76+1u",defaultMessage:"Learn more about using Paper"},tipsandTricks:{
id:"CS2jAG",defaultMessage:"Tips and Tricks"},featured:{id:"rjGtXW",defaultMessage:"Featured"},more:{id:"S6stj+",defaultMessage:"More"},relatedtips:{id:"Y88lEz",defaultMessage:"Related tips"},
paperguide:{id:"DJHTE3",defaultMessage:"Paper guide"},hover:{id:"5pIpMe",
defaultMessage:"Hover on the left side of a doc to reveal the table of contents. Click on a heading to go directly to that section. New sections are created by using the large and medium header formatting options."
},click:{id:"QLA+4N",defaultMessage:"Click the {assistMenuButton} in the bottom right of any doc and choose â€œKeyboard shortcutsâ€ to see a list of keyboard shortcuts and macros."},clickBookmark:{
id:"yubQ5k",defaultMessage:"Click the bookmark icon next to any heading to copy a link directly to that heading."}}),b=function(e){return u.createElement("div",{
className:"tips-details-video-container"},u.createElement("video",{autoPlay:!0,controls:!1,loop:!0,muted:!0,className:"tips-details-video",key:e.videoName},u.createElement("source",{type:"video/mp4",
src:(0,p.default)("/static/img/product/".concat(e.videoName).concat((0,d.isRetinaDisplay)()?"_2x":"",".mp4"))})))},y=function(){return u.createElement(l.default,{className:"tips-inline-button"
},u.createElement(m.default,{name:"tips-comment-inline"}))},E={ellipsisIcon:u.createElement((function(){return u.createElement(l.default,{className:"tips-inline-button-small"
},u.createElement(m.default,{name:"dots"}))}),null),codeIcon:u.createElement((function(){return u.createElement(l.default,{className:"tips-inline-button-small"},u.createElement(m.default,{
name:"insert-code"}))}),null),backticks:u.createElement("kbd",null,"```")},k=u.createElement("div",null,u.createElement(f,n.__assign({values:E
},v.onablanklineselectcodeIconorjusttypebackticksbackticksforautomaticlanguagedetectionandsyntaxhighlighting))),_={paper_share_doc:{id:"paper_share_doc",sectionid:"paper",
title:u.createElement(f,n.__assign({},v.invitepeopletodocs)),content:u.createElement("div",null,u.createElement(f,n.__assign({},v.sendaninvitetoletthemviewcommentoreditthedoc))),
time:new Date("Apr 24, 2016"),video:u.createElement(b,{videoName:"share_doc"}),thumbnail:u.createElement(m.default,{name:"tips-sharing"})},paper_add_comments:{id:"paper_add_comments",
sectionid:"paper",title:u.createElement(f,n.__assign({},v.addacomment)),content:u.createElement("div",null,u.createElement(f,n.__assign({values:{commentButton:u.createElement(y,null)}
},v.selecttextorphotothenclickcommentButtontocomment))),time:new Date("Apr 25, 2016"),video:u.createElement(b,{videoName:"add_comment"}),thumbnail:u.createElement(m.default,{name:"tips-comment"})},
paper_add_stickers:{id:"paper_add_stickers",sectionid:"paper",title:u.createElement(f,n.__assign({},v.addasticker)),content:u.createElement("div",null,u.createElement(f,n.__assign({values:{
commentButton:u.createElement(y,null),smileyFace:u.createElement((function(){return u.createElement(l.default,{className:"tips-inline-button-small"},u.createElement(m.default,{name:"stickers"}))
}),null)}},v.selecttextorphotothenclickcommentButtonandthengotosmileyFacetopickasticker))),time:new Date("Apr 3, 2016"),video:u.createElement(b,{videoName:"stickers_comment"}),
thumbnail:u.createElement(m.default,{name:"tips-emoji"})},paper_nav_docs_with_table_of_contents:{id:"paper_nav_docs_with_table_of_contents",sectionid:"paper",
title:u.createElement(f,n.__assign({},v.navigatingdocswiththetableofcontents)),content:u.createElement("div",null,u.createElement(f,n.__assign({},v.hover))),time:new Date("Apr 4, 2016"),video:null,
thumbnail:null},text_formatting:{id:"text_formatting",sectionid:"text",title:u.createElement(f,n.__assign({},v.formattext)),
content:u.createElement("div",null,u.createElement(f,n.__assign({},v.selectsometextinyourdoctoseeoptions))),time:new Date("Apr 16, 2016"),video:u.createElement(b,{videoName:"feature_formatting_text"
}),thumbnail:u.createElement(m.default,{name:"tips-format"})},text_mentions:{id:"text_mentions",sectionid:"text",title:u.createElement(f,n.__assign({},v.mentionsomeonebyname)),
content:u.createElement("div",null,u.createElement(f,n.__assign({values:{atSymbol:u.createElement("kbd",null,"@")}},v.typeatSymbolandanameoremailtosendaninviteorassignatodo))),
time:new Date("Apr 6, 2016"),video:u.createElement(b,{videoName:"at_mention_in_doc"}),thumbnail:u.createElement(m.default,{name:"tips-mention"})},text_tasks:{id:"text_create_tasks",sectionid:"text",
title:u.createElement(f,n.__assign({},v.createatodo)),content:u.createElement("div",null,u.createElement(f,n.__assign({values:{todo:u.createElement("kbd",null,"[]")}
},v.typetodotocreateatodoandsetaduedatetogetreminders))),time:new Date("Apr 7, 2016"),video:u.createElement(b,{videoName:"feature_formatting_text"}),thumbnail:u.createElement(m.default,{
name:"tips-create-task"})},text_mention_to_assign:{id:"text_mention_to_assign",sectionid:"text",title:u.createElement(f,n.__assign({},v.assignatodo)),
content:u.createElement("div",null,u.createElement(f,n.__assign({values:{atSymbol:u.createElement("kbd",null,"@")}},v.createatodothentypeatSymbolandsomeonesnameoremailtoassignittothem))),
time:new Date("Apr 13, 2016"),video:u.createElement(b,{videoName:"task_management_made_simple"}),thumbnail:u.createElement(m.default,{name:"tips-assign-task"})},text_keyboard_shortcuts:{
id:"text_keyboard_shortcuts",sectionid:"text",title:u.createElement(f,n.__assign({},v.usingkeyboardshortcuts)),content:u.createElement("div",null,u.createElement(f,n.__assign({},v.click,{values:{
assistMenuButton:u.createElement((function(){return u.createElement(l.default,{id:"hp-editor-assist-button",className:"tips-inline-button",secondary:!0},"?")}),null)}}))),time:new Date("Apr 9, 2016"),
video:null,thumbnail:null},text_emoji_in_doc:{id:"text_emoji_in_doc",sectionid:"text",title:u.createElement(f,n.__assign({values:{emoji:"ðŸŽ‰"}},v.addemojiemoji)),
content:u.createElement("div",null,u.createElement(f,n.__assign({values:{colon:u.createElement("kbd",null,":"),emoji1:"ðŸ•",emoji2:"ðŸ¶",emoji3:"ðŸ˜"}
},v.typecolonandchooseafunemojilikeemojioremojioremoji))),time:new Date("Apr 10, 2016"),video:u.createElement(b,{videoName:"emojis_tab"}),thumbnail:u.createElement(m.default,{name:"tips-emoji-text"})
},table_insert:{id:"table_insert",sectionid:"tables",title:u.createElement(f,n.__assign({},v.createatable)),content:u.createElement("div",null,u.createElement(f,n.__assign({values:{
tableButton:u.createElement((function(){return u.createElement(l.default,{className:"tips-inline-button-small"},u.createElement(m.default,{name:"insert-table"}))}),null)}
},v.onablanklineselectthetableButtonicontoaddatable))),time:new Date("Apr 11, 2016"),video:u.createElement(b,{videoName:"insert_table"}),thumbnail:u.createElement(m.default,{name:"tips-insert-table"})
},images_adding:{id:"images_adding",sectionid:"images",title:u.createElement(f,n.__assign({},v.addaphoto)),content:u.createElement("div",null,u.createElement(f,n.__assign({values:{
addImageButton:u.createElement((function(){return u.createElement(l.default,{className:"tips-inline-button-small"},u.createElement(m.default,{name:"insert-image"}))}),null)}
},v.onablanklineselectaddImageButtonorchoosefromaDropboxfolder))),time:new Date("Apr 15, 2016"),video:u.createElement(b,{videoName:"add_image"}),thumbnail:u.createElement(m.default,{
name:"tips-insert-image"})},images_move_in_gallery:{id:"images_move_in_gallery",sectionid:"images",title:u.createElement(f,n.__assign({},v.createaphotogallery)),
content:u.createElement("div",null,u.createElement(f,n.__assign({},v.draginmultiplephotostocreateaninstantgallery))),time:new Date("Apr 13, 2016"),video:u.createElement(b,{videoName:"image_gallery"}),
thumbnail:u.createElement(m.default,{name:"tips-arrange-images"})},smart_paste_youtube:{id:"smart_paste_youtube",sectionid:"images",title:u.createElement(f,n.__assign({},v.addavideo)),
content:u.createElement("div",null,u.createElement(f,n.__assign({values:{addMedia:u.createElement((function(){return u.createElement(l.default,{className:"tips-inline-button-small"
},u.createElement(m.default,{name:"media"}))}),null)}},v.onablanklinechooseaddMediafromthemenuorjustpastealinkfromYouTubeorVimeo))),time:new Date("Apr 23, 2016"),video:u.createElement(b,{
videoName:"add_media"}),thumbnail:u.createElement(m.default,{name:"tips-youtube"})},smart_code_blocks:{id:"smart_code_blocks",sectionid:"smart",title:u.createElement(f,n.__assign({},v.addsomecode)),
content:k,time:new Date("Apr 14, 2016"),video:u.createElement(b,{videoName:"add_code_blocks"}),thumbnail:u.createElement(m.default,{name:"tips-code"})},smart_latex:{id:"smart_latex",sectionid:"smart",
title:u.createElement(f,n.__assign({values:{latexLogo:u.createElement(c.default,{scale:1})}},v.formatwithlatexLogo)),content:u.createElement("div",null,u.createElement(f,n.__assign({values:{
dollarSigns:u.createElement("kbd",null,"$$"),latex:u.createElement(c.default,{scale:.8})}},v.typedollarSignstostartenteringlatex))),time:new Date("Apr 15, 2016"),video:u.createElement(b,{
videoName:"latex"}),thumbnail:u.createElement(m.default,{name:"tips-latex"})},smart_date_time:{id:"smart_date_time",sectionid:"smart",title:u.createElement(f,n.__assign({},v.dateandtime)),
content:u.createElement("div",null,u.createElement(f,n.__assign({values:{date:u.createElement("kbd",null,"/date"),time:u.createElement("kbd",null,"/time")}
},v.typedateortimetoaddthecurrentdateortime))),time:new Date("Apr 15, 2016"),video:null,thumbnail:null},smart_copy_header_link:{id:"smart_copy_header_link",sectionid:"smart",
title:u.createElement(f,n.__assign({},v.copyingaheaderslink)),content:u.createElement("div",null,u.createElement(f,n.__assign({},v.clickBookmark))),time:new Date("Apr 16, 2016"),video:null,
thumbnail:null}},C={},S={paper:{title:u.createElement(f,n.__assign({},v.basics)),tipIds:[]},text:{title:u.createElement(f,n.__assign({},v.text)),tipIds:[]},tables:{
title:u.createElement(f,n.__assign({},v.tables)),tipIds:[]},images:{title:u.createElement(f,n.__assign({},v.imagesandvideos)),tipIds:[]},smart:{title:u.createElement(f,n.__assign({},v.code)),tipIds:[]
}};o.forEach(_,(function(e,t){if(e.video){C[t]=e;S[e.sectionid].tipIds.push(t)}}));var w=function(e){var t=C[e.tipId];return u.createElement("div",{className:"tips-details-view"
},t.video,u.createElement("div",{className:"tips-details-text"},u.createElement("div",{className:"tips-details-title"},t.title),t.content))};w.displayName="TipsDetailsView";var I=function(e){
var t=S[e.sectionId].tipIds.map((function(t){var a=e.excludedTipIds||[];if(o.includes(a,t))return null;var n=C[t].title,r=e.selectedTipIds||[],s=o.includes(r,t);return u.createElement(l.default,{
styleless:!0,disabled:s,className:"tips-summary-item",onClick:s?function(){}:function(a){e.onTipSelected(t)},key:t,"track-title":"smart_latex"==t?"LaTeX":n},u.createElement("span",{
className:"tips-summary-image"},C[t].thumbnail),u.createElement("span",{className:i("tips-summary-text",{"tips-summary-item-selected":s})},n))}));return u.createElement("div",{
className:"tips-summary-section"},t)};I.displayName="TipsSectionView";var x=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleScrollLeft=function(e){
var t=a.props.views.length,n=(a.state.currentIndex+t-1)%t;a.setState({currentIndex:n});a.props.onIndexChange(n)};a.handleScrollRight=function(e){var t=a.props.views.length,n=(a.state.currentIndex+1)%t
;a.setState({currentIndex:n});a.props.onIndexChange(n)};a.state={currentIndex:t.startIndex};return a}t.prototype.render=function(){if(0==this.props.views.length)return null
;var e=this.props.views.length>0,t=g(v.navigatePrevTip),a=g(v.navigateNextTip),n=e?u.createElement(l.default,{onClick:this.handleScrollLeft,className:"tips-gallery-left","track-title":"featured-left",
"aria-label":t},u.createElement(m.default,{name:"back-arrow"})):null,o=e?u.createElement(l.default,{onClick:this.handleScrollRight,className:"tips-gallery-right","track-title":"featured-right",
"aria-label":a},u.createElement(m.default,{name:"chevron"})):null;return u.createElement("div",{className:this.props.classNames},n,this.props.views[this.state.currentIndex],o)}
;t.displayName="GalleryView";return t}(u.Component),T=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleRecentIndexChange=function(e){a.setState({recentTipIndex:e})}
;var n=o.sortBy(Object.keys(C),(function(e){return C[e].time})).reverse().slice(0,3);a.state={recentTipIndex:0,recentTipIds:n};return a}t.prototype.render=function(){
var e=this,t=this.state.recentTipIds.map((function(e){return u.createElement(w,{tipId:e})})),a=["paper","text","tables","images","smart"].map((function(t){return u.createElement("div",{
className:"tips-sidebar-section",key:t},u.createElement("h2",null,S[t].title),u.createElement(I,{sectionId:t,onTipSelected:e.props.onTipSelected}))})),o=(0,
s.dropboxUrl)("/help/topics/paper"),i=u.createElement(l.default,{href:o,target:"_blank",rel:"noreferrer"},u.createElement(f,n.__assign({},v.learnmoreaboutusingPaper)));return u.createElement("div",{
className:"tips-sidebar-menu-pane hp-assist-menu-sidebar-content"},u.createElement("div",{className:"tips-top-section"
},u.createElement("h1",null,u.createElement(f,n.__assign({},v.tipsandTricks))),u.createElement("h2",{className:"tips-recently-added-title"
},u.createElement(f,n.__assign({},v.featured)),u.createElement("span",{className:"tips-recently-added-counter notranslate"
},this.state.recentTipIndex+1,"/",this.state.recentTipIds.length)),u.createElement(x,{views:t,classNames:"tips-recently-added-gallery",startIndex:this.state.recentTipIndex,
onIndexChange:this.handleRecentIndexChange})),a,u.createElement("div",{className:"tips-sidebar-menu-pane-footer"},i))};t.displayName="TipsMenuPane";return t}(u.Component);t.TipsMenuPane=T
;t.TipsDetailsPane=function(e){var t=e.tipId,a=C[t].sectionid,o=S[a].tipIds.length>1?u.createElement("div",{className:"tips-more-tips-section"
},u.createElement("h2",null,u.createElement(f,n.__assign({},v.more))),u.createElement(I,{sectionId:a,onTipSelected:e.onTipSelected,selectedTipIds:[t]})):null;return u.createElement("div",{
className:"tips-sidebar-details-pane hp-assist-menu-sidebar-content"},u.createElement("div",{className:"tips-top-section"},u.createElement(l.default,{onClick:e.onPreviousClicked,
className:"hp-assist-menu-sidebar-details-header","track-title":"Back to Tips"},u.createElement(m.default,{name:"back-arrow"}),u.createElement("span",{className:"tips-back-arrow-text"
},u.createElement(f,n.__assign({},v.tipsandTricks)))),u.createElement(w,{tipId:t})),o)};t.TipsDetailsPane.displayName="TipsDetailsPane"},1512:function(e,t){Object.defineProperty(t,"__esModule",{
value:!0});t.isRetinaDisplay=void 0;t.isRetinaDisplay=function(){
return window.matchMedia&&window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)").matches}},1513:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});var n=a(1),o=a(6),i=a(1514),r=a(12),s=a(10),l=a(0),d=a(850),c=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={filter:"",debugTools:{}}
;t.fetchDebugTools=function(){r.get({url:"/debug-tools/list-all",analyticsTag:"debug-tools-list-all",shardingKey:r.getStatelessShardingKey(),successHandler:function(e){t.setState({
debugTools:e.availableDebugTools})}})};t.handleDebugToolToggled=function(e,a){var o=n.__assign({},t.state.debugTools);o[a].checked=e.target.checked
;t.postDebugToolChange(a,e.target.checked).then((function(){return t.setState({debugTools:o},t.props.debugToolsEditedCallback)}))};t.handleResetClick=function(e){e.preventDefault()
;t.postDebugToolReset().then((function(){t.resetAllDebugToolsToUnchecked()}))};t.resetAllDebugToolsToUnchecked=function(){var e=n.__assign({},t.state.debugTools);Object.keys(e).forEach((function(t){
e[t].checked=!1}));t.setState({debugTools:e},t.props.debugToolsEditedCallback)};t.postDebugToolReset=function(){return new Promise((function(e){return r.post({url:"/debug-tools/reset",
analyticsTag:"debug-tools-reset",shardingKey:r.getStatelessShardingKey(),successHandler:e})}))};t.postDebugToolChange=function(e,t){return new Promise((function(a){return r.post({
url:"/debug-tools/set-enabled",data:{name:e,value:t},analyticsTag:"debug-tools-set-enabled",shardingKey:r.getStatelessShardingKey(),successHandler:a})}))};t.handleFilterChange=function(e){t.setState({
filter:e.target.value})};return t}t.prototype.componentDidMount=function(){var e;this.fetchDebugTools();null===(e=this.debugToolInput)||void 0===e||e.focus()};t.prototype.render=function(){
var e=this,t=this.state,a=t.debugTools,n=t.filter,r=(0,d.scoreBy)(o.values(a),n,(function(e){return e.displayName})).map((function(t){return l.createElement("div",{key:t.name
},l.createElement(i.default,{key:t.name,name:t.name,displayName:t.displayName,onExperimentToggled:e.handleDebugToolToggled,checked:t.checked?"checked":""}))}));return l.createElement("div",{
className:"debug-tools-list"},l.createElement(s.default,{secondary:!0,onClick:this.handleResetClick},"Reset overrides"),l.createElement("input",{className:"debug-tools-panel-input",type:"text",
value:n,autoComplete:"off",autoCorrect:"off",ref:function(t){return e.debugToolInput=t},placeholder:"Filter",onChange:this.handleFilterChange}),r)};t.displayName="DebugToolsList";return t
}(l.PureComponent);t.default=c},1514:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(0),i={marginRight:4},r=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.onChange=function(e){t.props.onExperimentToggled(e,t.props.name)};return t}t.prototype.render=function(){return o.createElement("div",{
className:"experiment-list-item"},o.createElement("input",{style:i,onChange:this.onChange,type:"checkbox",id:"experiment-item-"+this.props.name,checked:!!this.props.checked}),o.createElement("label",{
htmlFor:"experiment-item-"+this.props.name},this.props.displayName))};t.displayName="ExperimentCheckbox";return t}(o.Component);t.default=r},1515:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});var n=a(1),o=a(3),i=a(6),r=a(10),s=a(120),l=a(11),d=a(83),c=a(0),u=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={omnibarFound:!1,
lastCommands:[],lastAvailableCommandIds:[],lastContext:{},commands:[],availableCommandIds:[],context:{},seenContextKeys:[],commandsExpanded:!1,contextExpanded:!0};t.handleContextChange=function(){
var e=t.getOmnibar(),a=e.getAvailableCommandIds(),n=e.getContext(),o=i.uniq(t.state.seenContextKeys.concat(Object.keys(n)));t.logContextChanges(t.state.context,n);t.setState({
lastAvailableCommandIds:t.state.availableCommandIds,lastContext:t.state.context,availableCommandIds:a,context:n,seenContextKeys:o})};t.handleCommandsChange=function(){
var e=t.getOmnibar(),a=e.getCommands(),n=e.getAvailableCommandIds(),o=e.getContext(),r=i.uniq(t.state.seenContextKeys.concat(Object.keys(o)));t.logContextChanges(t.state.context,o);t.setState({
lastCommands:t.state.commands,lastAvailableCommandIds:t.state.availableCommandIds,lastContext:t.state.context,commands:a,availableCommandIds:n,context:o,seenContextKeys:r})}
;t.runCommand=function(e,a){return n.__awaiter(t,void 0,void 0,(function(){var t,o;return n.__generator(this,(function(n){switch(n.label){case 0:t=document.activeElement
;return[4,this.getOmnibar().runCommandById(e,{},a)];case 1:o=n.sent();t&&!o.preserveFocus&&t.focus();return[2]}}))}))};return t}t.prototype.componentDidMount=function(){
var e=this.props.app.context.omnibar;if(e){var t=e.getCommands(),a=e.getAvailableCommandIds(),n=e.getContext(),o=i.uniq(this.state.seenContextKeys.concat(Object.keys(n)));this.setState({
omnibarFound:!0,commands:t,availableCommandIds:a,context:n,seenContextKeys:o});e.on("contextChange",this.handleContextChange);e.on("commandsChange",this.handleCommandsChange)}}
;t.prototype.getOmnibar=function(){var e=this.props.app.context.omnibar;if(!e)throw new Error("Omnibar engine missing from app context");return e};t.prototype.logContextChanges=function(e,t){
for(var a={},n=function(e,t){var a;if(e[t]){if(!(null===(a=e[t])||void 0===a?void 0:a.length))return[];var n=JSON.stringify(e[t]);return n.substr(2,n.length-4)}
},o=0,r=i.uniq(Object.keys(e).concat(Object.keys(t))).sort();o<r.length;o++){var s=r[o];i.isEqual(e[s],t[s])||(a[s]={"Previous context":n(e,s),"Current context":n(t,s)})}
0!=Object.keys(a).length&&console.table(a)};t.prototype.render=function(){var e=this;return this.state.omnibarFound?c.createElement("div",{className:"omnibar-debugger notranslate"},c.createElement(p,{
expanded:this.state.commandsExpanded,commands:this.state.commands,availableCommandIds:this.state.availableCommandIds,lastAvailableCommandIds:this.state.lastAvailableCommandIds,
runCommand:this.runCommand,onClickHeader:function(){return e.setState({commandsExpanded:!e.state.commandsExpanded})}}),c.createElement(h,{expanded:this.state.contextExpanded,
context:this.state.context,lastContext:this.state.lastContext,seenContextKeys:this.state.seenContextKeys,onClickHeader:function(){return e.setState({contextExpanded:!e.state.contextExpanded})}
})):c.createElement("div",{className:"omnibar-debugger notranslate"},"Omnibar not found.")};t.displayName="OmnibarDebugger";return t=n.__decorate([l.default],t)}(c.Component);t.default=u
;var p=function(e){for(var t=e.expanded,a=e.commands,n=e.availableCommandIds,s=e.lastAvailableCommandIds,l=e.runCommand,u=e.onClickHeader,p=i.orderBy(a,(function(e){return e.label
})),m=[],h=function(e){var t=-1!=n.indexOf(e.id),a=-1!=s.indexOf(e.id),i=o("command",{"is-available":t,"was-available":a}),u=c.createElement(c.Fragment,null,e.label);t&&(u=c.createElement(r.default,{
styleless:!0,onClick:function(t){t.preventDefault();t.stopPropagation();t.nativeEvent.stopImmediatePropagation();l(e.id,{inNewTab:(0,d.shouldOpenInNewTab)(t),inBackground:(0,
d.shouldOpenInNewWindow)(t)})}},u));m.push(c.createElement("li",{key:e.id,className:i},u))},f=0,g=p;f<g.length;f++){h(g[f])}return c.createElement("div",{className:o("command-list",{
"command-list-expanded":t})},c.createElement("h2",{role:"button",onClick:u},"Omnibar commands"),c.createElement("ul",null,m))};function m(e,t){var a,n
;return(null===(a=e[t])||void 0===a?void 0:a.length)?1==(null===(n=e[t])||void 0===n?void 0:n.length)?c.createElement("pre",null,JSON.stringify(e[t])):c.createElement("pre",{style:{textAlign:"left"}
},JSON.stringify(e[t],void 0,"  ")):null}var h=function(e){var t=e.expanded,a=e.context,n=e.seenContextKeys,r=e.onClickHeader,l=i.orderBy(n);return c.createElement("div",{className:o("context",{
"context-expanded":t})},c.createElement("h2",{role:"button",onClick:r},"Omnibar context"),c.createElement("ul",null,l.map((function(e){var t;return c.createElement("li",{key:e,
className:o("context-prop",{"is-missing":!a[e],"is-empty":0===(null===(t=a[e])||void 0===t?void 0:t.length)})},c.createElement(s.default,{className:"context-prop-inner",tooltipAbove:!0,tooltip:m(a,e)
},e,": ",a[e]?JSON.stringify(a[e]):"â€”"))}))))}},1516:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(26),i=a(12),r=a(10),s=a(0),l=a(63),d=a(1517),c=a(850),u=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleResetClick=function(e){e.preventDefault();i.post({
url:"/stormcrow/reset",successHandler:function(e){a.setState({features:e.features},(function(){a.props.editedCallback(e.features)}))},analyticsTag:"stormcrow-reset",
shardingKey:i.getStatelessShardingKey()})};a.handleFilterChange=function(e){a.setState({filter:e.target.value})};a.handleVariantChange=function(e){a.setState({features:e});a.props.editedCallback(e)}
;for(var o={},r=0,s=l.getFeatureMaps().reverse();r<s.length;r++){var d=s[r];o=n.__assign(n.__assign({},o),d)}a.state={filter:"",features:o};return a}t.prototype.componentDidMount=function(){var e
;null===(e=this.stormcrowFilterInput)||void 0===e||e.focus()};t.prototype.render=function(){var e=this,t=this.state,a=t.features,n=t.filter,i=Object.keys(a),l=(0,c.scoreBy)(i,n).map((function(t){
return s.createElement(d.default,{key:t,name:t,onUpdate:e.handleVariantChange,value:e.state.features[t]})}));return s.createElement("div",{className:"stormcrow-list"},s.createElement(r.default,{
secondary:!0,href:o.default.instancePathPrefix+"/admin/stormcrow/"},"Manage Stormcrow features"),s.createElement(r.default,{secondary:!0,style:{float:"right"},onClick:this.handleResetClick
},"Reset Overrides"),s.createElement("input",{type:"text",style:{height:40,marginBottom:8,marginTop:8,width:"100%"},value:this.state.filter,autoComplete:"off",autoCorrect:"off",ref:function(t){
return e.stormcrowFilterInput=t},placeholder:"Filter",onChange:this.handleFilterChange}),l)};t.displayName="StormcrowList";return t}(s.Component);t.default=u},1517:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(25),o=a(12),i=a(10),r=a(0),s=a(271),l=(0,n.createReactClass)({displayName:"StormcrowVariantInput",getInitialState:function(){return{isDirty:!1,
value:this.props.value,showSelector:"ON"===this.props.value||"OFF"===this.props.value}},onSelect:function(e){this.state.showSelector&&"__CUSTOM__"===e?this.setState({showSelector:!1}):this.setState({
isDirty:!0,value:e})},onChange:function(e){this.setState({isDirty:!0,value:e.target.value})},onUpdate:function(){var e=this;o.post({url:"/stormcrow/set-variant",data:{feature:this.props.name,
variant:this.state.value},analyticsTag:"stormcrow-set-variant",shardingKey:o.getStatelessShardingKey(),successHandler:function(t){e.setState({isDirty:!1},(function(){e.props.onUpdate(t.features)}))}})
},componentWillReceiveProps:function(e){e.value!=this.state.value&&this.setState({value:e.value})},render:function(){
var e=this.state.isDirty?"":"hidden",t=this.state.showSelector?r.createElement("div",{className:"stormcrow-variant"},r.createElement(s.Select,{onSelected:this.onSelect,size:"large",
id:"experiment-item-"+this.props.name},r.createElement(s.Option,{value:"ON",selected:"ON"===this.state.value},"ON"),r.createElement(s.Option,{value:"OFF",selected:"OFF"===this.state.value
},"OFF"),r.createElement(s.Option,{value:"__CUSTOM__"},"Custom..."))):r.createElement("input",{className:"stormcrow-variant",onChange:this.onChange,value:this.state.value,
id:"experiment-item-"+this.props.name});return r.createElement("div",{className:"stormcrow-list-item"},r.createElement("a",{className:"stormcrow-feature",
href:"https://www.dropbox.com/admin/stormcrow/#/features/name/"+this.props.name},this.props.name),t,r.createElement(i.default,{primary:!0,onClick:this.onUpdate,className:e},"Update"))}});t.default=l},
1518:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.userSurveyDevTool=void 0;var n=a(114),o=a(38),i=function(){function e(){this.config={};this._readFromStorage()}
e.prototype.getOverrideConfig=function(){return this.config};e.prototype.setNonDropboxerOverride=function(){this.config.nonDropboxerOverride=!0;this._writeToStorage()}
;e.prototype.resetNonDropboxerOverride=function(){this.config.nonDropboxerOverride=void 0;this._writeToStorage()};e.prototype.setUserIdOverride=function(){
this.config.userIdOverride="".concat(Date.now(),"_").concat(Math.floor(1e3*(0,o.smartRandom)()));this._writeToStorage()};e.prototype.resetUserIdOverride=function(){this.config.userIdOverride=void 0
;this._writeToStorage()};e.prototype.resetOverrides=function(){this.resetNonDropboxerOverride();this.resetUserIdOverride()};e.prototype._readFromStorage=function(){
this.config=n.localStorage.getObject(e.storage_key);if(!this.config){this.config={};this._writeToStorage()}};e.prototype._writeToStorage=function(){n.localStorage.setObject(e.storage_key,this.config)}
;e.storage_key="user_survey_dev_tool";return e}();t.userSurveyDevTool=new i},1519:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(25),o=a(0),i=a(413),r=a(259),s=(0,
n.createReactClass)({displayName:"SpringList",getInitialState:function(){return{springs:r.springSystem.getAllSprings()}},render:function(){var e=this.state.springs.map((function(e,t){
var a=e.getSpringConfig(),n=a.tension,i=a.friction;return o.createElement(l,{key:"spring".concat(t),config:a,name:e.getName(),tension:n,friction:i})}));return o.createElement("div",{
className:"debug-spring-list"},o.createElement("ul",{className:"debug-springs"},e))}});t.default=s;var l=(0,n.createReactClass)({displayName:"Spring",getInitialState:function(){return{
configTension:this.props.config.tension,configFriction:this.props.config.friction}},onChange:function(){
var e=parseInt(i.OrigamiValueConverter.tensionFromOrigamiValue(this.refs.tension.value),10),t=parseInt(i.OrigamiValueConverter.frictionFromOrigamiValue(this.refs.friction.value),10)
;this.props.config.tension=e;this.props.config.friction=t;this.setState({configTension:e,configFriction:t})},render:function(){
var e=this.props.name,t=parseInt(i.OrigamiValueConverter.origamiValueFromTension(this.state.configTension),10),a=parseInt(i.OrigamiValueConverter.origamiFromFriction(this.state.configFriction),10)
;return o.createElement("div",null,o.createElement("h4",null,e),o.createElement("label",null,"Tension: "),o.createElement("span",{className:"spring-value"},t),o.createElement("input",{ref:"tension",
type:"range",min:"1",max:"100",step:"1",value:String(t),onChange:this.onChange}),o.createElement("label",null,"Friction: "),o.createElement("span",{className:"spring-value"
},a),o.createElement("input",{ref:"friction",type:"range",min:"1",max:"30",step:"1",value:String(a),onChange:this.onChange}))}})},1521:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.WhatsNewSidebar=void 0;var n=a(1),o=a(459),i=a(4),r=a(23),s=a(0),l=a(249),d=a(1522),c=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.panelId="whatsnew"
;a.openWhatsNewSidebar=function(){a.setState({isOpen:!0,wasEverOpened:!0});i.IntentionEvent.OpenWhatsNewSidebar.track()};a.handleWhatsNewSidebarClose=function(){a.setState({isOpen:!1})
;i.IntentionEvent.CloseWhatsNewSidebar.track();l.WhatsNewFeatureItems.forEach((function(e){a.props.onboardingStore.markCompleted(e.featureId,(function(){var t=a.state.completedFeatureIds
;t.add(e.featureId);a.setState({completedFeatureIds:t});i.IntentionEvent.WhatsNewItemMarkCompletedSuccess.track({context:a.getTrackContext()})}),(function(){
i.IntentionEvent.WhatsNewItemAlreadyMarkedCompleted.track({context:a.getTrackContext()})}))}));(0,i.trigger)("whats-new-sidebar-marked-all-as-read")};a.state={isOpen:!1,wasEverOpened:!1,
completedFeatureIds:new Set};return a}t.prototype.getTrackContext=function(){};t.prototype.componentDidMount=function(){var e=this;this.context.panels&&this.context.panels.registerPanel(this)
;var t=new Set;l.WhatsNewFeatureItems.forEach((function(a){e.props.onboardingStore.checkCompleted(a.featureId,(function(n){if(n){t.add(a.featureId);e.setState({completedFeatureIds:t})}}))}))}
;t.prototype.componentWillUnmount=function(){this.context.panels&&this.context.panels.unregisterPanel(this)};t.prototype.openPanel=function(){this.state.isOpen||this.openWhatsNewSidebar()}
;t.prototype.closePanel=function(){this.state.isOpen&&this.handleWhatsNewSidebarClose()};t.prototype.render=function(){return s.createElement(i.TrackContext,{trackContext:i.AppContext.WhatsNewSidebar
},s.createElement(o.AssistMenuSidebar,n.__assign({},this.props,{shouldUpdate:!0,closeOnOutsideClick:!0,open:this.state.isOpen,onClose:this.handleWhatsNewSidebarClose
}),s.createElement(d.WhatsNewMenuPane,{completedFeatureIds:this.state.completedFeatureIds})))};t.displayName="WhatsNewSidebar";t.contextTypes={panels:r.object,themeService:r.object}
;return t=n.__decorate([i.trackContextDecorator],t)}(s.Component);t.WhatsNewSidebar=c},1522:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.WhatsNewMenuPane=void 0
;var n=a(1),o=a(151),i=a(8),r=a(2),s=a(0),l=a(249),d=a(35),c=a(5),u=a(851),p=(0,c.PaperIntlFactory)().F,m=(0,r.defineMessages)({whatsNewSidebarHeader:{id:"4wBGyA",defaultMessage:"What's new?"},
newBadge:{id:"GNFUcd",defaultMessage:"New"}}),h=function(e){var t,a=e.whatsNewItem;try{t=a.date.toLocaleDateString(i.default.userLocale,{month:"long",year:"numeric"})}catch(e){t=a.date.toDateString()}
return s.createElement("div",{className:u.default.whatsNewDetails},s.createElement(d.Text,{color:"faint",isBold:!0,variant:"label",className:"notranslate"},t),s.createElement("div",{
className:u.default.whatsNewItemHeaderWrapper},s.createElement(d.Title,{tagName:"h2",size:"large"},a.header),e.showNewBadge?s.createElement(o.AccessoryBadge,{status:"attention",
className:u.default.whatsNewItemHeaderBadge},s.createElement(p,n.__assign({},m.newBadge))):null),s.createElement("div",{className:u.default.whatsNewItemDescriptionList
},s.createElement("ul",null,a.newFeatureItemInfo.map((function(e,t){return s.createElement("li",{key:t,className:u.default.whatsNewItemDescription},s.createElement("span",{
className:u.default.whatsNewItemTitle},e.title),e.title?s.createElement("span",null,"Â "):null,s.createElement("span",{className:u.default.whatsNewItemContent},e.content))})))))}
;t.WhatsNewMenuPane=function(e){var t=l.WhatsNewFeatureItems.map((function(t,a){return s.createElement(h,{key:a,whatsNewItem:t,
showNewBadge:!e.completedFeatureIds.has(t.featureId)&&t.date>=new Date("November 1, 2022")})}));return s.createElement("div",{className:"hp-assist-menu-sidebar-content"},s.createElement("div",{
className:u.default.whatsNewSidebarHeaderContainer},s.createElement("div",{className:u.default.whatsNewSidebarHeader},s.createElement(d.Title,{tagName:"h1"
},s.createElement(p,n.__assign({},m.whatsNewSidebarHeader))))),s.createElement("div",{className:u.default.whatsNewSidebarItemsContainer},t))}},1523:function(e,t,a){},1524:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.WhatsNewMenuItemWithOmnibar=void 0;var n=a(1),o=a(151),i=a(2),r=a(10),s=a(4),l=a(5),d=a(0),c=a(249),u=a(11),p=a(851),m=(0,
l.PaperIntlFactory)().F,h=(0,i.defineMessages)({whatsNewMenuButton:{id:"nUHobJ",defaultMessage:"What's new"},newBadge:{id:"0j9gEf",defaultMessage:"New"}});t.WhatsNewMenuItemWithOmnibar=(0,
u.withEventHandler)((function(e){var t=e.runCommandById,a=e.events,i=e.onboardingStore,l=e.pageName,u=d.useState(!1),f=u[0],g=u[1];d.useEffect((function(){
a.on(s.events,"whats-new-sidebar-marked-all-as-read",(function(){return g(!1)}));c.WhatsNewFeatureItems.forEach((function(e){i.checkCompleted(e.featureId,(function(e){e||f||g(!0)}))}))}),[])
;return d.createElement(r.default,{id:"whatsnewbutton",onClick:function(){s.trigger("whats-new-menu-item-clicked");document.body.dispatchEvent(new Event("close-menu"));t("show_whatsnew")
;s.IntentionEvent.WhatsNewHelpMenuItemClicked.track({pageName:l,state:f?"new":"old"})}},d.createElement("div",{className:p.default.whatsNewMenuButtonContent
},d.createElement(m,n.__assign({},h.whatsNewMenuButton)),f?d.createElement(o.AccessoryBadge,{status:"attention"},d.createElement(m,n.__assign({},h.newBadge))):null))}))},1606:function(e,t){
Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.command=e;this.omnibar=t;e.parameters?this.parametersState=e.parameters.map((function(e){return{parameter:e,
result:null}})):this.parametersState=[]}e.prototype.run=function(e){var t=this.nextPendingParameter()
;if(t)throw Error("[Omnibar] Can't run command \"".concat(this.command.id,'" yet. Parameter still required: "').concat(t.parameter.key," (").concat(t.parameter.label,')"'))
;return this.omnibar.runCommandById(this.command.id,this.parametersForCommand(),e)};e.prototype.nextPendingParameter=function(){return this.parametersState.filter((function(e){return!e.result}))[0]}
;e.prototype.parametersWithResponse=function(){return this.parametersState.filter((function(e){return!!e.result}))};e.prototype.nextParameterOptions=function(){var e=this.nextPendingParameter()
;return e&&"select"==e.parameter.type?this.omnibar.getValuesForSelectParameter(e.parameter.provider):[]};e.prototype.refreshParameterValuesForQuery=function(e){var t=this.nextPendingParameter()
;return t&&"select"==t.parameter.type?this.omnibar.notifyQueryUpdateForSelectParameter(t.parameter.provider,e):Promise.reject()};e.prototype.hasPendingParameters=function(){
return!!this.nextPendingParameter()};e.prototype.registerResponse=function(e){var t=this.nextPendingParameter();t&&(t.result=e)};e.prototype.unregisterResponse=function(){
var e=this.parametersWithResponse();e.length&&(e[e.length-1].result=null)};e.prototype.parametersForCommand=function(){var e={};this.parametersState.forEach((function(t){
e[t.parameter.key]=(t.result||[]).map((function(e){return e.id}))}));return e};return e}();t.default=a},1607:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(619),i=a(449),r=a(4),s=a(108),l=a(1608),d=a(1609),c=a(0),u=a(348),p=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.inputRef=c.createRef()
;t.lastActiveElement=null;t.state={open:!1};t.show=function(){r.IntentionEvent.OpenOmnibarDialog.track({context:r.AppContext.Omnibar});t.cacheFocus();t.setState({open:!0})};t.hide=function(){
r.IntentionEvent.CloseOmnibarDialog.track({context:r.AppContext.Omnibar});t.setState({open:!1});if(t.inputRef.current){t.inputRef.current.value="";t.inputRef.current.blur()}t.restoreFocus()};return t}
t.prototype.cacheFocus=function(){this.lastActiveElement=document.activeElement};t.prototype.restoreFocus=function(){if(this.lastActiveElement){(0,
i.focusAndRestoreParentScroll)(this.lastActiveElement);this.lastActiveElement=null}};t.prototype.preventRestoreFocus=function(){this.lastActiveElement=null};t.prototype.render=function(){
var e,t=this,a=this.props.activeCommand,n="",i=null;if(a){a.hasPendingParameters()&&(n=(null===(e=a.nextPendingParameter())||void 0===e?void 0:e.parameter.label)||"");i=c.createElement("div",{
className:"".concat(u.default.dialogBreadcrumb," notranslate")},a.command.label)}return c.createElement(s.Modal,{open:this.state.open,onRequestClose:this.props.onClose,onAfterOpen:function(){var e
;return null===(e=t.inputRef.current)||void 0===e?void 0:e.focus()},shouldCloseOnOverlayClick:!0},c.createElement(s.Modal.Body,{className:u.default.modalBody},i,c.createElement(o.ComboBoxWrapper,{
className:u.default.wrapper},c.createElement(d.OmnibarInput,{onChange:this.props.onInputChange,onPasteLink:this.props.onPasteLink,inputRef:this.inputRef,query:this.props.query,placeholder:n,
loading:this.props.loading}),c.createElement(l.OmnibarCommandList,{query:this.props.query,commands:this.props.entries,focusedCommand:this.props.focusedCommand,onSelect:this.props.onEntrySelect}))))}
;t.displayName="OmnibarDialog";return t}(c.Component);t.default=p},1608:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.OmnibarCommandList=void 0
;var n,o=a(6),i=a(3),r=a(725),s=a(0),l=a(348);t.OmnibarCommandList=function(e){var t,a=e.commands,d=e.query,c=e.onSelect,u=e.focusedCommand,p=e.onHighlightChanged;if(!a.length)return null
;if(p&&n!==u){n=u;p(-1,u)}return s.createElement("div",{className:i(l.default.commands,(t={},t[l.default.commandsLongList]=a.length>5,t))},o.map(a,(function(e){
return s.createElement(r.OmnibarCommandItem,{key:e.id,command:e,query:d,onSelect:c,focused:e.id==u})})))};t.OmnibarCommandList.displayName="OmnibarCommandList"},1609:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.OmnibarInput=void 0;var n=a(1),o=a(346),i=a(619),r=a(16),s=a(15),l=a(116),d=a(0),c=a(27),u=a(223),p=a(348),m=function(e){n.__extends(t,e)
;function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handlePaste=function(e){if(/text\/plain/.test(JSON.stringify(e.clipboardData.types))){var a=c.trim(e.clipboardData.getData("text/plain"))
;a&&a&&(o.REGEX_IS_VALID_URL.test(a)||u.isValid(a))&&t.props.onPasteLink(a)&&e.preventDefault()}};return t}t.prototype.render=function(){
var e=this.props,t=e.query,a=e.placeholder,o=e.onChange,i=e.inputRef,c=e.loading;return d.createElement("div",{className:p.default.input},d.createElement(r.UIIcon,{src:s.SearchLine,size:"large"
}),d.createElement("input",n.__assign({type:"text",onChange:o,value:t,ref:i,placeholder:a,onPaste:this.handlePaste},this.context.ariaComboBox.input)),c&&d.createElement(l.Spinner,{
"aria-valuetext":"Loading",size:"xsmall"}))};t.displayName="OmnibarInput";t.contextTypes=i.ComboBoxWrapperContextTypes;return t}(d.Component);t.OmnibarInput=m},1610:function(e,t){
Object.defineProperty(t,"__esModule",{value:!0});t.PROMOTED_COMMANDS=void 0
;t.PROMOTED_COMMANDS=["check_task","uncheck_task","unassign_task_all","align_image_left","align_image_right","align_image_center","align_image_full","add_comment","highlight_text","insert_table","share_doc","favorite_doc","present_doc","create_doc","show_search","show_tasklet","show_hotkeys"]
},1704:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.addTitleAndContentInNewUserPad=void 0;var n=a(4),o=a(20);t.addTitleAndContentInNewUserPad=function(e,t,a,i){if(e){try{
if(e.contents.getTitle())return}catch(e){n.IntentionEvent.DocTitleFetchedError.track();return}n.IntentionEvent.DocTitleFetched.track();e.execute(t,(function(){var t=a+"\n"+i
;e.contents.performDocumentReplaceRange(o.Position.zero,o.Position.zero,t)}))}}},1705:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.VimeoTrackingOnboardingVideo=void 0
;var n=a(1),o=a(3),i=a(6),r=a(1706),s=a(10),l=a(73),d=a(13),c=a(11),u=a(295),p=a(52),m=a(0),h={height:0,width:0,top:"50%",left:"50%"},f=function(e){n.__extends(t,e);function t(t){
var a=e.call(this,t)||this;a.startAnimating=function(){a.setState({isImageReady:!0,thumbSized:!0},(function(){a.timers.setTimeout((function(){a.setState({thumbSized:!1},(function(){
a.timers.setTimeout(a.startPlaying,500)}))}),50)}))};a.startPlaying=function(){a.setState({isPlaying:!0})};a.handleWindowResize=i.debounce((function(){a.setState({windowHeight:window.innerHeight,
windowWidth:window.innerWidth})}),50);a.handleClose=function(){a.setState({thumbSized:!0});a.props.onClose&&a.props.onClose()};a.state={isImageReady:!1,thumbSized:!1,isPlaying:!1,
windowHeight:window.innerHeight,windowWidth:window.innerWidth};return a}t.prototype.componentDidMount=function(){this.events.on(window,"resize",this.handleWindowResize);if(this.props.videoStillUrl){
var e=(0,p.default)(this.props.videoStillUrl),t=e.substring(e.lastIndexOf(".")),a=e.substring(0,e.lastIndexOf("."))+"@2x"+t+" 2x";(0,u.preloadRetinaImage)(e,a,this.startAnimating,this.startPlaying)
}else this.startPlaying()};t.prototype.getRect=function(){
var e=Math.min(this.state.windowHeight,this.props.height),t=Math.min(this.state.windowWidth,this.props.width),a=this.props.height/this.props.width;e/t>a?e=Math.floor(t*a):e/t<a&&(t=Math.floor(e/a))
;return{height:e,width:t,top:Math.floor((this.state.windowHeight-e)/2),left:Math.floor((this.state.windowWidth-t)/2)}};t.prototype.getStyle=function(){if(this.state.thumbSized){
var e=this.state.isPlaying?0:.3;return n.__assign({opacity:e},this.props.thumbRect)}return this.getRect()};t.prototype.renderStill=function(){var e=o("onboarding-video-still",{
"onboarding-video-still-black":this.props.darcula});return m.createElement(l.default,{className:e,src:this.props.videoStillUrl,alt:"",style:this.getStyle()})};t.prototype.renderVideo=function(){
var e=o("onboarding-video-iframe",{"onboarding-video-iframe-black":this.props.darcula});return m.createElement("iframe",{ref:this.props.bindVideo,className:e,src:this.props.videoUrl,frameBorder:"0",
style:this.getStyle()})};t.prototype.render=function(){var e;this.state.isPlaying?e=this.renderVideo():this.state.isImageReady&&this.props.videoStillUrl&&(e=this.renderStill())
;var t=o("onboarding-video",{"onboarding-video-black":this.props.darcula});return m.createElement("div",{className:t,onClick:this.handleClose},m.createElement(s.default,{
className:"onboarding-video-close",onClick:this.handleClose,"track-title":"Close Onboarding Video"},m.createElement(d.default,{name:"close-large"})),e)};t.displayName="OnboardingVideo"
;t.defaultProps={width:1280,height:720,thumbRect:h,darcula:!1,bindVideo:function(e){}};return t=n.__decorate([c.default],t)}(m.Component);t.default=f;t.VimeoTrackingOnboardingVideo=(0,
r.withVimeoVideoTracking)(f)},1706:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.withVimeoVideoTracking=void 0;var n=a(1),o=a(6),i=a(0);t.withVimeoVideoTracking=function(e){
return function(t){n.__extends(a,t);function a(){var e=null!==t&&t.apply(this,arguments)||this;e.state={videoProgress:{seconds:0,percent:0,duration:0}};e.startListeningVideoProgress=function(){var t
;null===(t=e.video.contentWindow)||void 0===t||t.postMessage({method:"addEventListener",value:"timeupdate"},e.video.src);window.addEventListener("message",e.onVideoProgressUpdate)}
;e.updateVideoProgressThrottled=o.throttle((function(t){var a;if("string"==typeof t){var n=JSON.parse(t);if("playProgress"!==n.event||!n.data)return;a=n.data}else{
if("timeupdate"!==t.event||!t.data)return;a=t.data}a.percent>e.state.videoProgress.percent&&e.setState({videoProgress:a})}),5e3);e.onVideoProgressUpdate=function(t){
t&&"https://player.vimeo.com"===t.origin&&t.data&&e.updateVideoProgressThrottled(t.data)};e.bindVideo=function(t){e.video=t;e.video&&(e.video.onload=function(){e.startListeningVideoProgress()})}
;e.didCompleteVideo=function(){window.removeEventListener("message",e.onVideoProgressUpdate)
;e.props.trackVideoCallback(e.state.videoProgress.seconds,e.state.videoProgress.percent,e.state.videoProgress.duration)};return e}a.prototype.render=function(){
var t=o.omit(this.props,"onClose","bindVideo","trackVideoCallback");return i.createElement(e,n.__assign({},t,{onClose:this.didCompleteVideo,bindVideo:this.bindVideo}))};return a}(i.Component)}},
1707:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(59),i=a(1708),r=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this
;t.teamMemberData={members:[],remaining:0};t.finishedDataLoadAttempt=!1;t.onPaperTeamGetFailure=function(){t.onDataLoaded();return!0};t.onPaperTeamGetSuccess=function(e){t.teamMemberData=e
;t.onDataLoaded()};return t}t.prototype.getMemberData=function(){return this.teamMemberData};t.prototype.hasLoaded=function(){return this.finishedDataLoadAttempt};t.prototype.onDataLoaded=function(){
this.finishedDataLoadAttempt=!0;this.emitTeamMembersChange()};t.prototype.emitTeamMembersChange=function(){this.trigger("team-members-changed",void 0)};t.prototype.load=function(e){(0,
i.getPaperTeamMembers)(e,this.onPaperTeamGetSuccess,this.onPaperTeamGetFailure)};return t}(o.EventEmittingClass);t.default=r},1708:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.getPaperTeamMembers=void 0;var n=a(12);t.getPaperTeamMembers=function(e,t,a){n.get({url:"/paper-team-members-get",data:{numToDisplay:e},analyticsTag:"invite-team-members",
shardingKey:n.getStatelessShardingKey(),successHandler:t,errorHandler:a,timeout:1e4})}},1709:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.WelcomeModalExistingTeamsCarousel=void 0
;var n=a(1),o=a(316),i=a(86),r=a(11),s=a(0),l=a(4),d=a(1710),c=a(1712),u=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={hasLoadedMembers:!1,
members:[],numRemaining:0};t.onPaperTeamMembersLoaded=function(){if(t.props.teamMembersOnPaperStore.hasLoaded()){var e=t.props.teamMembersOnPaperStore.getMemberData(),a=e.members,n=e.remaining
;0==a.length&&l.trackEng("no-users-for-team-welcome-modal");var o=a.map((function(e){return{name:e.fullName,pic:e.photoUrl,email:e.email,bgcolor:i.getColorForString(e.email)}}));t.setState({
hasLoadedMembers:!0,members:o,numRemaining:n})}};return t}t.prototype.componentDidMount=function(){this.props.teamMembersOnPaperStore.on("team-members-changed",this.onPaperTeamMembersLoaded)
;this.onPaperTeamMembersLoaded()};t.prototype.componentWillUnmount=function(){this.props.teamMembersOnPaperStore.off("team-members-changed",this.onPaperTeamMembersLoaded)}
;t.prototype.render=function(){if(!this.state.hasLoadedMembers){var e=(0,c.WelcomeModalExistingTeamsPreview)();return s.createElement(o.default,{embedded:!0,loopCards:!0,
skipButtonDisplay:o.SkipButtonDisplay.Never,showCarouselDots:!1},e)}return this.state.members.length>0?s.createElement(d.WelcomeModalCarousel,{
injectedFirstElement:s.createElement(c.WelcomeModalExistingTeamsLoaded,{membersToDisplay:this.state.members,numRemainingMembers:this.state.numRemaining})}):s.createElement(d.WelcomeModalCarousel,null)
};t.displayName="WelcomeModalExistingTeamsCarousel";return t=n.__decorate([r.default],t)}(s.PureComponent);t.WelcomeModalExistingTeamsCarousel=u},1710:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.WelcomeModalCarousel=void 0;var n=a(1),o=a(887),i=a(2),r=a(1711),s=a(888),l=a(0),d=(0,a(5).PaperIntlFactory)().F,c=(0,i.defineMessages)({
makethingshappenwithDropboxPaper:{id:"65uLdR",defaultMessage:"Make things happen with Dropbox Paper"},captureideasplannextstepsshareyourthoughts:{id:"mf3u6O",
defaultMessage:"Capture ideas, plan next steps, share your thoughts."},capturethemoment:{id:"1ZwJ5S",defaultMessage:"Capture the moment"},filesphotosappsbringeverythingforyourprojectintoasingledoc:{
id:"JlcAZw",defaultMessage:"Files, photos, appsâ€”bring everything for your project into a single doc."},getonthesamepage:{id:"HguOb8",defaultMessage:"Get on the same page"},
createtodosaddduedatesleavecommentsforeachother:{id:"mgD5qx",defaultMessage:"Create to-dos, add due dates, leave comments for each other."}}),u=[{name:"welcome-modal-intro",
title:l.createElement(d,n.__assign({},c.makethingshappenwithDropboxPaper)),subtitle:l.createElement(d,n.__assign({},c.captureideasplannextstepsshareyourthoughts)),
url:"/static/img/composer/onboarding/welcome-modal-gif.mp4"},{name:"welcome-modal-embeds",title:l.createElement(d,n.__assign({},c.capturethemoment)),
subtitle:l.createElement(d,n.__assign({},c.filesphotosappsbringeverythingforyourprojectintoasingledoc)),url:"/static/img/product/feature_rich_integrations_2x.mp4"},{name:"welcome-modal-tasks",
title:l.createElement(d,n.__assign({},c.getonthesamepage)),subtitle:l.createElement(d,n.__assign({},c.createtodosaddduedatesleavecommentsforeachother)),
url:"/static/img/composer/onboarding/welcome-modal-tasks.mp4"}],p=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.cardRefs={};return t}
t.prototype.render=function(){var e=this,t=[],a=this.props.injectedFirstElement?1:0;if(this.props.injectedFirstElement){var n=l.createElement(r.GenericAutoScrollingCarouselCard,{key:0,ref:function(t){
e.cardRefs[0]=t},idx:0,onEnded:function(){return e.carousel.moveToNextCard(0)},timeToScrollMs:7e3},this.props.injectedFirstElement);t=t.concat(n)}var i=u.map((function(t,n){var o=n+a
;return l.createElement(s.GifCarouselCard,{key:o,ref:function(t){e.cardRefs[o]=t},classNamePrefix:"welcome-messages-modal",idx:o,name:t.name,url:t.url,onEnded:function(){
return e.carousel.moveToNextCard(o)}},l.createElement("div",{className:"welcome-messages-modal-header"},l.createElement("h1",null,t.title),l.createElement("p",null,t.subtitle)))}));t=t.concat(i)
;return l.createElement(o.AutoScrollingCardCarousel,{ref:function(t){e.carousel=t},cards:t,cardRefs:this.cardRefs})};t.displayName="WelcomeModalCarousel";return t}(l.PureComponent)
;t.WelcomeModalCarousel=p},1711:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.GenericAutoScrollingCarouselCard=void 0;var n=a(1),o=a(11),i=function(e){n.__extends(t,e)
;function t(){var t=null!==e&&e.apply(this,arguments)||this;t.timerId=0;return t}t.prototype.play=function(){this.timerId=this.timers.setTimeout(function(){this.props.onEnded(this.props.idx)
}.bind(this),this.props.timeToScrollMs)};t.prototype.stop=function(){if(this.timerId>0){clearTimeout(this.timerId);this.timerId=0}};t.prototype.render=function(){return this.props.children}
;t.displayName="GenericAutoScrollingCarouselCard";return t=n.__decorate([o.default],t)}(a(0).PureComponent);t.GenericAutoScrollingCarouselCard=i},1712:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.WelcomeModalExistingTeamsLoaded=t.WelcomeModalExistingTeamsPreview=void 0;var n=a(1),o=a(316),i=a(2),r=a(73),s=a(201),l=a(0),d=(0,
a(5).PaperIntlFactory)().F,c=(0,i.defineMessages)({youreingoodcompany:{id:"YoSqNg",defaultMessage:"You're in good company"},usernamealsousesDropboxPaper:{id:"qdV2MP",
defaultMessage:"{userName} also uses Dropbox Paper."},useronenameanduserTwoNamealsouseDropboxPaper:{id:"uthNgL",defaultMessage:"{userOneName} and {userTwoName} also use Dropbox Paper."},
useronenameuserTwoNameandyourteamareusingDropboxPaper:{id:"4Pdez7",defaultMessage:"{userOneName}, {userTwoName}, and your team are using Dropbox Paper."},editedspacePaperspacedocs:{id:"NiYkMH",
defaultMessage:"Edited{space}Paper{space}docs"}});t.WelcomeModalExistingTeamsPreview=function(){return l.createElement(o.Card,{id:"welcome-modal-teams",key:0},l.createElement("div",{
className:"welcome-messages-modal-header"},l.createElement("h1",null,l.createElement(r.default,{src:"/static/img/composer/onboarding/welcome-modal-teams/placeholder-title.png"
}))),l.createElement("div",{className:"welcome-messages-modal-body"},l.createElement("div",{className:"welcome-messages-modal-gif"},l.createElement(r.default,{
src:"/static/img/composer/onboarding/welcome-modal-teams/text-body.png",className:"welcome-modal-teams-preview-text"}))))};t.WelcomeModalExistingTeamsLoaded=function(e){var t,a=e.membersToDisplay
;if(0==a.length)return null;var i=a.length;e.numRemainingMembers&&e.numRemainingMembers>0&&(i+=1)
;var u,p=i<=3?0:1,m=null!==(t=e.numRemainingMembers)&&void 0!==t?t:0,h=l.createElement(d,n.__assign({},c.youreingoodcompany));if(1==a.length){var f=a[0].name;u=l.createElement(d,n.__assign({values:{
userName:f}},c.usernamealsousesDropboxPaper))}else if(2==a.length){var g=a[0].name,v=a[1].name;u=l.createElement(d,n.__assign({values:{userOneName:g,userTwoName:v}
},c.useronenameanduserTwoNamealsouseDropboxPaper))}else{g=a[0].name,v=a[1].name;u=l.createElement(d,n.__assign({values:{userOneName:g,userTwoName:v}
},c.useronenameuserTwoNameandyourteamareusingDropboxPaper))}return l.createElement(o.Card,{id:"welcome-modal-teams",key:0},l.createElement("div",{className:"welcome-messages-modal-header"
},l.createElement("h1",null,h),l.createElement("p",null,u)),l.createElement("div",{className:"welcome-messages-modal-body"},l.createElement("div",{className:"welcome-messages-modal-gif"
},l.createElement("div",{className:"welcome-modal-teams-bubbles"},l.createElement(s.InvitedUsers,{displayUnregisteredUsers:!0,users:a,border:!0,avatarSize:"large",ignoreConnectedStatus:!0,
additionalOverflowMembers:m,tooltipSubtitle:l.createElement(d,n.__assign({values:{space:"Â "}},c.editedspacePaperspacedocs)),forceTooltipForUserAvatarIndex:p,showStaticCursorForUserAvatarIndex:p,
isWelcomeModalUI:!0}),l.createElement(r.default,{src:"/static/img/composer/onboarding/welcome-modal-teams/text-body.png",className:"welcome-modal-teams-preview-text"})))))}},1730:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(4),i=a(21),r=a(3),s=a(426),l=a(416),d=a(2),c=a(7),u=a(11),p=a(12),m=a(10),h=a(73),f=a(157),g=a(7),v=a(0),b=a(63),y=a(513),E=a(118),k=a(598),_=a(1731),C=a(35),S=a(908),w=(0,
a(5).PaperIntlFactory)(),I=w.F,x=w._f,T=(0,d.defineMessages)({emptyImgAlt:{id:"buTZpY",defaultMessage:"To-do list is empty"},successImgAlt:{id:"COC5iH",defaultMessage:"List of completed to-dos"},
inthisdoc:{id:"o3BF1w",defaultMessage:"In this doc"},thisdoc:{id:"pbe6gh",defaultMessage:"This doc"},thingstodo:{id:"rJiQ49",defaultMessage:"Things to do"},bydate:{id:"6NF8pV",defaultMessage:"By date"
},duesoon:{id:"oB9kPu",defaultMessage:"Due soon"},bydoc:{id:"Ukld7S",defaultMessage:"By doc"},alldocs:{id:"JxmysF",defaultMessage:"All docs"},readySetDo:{id:"zo57jC",defaultMessage:"Ready. Set. Do."},
anytodosyoucreateinadocorassignedtoyouwillshowupherereadyforaction:{id:"Re0bHA",defaultMessage:"Any to-dos you create in a doc or assigned to you will show up here, ready for action."},startatododoc:{
id:"2r74BS",defaultMessage:"Start a to-do doc"},viewyourvictories:{id:"tz2dai",defaultMessage:"View your victories"},yourcompletedtodosshowuphere:{id:"jA/OMb",
defaultMessage:"Your completed to-dos show up here"},allclear:{id:"9dO/fP",defaultMessage:"All clear"},whenyougetanewtodointhisdocitllshowupherereadyforaction:{id:"wbxZgb",
defaultMessage:"When you get a new to-do in this doc, itâ€™ll show up here, ready for action."},whenyouassignsomeoneatodointhisdocitllshowupherereadyforaction:{id:"r/9JFW",
defaultMessage:"When you assign someone a to-do in this doc, itâ€™ll show up here, ready for action."},youreontopofit:{id:"qozz4M",defaultMessage:"You're on top of it"},
whenyougetanewtodoinadocitllshowupherereadyforaction:{id:"Jcbq3A",defaultMessage:"When you get a new to-do in a doc, itâ€™ll show up here, ready for action."},viewcompletedtodos:{id:"5qBk7S",
defaultMessage:"View completed to-dos"},whenyouassignanewtodoinadocitllshowupherereadyforaction:{id:"o5/rnR",
defaultMessage:"When you assign a new to-do in a doc, itâ€™ll show up here, ready for action."},tasksunavailable:{id:"P+wWW6",defaultMessage:"Tasks unavailable"},
yourtaskswillloadwhenyourebackonlineagain:{id:"JE4/A/",defaultMessage:"Your tasks will load when you're back online again. "}}),P="tasklet-first-time-user-experience",M=function(e){n.__extends(t,e)
;function t(t){var a=e.call(this,t)||this;a.handleTaskListChange=function(){a.updateTaskList(a.state.groupBy)};a.handleNavigation=function(){var e=a.props.app.getCurrentPadId();a.setState({
currentLocalPadId:e});e&&e!=a.state.currentLocalPadId?a.setState({needsRefresh:!0}):a.state.groupBy==c.GroupBy.DOC&&a.updateTaskList(c.GroupBy.ALL)};a.handleReloadTasklet=function(){a.setState({
needsRefresh:!0,offset:0,limit:E.LIMIT_PER_TASKLET_LOAD_CLICK})};a.handleGroupByFilter=function(e){if(a.shouldPaginate){a.clearTaskletData();a.setState({groupBy:e,needsRefresh:!0})
}else a.updateTaskList(e)};a.handleLoadMoreTasks=function(){var e=a.state.limit+E.LIMIT_PER_TASKLET_LOAD_CLICK;if(a.state.limit<a.state.numberOfTasks)a.setState({limit:e},(function(){
a.updateTaskList(a.state.groupBy)}));else{var t=a.state.offset+E.TASK_LIST_LIMIT_FOR_TASKLET;a.setState({offset:t,limit:e},(function(){a.setState({needsRefresh:!0})}))}}
;a.handleOffsetAndLimitOnTaskToggle=function(){var e=a.state.limit-1,t=a.state.offset-1;a.setState({limit:e,offset:t})};a.handleListFilterSelected=function(e){a.clearTaskletData();a.setState({
listFilter:e,needsRefresh:!0})};a.clearTaskletData=function(){a.setState({data:{tasks:[],version:0,poolsByPadId:{},moreTasksAvailableInDb:!0},offset:0,limit:E.LIMIT_PER_TASKLET_LOAD_CLICK})}
;a.handleViewCompletedClick=function(){a.handleListFilterSelected(k.FilterBy.COMPLETED)};a.handleCreateToDoDocClick=function(){o.IntentionEvent.CreatePad.track({context:o.AppContext.TasksPage})
;p.post({url:"/tasks/create-todo-template",hpAppLevel:!0,analyticsTag:"create-new-todo-list",shardingKey:p.getShardingKeyForCreatingNewPad(),successHandler:function(e){a.props.app.navigateToPad({
id:e.padId})}})};a.shouldPaginate=b.isOnAndLog(g.PaperStormcrow.PAPER_TASK_LIST_PAGING);a.state={needsRefresh:!0,data:null,groupBy:c.GroupBy.ALL,listFilter:k.FilterBy.ASSIGNED_TO_ME,
currentLocalPadId:null,isFirstTimeUsingTasklet:!1,offset:0,limit:E.LIMIT_PER_TASKLET_LOAD_CLICK,numberOfTasks:0,isOffline:!1};return a}t.prototype.componentDidMount=function(){var e=this
;this.props.stores.taskList.on("task-list-change",this.handleTaskListChange);this.props.stores.networkStatus.addEventListener((function(){e.handleNetworkStatusChange()}))
;this.handleNetworkStatusChange();this.events.on(document,"reload-tasklet",this.handleReloadTasklet);this.props.app.on("hp-after-navigate",this.handleNavigation);this.handleNavigation()
;this.onboardingStore=this.onboardingStore||new f.default;this.onboardingStore.checkCompleted(P,(function(t){e.setState({isFirstTimeUsingTasklet:!t})}))};t.prototype.componentWillUnmount=function(){
this.props.stores.taskList.off("task-list-change",this.handleTaskListChange);this.props.app.off("hp-after-navigate",this.handleNavigation)};t.prototype.handleNetworkStatusChange=function(){
this.setState({isOffline:this.props.stores.networkStatus.isOffline()})};t.prototype.componentDidUpdate=function(e,t){var a=this.props.app.getCurrentPadId()
;a!=this.state.currentLocalPadId&&this.setState({currentLocalPadId:a});if(this.props.isOpen&&(this.state.needsRefresh||!e.isOpen)){
var n=this.props.stores.taskList,o=n.getRequestQueryOptions(this.state.listFilter,this.state.groupBy,a,this.state.offset);this.setState({needsRefresh:!1})
;this.shouldPaginate?this.state.groupBy===c.GroupBy.DOC?n.loadTaskList(o,{success:function(){a&&n.refreshIfNecessary(a,o)}}):n.loadTaskList(o):n.loadTaskList(o,{success:function(){
a?n.refreshIfNecessary(a,o):n.refreshMostRecentlyEditedDoc(o)}})}e.isOpen&&!this.props.isOpen&&this.setState({limit:E.LIMIT_PER_TASKLET_LOAD_CLICK,offset:0})};t.prototype.updateTaskList=function(e){
var t=this,a=this.props.stores.taskList,o=a.getRequestQueryOptions(this.state.listFilter,e,this.state.currentLocalPadId,this.state.offset),i=e!==c.GroupBy.DOC&&this.state.listFilter==k.FilterBy.NONE?k.FilterBy.ASSIGNED_TO_ME:this.state.listFilter
;a.getTaskList(o,(function(a){if(a){var o=a.tasks||[],r=o;t.setState({numberOfTasks:o.length});e===c.GroupBy.DOC&&(r=r.filter((function(e){return e.localPadId===t.state.currentLocalPadId})))
;var d=s.default.getDate();r=r.filter((function(e){return e.lineType!==c.LineType.timeline||i===k.FilterBy.COMPLETED||!l.isPastDate(new Date(e.dueDate),d)}))
;t.state.isFirstTimeUsingTasklet&&o.length&&t.onboardingStore.markCompleted(P,(function(){return t.setState({isFirstTimeUsingTasklet:!1})}),(function(){return t.setState({isFirstTimeUsingTasklet:!1})
}));t.shouldPaginate&&(r=r.slice(0,t.state.limit));t.setState({data:n.__assign(n.__assign({},a),{tasks:r}),groupBy:e,listFilter:i})}else t.setState({data:{tasks:[],version:0,poolsByPadId:{},
moreTasksAvailableInDb:!t.state.isOffline},numberOfTasks:0,groupBy:e,needsRefresh:!t.state.isOffline})}))};t.prototype.getTaskArrangementOptions=function(){
var e=this.state.groupBy,t=c.SortBy.DueDate,a=S.ViewMode.DUE_DATES,n=c.SortOrder.Asc;if(e===c.GroupBy.DOC){t=c.SortBy.LineNumber;a=S.ViewMode.ALL}else if(e===c.GroupBy.ALL){t=c.SortBy.LastEditedDate
;a=S.ViewMode.DOCS;n=c.SortOrder.Desc}else if(e===c.GroupBy.DUE&&this.state.listFilter===k.FilterBy.COMPLETED){t=c.SortBy.CompletedTime;a=S.ViewMode.ALL;n=c.SortOrder.Desc}return{viewMode:a,
sortOrder:n,sortBy:t}};t.prototype.renderNoTasks=function(){return this.state.isOffline?v.createElement(R,null):this.state.isFirstTimeUsingTasklet?v.createElement(F,{
onClick:this.handleCreateToDoDocClick
}):this.state.listFilter===k.FilterBy.COMPLETED?v.createElement(N,null):this.state.groupBy===c.GroupBy.DOC&&this.state.listFilter===k.FilterBy.ASSIGNED_TO_ME?v.createElement(D,null):this.state.groupBy===c.GroupBy.DOC&&this.state.listFilter===k.FilterBy.ASSIGNED_BY_ME_TO_OTHERS?v.createElement(A,null):this.state.listFilter===k.FilterBy.ASSIGNED_TO_ME?v.createElement(L,{
onClick:this.handleViewCompletedClick}):this.state.listFilter===k.FilterBy.ASSIGNED_BY_ME_TO_OTHERS?v.createElement(O,null):v.createElement(L,{onClick:this.handleViewCompletedClick})}
;t.prototype.render=function(){var e=this.state.groupBy===c.GroupBy.DUE,t=this.state.groupBy===c.GroupBy.DOC,a=this.state.groupBy===c.GroupBy.ALL,o="tasklet-filter-tab-dig",i=r(o,{active:e,
"selenium-tab-button-active":e},"selenium-tab-by-date"),s=r(o,{active:a,"selenium-tab-button-active":a},"selenium-tab-by-all"),l=r(o,{active:t,"selenium-tab-button-active":t
},"selenium-tab-by-doc"),d=null;d=this.state.data&&this.state.data.tasks&&!this.state.data.moreTasksAvailableInDb&&!this.state.numberOfTasks?this.renderNoTasks():v.createElement(_.default,{
data:this.state.data,app:this.props.app,queryOptions:this.props.stores.taskList.getRequestQueryOptions(this.state.listFilter,this.state.groupBy,this.state.currentLocalPadId,this.state.offset),
hideFacepile:!1,hideDueDate:this.state.listFilter==k.FilterBy.COMPLETED,options:this.getTaskArrangementOptions(),stores:this.props.stores,instantCleanCompleteTasks:!0,
hidePadTitle:this.state.groupBy!=c.GroupBy.DUE,theme:this.props.theme,onLoadMoreTasks:this.handleLoadMoreTasks,handleOffsetAndLimitOnTaskToggle:this.handleOffsetAndLimitOnTaskToggle,
numberOfTasks:this.state.numberOfTasks,isOffline:this.state.isOffline});return v.createElement("div",{className:"tasklet-content-wrapper"},v.createElement(C.Title,{tagName:void 0,
className:"hp-page-title-dig"},v.createElement(I,n.__assign({},T.thingstodo))),v.createElement("div",{className:"all-tasklet-filters-dig"},v.createElement(k.default,{selected:this.state.listFilter,
onSelect:this.handleListFilterSelected,allowAll:this.state.groupBy==c.GroupBy.DOC}),v.createElement("div",{className:"tasklet-clearfix"}),v.createElement("div",{className:"tasklet-filters-dig"
},v.createElement(U,{inDoc:!!this.state.currentLocalPadId,handleGroupBy:this.handleGroupByFilter,dueFilterCls:i,allFilterCls:s,docFilterCls:l}))),v.createElement("div",{className:"tasklet-tasks-panel"
},d))};t.displayName="TaskletContent";return t=n.__decorate([u.default],t)}(v.Component);t.default=M;var F=function(e){var t=e.onClick;return v.createElement("div",{
className:"hp-task-list-empty-message"},v.createElement(h.InvertibleImage,{src:"/static/img/composer/todos/new_user.png",alt:x(T.emptyImgAlt)}),v.createElement(C.Title,{tagName:"h1"
},v.createElement(I,n.__assign({},T.readySetDo))),v.createElement(C.Text,{style:{marginBottom:"12px"}
},v.createElement(I,n.__assign({},T.anytodosyoucreateinadocorassignedtoyouwillshowupherereadyforaction))),v.createElement(i.default,{variant:"primary",onClick:t
},v.createElement(I,n.__assign({},T.startatododoc))))};F.displayName="EmptyTaskletFirstTime";var N=function(){return v.createElement("div",{className:"hp-task-list-empty-message"
},v.createElement(h.InvertibleImage,{src:"/static/img/composer/todos/success.png",alt:x(T.successImgAlt)
}),v.createElement("h1",null,v.createElement(I,n.__assign({},T.viewyourvictories))),v.createElement("p",null,v.createElement(I,n.__assign({},T.yourcompletedtodosshowuphere))))}
;N.displayName="EmptyTaskletNoCompletedTasks";var D=function(){return v.createElement("div",{className:"hp-task-list-empty-message"},v.createElement(h.InvertibleImage,{
src:"/static/img/composer/todos/success.png",alt:x(T.successImgAlt)
}),v.createElement("h1",null,v.createElement(I,n.__assign({},T.allclear))),v.createElement("p",null,v.createElement(I,n.__assign({},T.whenyougetanewtodointhisdocitllshowupherereadyforaction))))}
;D.displayName="EmptyTaskletNoPendingTasksInDoc";var A=function(){return v.createElement("div",{className:"hp-task-list-empty-message"},v.createElement(h.InvertibleImage,{
src:"/static/img/composer/todos/success.png",alt:x(T.successImgAlt)
}),v.createElement("h1",null,v.createElement(I,n.__assign({},T.allclear))),v.createElement("p",null,v.createElement(I,n.__assign({},T.whenyouassignsomeoneatodointhisdocitllshowupherereadyforaction))))
};A.displayName="EmptyTaskletNoDelegatedTasksInDoc";var L=function(e){var t=e.onClick;return v.createElement("div",{className:"hp-task-list-empty-message"},v.createElement(h.InvertibleImage,{
src:"/static/img/composer/todos/success.png",alt:x(T.successImgAlt)
}),v.createElement("h1",null,v.createElement(I,n.__assign({},T.youreontopofit))),v.createElement("p",null,v.createElement(I,n.__assign({},T.whenyougetanewtodoinadocitllshowupherereadyforaction))),v.createElement(m.default,{
primary:!0,onClick:t},v.createElement(I,n.__assign({},T.viewcompletedtodos))))};L.displayName="EmptyTaskletNoPendingTasks";var O=function(){return v.createElement("div",{
className:"hp-task-list-empty-message"},v.createElement(h.InvertibleImage,{src:"/static/img/composer/todos/success.png",alt:x(T.successImgAlt)
}),v.createElement("h1",null,v.createElement(I,n.__assign({},T.allclear))),v.createElement("p",null,v.createElement(I,n.__assign({},T.whenyouassignanewtodoinadocitllshowupherereadyforaction))))}
;O.displayName="EmptyTaskletNoDelegatedTasks";var R=function(){return v.createElement("div",{className:"hp-task-list-empty-message"},v.createElement(h.InvertibleImage,{
src:"/static/img/composer/todos/success.png",alt:x(T.successImgAlt)
}),v.createElement("h1",null,v.createElement(I,n.__assign({},T.tasksunavailable))),v.createElement("p",null,v.createElement(I,n.__assign({},T.yourtaskswillloadwhenyourebackonlineagain))))}
;R.displayName="EmptyTaskletOffline";var U=function(e){var t=e.inDoc,a=e.handleGroupBy,o=e.dueFilterCls,i=e.allFilterCls,r=e.docFilterCls,s=v.useState("ALL"),l=s[0],d=s[1]
;return v.createElement("div",{className:"tasklet-filters-tabs-dig"},v.createElement(y.Tabs,{selectedTab:l,onSelection:function(e){a(c.GroupBy[e]);d(e)}},v.createElement(y.Tabs.Group,{justified:!0
},v.createElement(y.Tabs.Tab,{id:"DUE",className:o},v.createElement(I,n.__assign({},T.bydate))),v.createElement(y.Tabs.Tab,{id:"ALL",className:i
},v.createElement(I,n.__assign({},T.bydoc))),t?v.createElement(y.Tabs.Tab,{id:"DOC",className:r},v.createElement(I,n.__assign({},T.inthisdoc))):null)))};U.displayName="DigTaskTabs"},
1731:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(8),i=a(2),r=a(11),s=a(12),l=a(10),d=a(70),c=a(0),u=a(36),p=a(1732),m=a(71),h=a(4),f=(0,
a(5).PaperIntlFactory)().F,g=(0,i.defineMessages)({unabletotogglecheckbox:{id:"ZncZZc",defaultMessage:"Unable to toggle checkbox."},unabletochangeduedate:{id:"ZyDafa",
defaultMessage:"Unable to change due date."},taskMoved:{id:"1S6kif",defaultMessage:"Task Moved!"},close:{id:"u/p3Pl",defaultMessage:"Close"},itLooks:{id:"uNHLmS",
defaultMessage:"It looks like someone else moved or edited the line and we can't find it anymore. The document has been reloaded now though, please try again."}}),v=function(e){n.__extends(t,e)
;function t(t){var a=e.call(this,t)||this;a.toggle=function(e){a.props.handleOffsetAndLimitOnTaskToggle();var t=a.props.queryOptions,o=c.createElement(f,n.__assign({},g.unabletotogglecheckbox))
;return a.props.stores.taskList.togglePadTask(e,t,o).then((function(n){t.toggledTask=e;a.handleResponse("toggle-task",e,t,n,a.props.instantCleanCompleteTasks)}))};a.setDueDate=function(e,t){
var o=a.props.queryOptions;s.post({url:"/tasks/set-due-date",data:n.__assign({task:JSON.stringify(e),newAttribs:JSON.stringify(t)},o),analyticsTag:"set-due-date-task-list",
errorModalMessage:c.createElement(f,n.__assign({},g.unabletochangeduedate)),shardingKey:s.getShardingKeyForPad(e.localPadId),hpAppLevel:!0,successHandler:function(t){
a.handleResponse("task-set-due-date",e,o,t,!1)}})};return a}t.prototype.render=function(){return this.props.data?c.createElement("div",null,c.createElement(p.default,{data:this.props.data,
app:this.props.app,toggle:this.toggle,setDueDate:this.setDueDate,hideFacepile:this.props.hideFacepile,hideDueDate:this.props.hideDueDate,options:this.props.options,
hidePadTitle:this.props.hidePadTitle,theme:this.props.theme,onLoadMoreTasks:this.props.onLoadMoreTasks,numberOfTasks:this.props.numberOfTasks,isOffline:this.props.isOffline})):null}
;t.prototype.handleResponse=function(e,t,a,r,s){if(r.failure){h.trackEng("task-page-operated-failed",{failure:r.failure,operation:e});var p=null,v=document.createElement("div")
;document.body.appendChild(v);u.reactDomRender(c.createElement(m.ToastAndUnmountErrorBoundary,null,c.createElement(d.default,{unmountOnClose:!0,openOnMount:!0,ref:function(e){p=e}
},c.createElement(i.IntlProvider,{locale:o.default.userLocale
},c.createElement("div",null,c.createElement("h1",null,c.createElement(f,n.__assign({},g.taskMoved))),c.createElement("div",null,c.createElement(f,n.__assign({},g.itLooks))),c.createElement("div",{
className:"dmc-button-pair"},c.createElement(l.default,{primary:!0,onClick:function(){return p.close()}},c.createElement(f,n.__assign({},g.close)))))))),v)
}else h.trackIntention("task-page-"+e+"-completed");this.props.stores.taskList.updatePadTasks(t.localPadId,a,r,s||!!r.failure)};t.displayName="TasksPanel";return t=n.__decorate([r.default],t)
}(c.PureComponent);t.default=v},1732:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(6),i=a(10),r=a(21),s=a(22),l=a(2),d=a(142),c=a(60),u=a(7),p=a(1733),m=a(58),h=a(365),f=a(7),g=a(7),v=a(0),b=a(63),y=a(13),E=a(1734),k=a(4),_=a(908),C=(0,
a(5).PaperIntlFactory)().F,S=(0,l.defineMessages)({dueToday:{id:"EeoPFf",defaultMessage:"Due today"},dueTomorrow:{id:"T8dS/r",defaultMessage:"Due tomorrow"},dueThisWeek:{id:"HIvyxJ",
defaultMessage:"Due this week"},dueNextWeek:{id:"U/Iyzi",defaultMessage:"Due next week"},dueLater:{id:"YqpNso",defaultMessage:"Due later"},backlog:{id:"H+OvRt",defaultMessage:"Backlog"},noDueDate:{
id:"gRA1j4",defaultMessage:"No due date"},overdue:{id:"ByF8dx",defaultMessage:"Overdue"},untitled:{id:"YhUh+a",defaultMessage:"Untitled"},unfiled:{id:"waynNn",defaultMessage:"Unfiled"},showMore:{
id:"iGN4lJ",defaultMessage:"Show more"}}),w=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleDocTitleClick=function(e){(0,k.trackUi)("Open Task Doc")
;a.props.app.onLinkClicked(e)};a.renderTaskLoadButton=function(){
if((a.props.data.tasks.length!==a.props.numberOfTasks||a.props.data.moreTasksAvailableInDb)&&0!==a.props.data.tasks.length)return v.createElement("div",{className:"tasklet-load-tasks-btn-container"
},v.createElement(r.default,{className:"tasklet-load-tasks-btn-dig",variant:"outline",onClick:a.props.onLoadMoreTasks,size:"large",fullWidth:!0},v.createElement(C,n.__assign({},S.showMore))))}
;a.state={sections:a.calculateSections(t)};return a}t.prototype.componentWillReceiveProps=function(e){
(!this.state||this.dataChanged(e)||this.viewModeChanged(e)||this.sortChanged(e)||this.orderChanged(e))&&this.setState({sections:this.calculateSections(e)})};t.prototype.calculateSections=function(e){
var t=this,a=this.getSectionsFromState();this.sortChanged(e)&&(a=[]);var n=!a.length||this.dataGotUpdated(e)||this.viewModeChanged(e)
;a=n?e.options.viewMode==_.ViewMode.FOLDERS?this.createProjectSections(e):e.options.viewMode==_.ViewMode.UPCOMING?this.createUpcomingSections(e):e.options.viewMode==_.ViewMode.DUE_DATES?this.createDueDateSections(e):e.options.viewMode==_.ViewMode.DOCS?this.createDocSections(e):this.createNoSections(e):this.updateSectionsInPlace(a,e.data.tasks)
;n||this.sortChanged(e)?a.forEach((function(a){a.entries=t.sortEntriesBy(a.entries,e.options.sortBy);e.options.sortOrder==g.SortOrder.Desc&&(a.entries=a.entries.reverse())
})):this.orderChanged(e)&&a.forEach((function(e){return e.entries=e.entries.reverse()}));if(e.options.viewMode==_.ViewMode.DUE_DATES)return a;a=o.sortBy(a,(function(a){
var n=!!a&&!!a.entries&&a.entries[0],o=!!n&&n.entries[0],i=o&&o.task;return i?t.getTaskSortingAttribute(i,e.options.sortBy):null}));e.options.sortOrder==g.SortOrder.Desc&&(a=a.reverse());return a}
;t.prototype.viewModeChanged=function(e){return e.options.viewMode!=this.props.options.viewMode};t.prototype.sortChanged=function(e){return e.options.sortBy!=this.props.options.sortBy}
;t.prototype.orderChanged=function(e){return e.options.sortOrder!=this.props.options.sortOrder};t.prototype.dataChanged=function(e){return e.data!=this.props.data}
;t.prototype.dataGotUpdated=function(e){return e.data.version!==this.props.data.version||e.data.tasks.length!==this.props.data.tasks.length};t.prototype.getSectionsFromState=function(){
return this.state&&this.state.sections&&this.state.sections.length?this.state.sections:[]};t.prototype.sortEntriesBy=function(e,t){var a=this;return o.sortBy(e,(function(e){var n=e.entries[0].task
;return a.getTaskSortingAttribute(n,t)}))};t.prototype.getTaskSortingAttribute=function(e,t){
return t==g.SortBy.Alpha?e.textline.toLowerCase():t==g.SortBy.MentionCreatedTime?new Date(e.taskCreated).getTime():t==g.SortBy.LastEditedDate?new Date(e.lastEditedDate).getTime():t===g.SortBy.LineNumber?e.lineNumber:t===g.SortBy.CompletedTime?new Date(e.taskCompleted).getTime():new Date(e.dueDate).getTime()
};t.prototype.updateSectionsInPlace=function(e,t){var a=this,n=o.keyBy(t,"encryptedId");return this.state.sections.map((function(e){return{key:e.key,label:e.label,entries:e.entries.map((function(e){
return{entries:e.entries.map((function(e){var t=n[e.task.encryptedId],o=a.props.data.poolsByPadId[t.localPadId];return{task:t,mentions:(0,p.extractMentionsFromTask)(t,o,a.props.app),
indentLevel:e.indentLevel}})).filter((function(e){return!!e.task}))}})).filter((function(e){return e.entries.length>0}))}}))};t.prototype.groupNearbyTasks=function(e){
var t,a=[],n=o.groupBy(e.data.tasks,"localPadId");for(var i in n){var r=o.groupBy(n[i],"zoneId");for(var s in r)for(var l=null,d=0,c=o.sortBy(r[s],"lineNumber");d<c.length;d++){
var m=c[d],h=e.data.poolsByPadId[m.localPadId],g=(0,p.extractMentionsFromTask)(m,h,e.app);if(null!=l){
var v=l.entries[l.entries.length-1],b=v.task.lineNumber,y=this.getIndentLevel(l.entries[0].task,e),E=this.getIndentLevel(m,e);if(m.lineType!==u.LineType.timeline&&E>y&&b+1==m.lineNumber){
l.entries.push({task:m,mentions:g,indentLevel:E});continue}if(m.lineType===u.LineType.timeline&&v.task.usuallyUniqueId===m.usuallyUniqueId){(t=v.mentions).push.apply(t,g);continue}}
if(m.type!=f.MentionType.inherited){l={entries:[{task:m,mentions:g,indentLevel:this.getIndentLevel(m,e)}]};a.push(l)}}}for(var k=function(e){var t=o.uniq(e.entries.map((function(e){
return e.indentLevel}))).sort(),a={};t.forEach((function(e,t){return a[e]=t}));for(var n=0,i=e.entries;n<i.length;n++){var r=i[n];r.indentLevel=a[r.indentLevel]}},_=0,C=a;_<C.length;_++){k(C[_])}
return a};t.prototype.getIndentLevel=function(e,t){var a=s.opIterator(e.aline),n=t.data.poolsByPadId[e.localPadId],o=s.opAttributeValue(a.next(),"list",n)||"",i=m.parseListType(o);return i?i.indent:-1
};t.prototype.createNoSections=function(e){var t=this.groupNearbyTasks(e);return this.runSectionBuilder([{key:"all",label:null,entries:[],matches:function(e){return!0}}],t)}
;t.prototype.createUpcomingSections=function(e){var t=[{key:"due-today",label:v.createElement("span",null,v.createElement(y.default,{name:"action-meeting-note"
}),v.createElement(C,n.__assign({},S.dueToday))),entries:[],matches:function(e){return!!x(e)&&T(e)<=0}},{key:"due-soon",label:v.createElement("span",null,v.createElement(y.default,{
name:"action-meeting-note"}),v.createElement(C,n.__assign({},S.dueThisWeek))),entries:[],matches:function(e){return!!x(e)&&T(e)<=7}},{key:"due-later",
label:v.createElement("span",null,v.createElement(y.default,{name:"action-meeting-note"}),v.createElement(C,n.__assign({},S.backlog))),entries:[],matches:function(e){return!!x(e)&&T(e)>7}},{
key:"due-never",label:v.createElement("span",null,v.createElement(y.default,{name:"action-meeting-note"}),v.createElement(C,n.__assign({},S.noDueDate))),entries:[],matches:function(e){return!x(e)}
}],a=this.groupNearbyTasks(e),i=o.sortBy(a,(function(e){var t=e.entries[0].task;return x(t)||t.lastViewed}));return this.runSectionBuilder(t,i)};t.prototype.createDueDateSections=function(e){var t=[{
key:"overdue",label:v.createElement("span",null,v.createElement(C,n.__assign({},S.overdue))),entries:[],matches:function(e){return!!x(e)&&T(e)<0}},{key:"due-today",
label:v.createElement("span",null,v.createElement(C,n.__assign({},S.dueToday))),entries:[],matches:function(e){return!!x(e)&&0==T(e)}},{key:"due-tomorrow",
label:v.createElement("span",null,v.createElement(C,n.__assign({},S.dueTomorrow))),entries:[],matches:function(e){return!!x(e)&&1==T(e)}},{key:"due-week",
label:v.createElement("span",null,v.createElement(C,n.__assign({},S.dueThisWeek))),entries:[],matches:function(e){return!!x(e)&&function(e){if(!e.dueDate)return!1
;return d.inSameWeek(new Date(e.dueDate))}(e)}},{key:"due-next-week",label:v.createElement("span",null,v.createElement(C,n.__assign({},S.dueNextWeek))),entries:[],matches:function(e){
return!!x(e)&&T(e)<14-(new Date).getDay()}},{key:"due-later",label:v.createElement("span",null,v.createElement(C,n.__assign({},S.dueLater))),entries:[],matches:function(e){return!!x(e)}},{
key:"due-never",label:v.createElement("span",null,v.createElement(C,n.__assign({},S.noDueDate))),entries:[],matches:function(e){return!x(e)}}],a=this.groupNearbyTasks(e),i=o.sortBy(a,(function(e){
var t=e.entries[0].task;return x(t)||new Date(t.lastEditedDate).getTime()}));return this.runSectionBuilder(t,i)};t.prototype.runSectionBuilder=function(e,t){t.forEach((function(t){
for(var a=0,n=e;a<n.length;a++){var o=n[a];if(o.matches(t.entries[0].task)){o.entries.push(t);break}}}));return e.filter((function(e){return e.entries.length>0}))}
;t.prototype.createProjectSections=function(e){var t,a=this.groupNearbyTasks(e),i=o.partition(a,(function(e){return!!x(e.entries[0].task)})),r=i[0],s=i[1];r=o.sortBy(r,(function(e){
return x(e.entries[0].task)}));s=o.sortBy(s,(function(e){return e.entries[0].task.lastViewed}));for(var l=r.concat(s),d={key:"no-folder",label:v.createElement("span",null,v.createElement(y.default,{
name:"action-create-doc"}),v.createElement(C,n.__assign({},S.unfiled))),entries:[]},u=((t={})[d.key]=d,t),p=[],m=0,h=l;m<h.length;m++){
var f=h[m],g=f.entries[0].task,b=g.folderData?g.folderData.folder.encryptedId:d.key,E=g.folderData&&g.folderData.folder&&g.folderData.folder.isProject?"action-project":"action-create-folder",k=u[b]
;if(!k){k={key:b,label:v.createElement("span",null,v.createElement(y.default,{name:E}),v.createElement(c.default,{str:g.folderData.folder.name})),entries:[]};u[b]=k;p.push(k)}k.entries.push(f)}
d.entries.length>0&&p.push(d);return p};t.prototype.createDocSections=function(e){for(var t=this.groupNearbyTasks(e),a=o.sortBy(t,(function(e){return e.entries[0].task.lastEditedDate
})).reverse(),r={},s=[],l=0,d=a;l<d.length;l++){var u=d[l],p=u.entries[0].task,m=p.localPadId,h=p.title?v.createElement(c.default,{str:p.title
}):v.createElement(C,n.__assign({},S.untitled)),f=v.createElement(i.default,{styleless:!0,onClick:this.handleDocTitleClick,href:p.padUrl,"track-title":"Task doc section",className:"hp-task-doc-button"
},v.createElement(y.default,{name:"note"}),h),g=r[m];if(!g){g={key:m,label:f,entries:[]};r[m]=g;s.push(g)}g.entries.push(u)}return s};t.prototype.render=function(){
var e=this,t=this.state.sections.map((function(t){var a=[];t.entries.forEach((function(t){t.entries.forEach((function(t){var n=t.task;a.push(v.createElement(E.default,{key:n.encryptedId,task:n,
mentions:t.mentions,app:e.props.app,indentLevel:t.indentLevel,pool:e.props.data.poolsByPadId[n.localPadId],toggle:e.props.toggle,setDueDate:e.props.setDueDate,hideFacepile:e.props.hideFacepile,
hideDueDate:e.props.hideDueDate,hidePadTitle:e.props.hidePadTitle,theme:e.props.theme,isOffline:e.props.isOffline}))}))}));return v.createElement(I,{key:t.key,title:t.label,tasks:a})}))
;return v.createElement(h.default,{ref:"mentionTooltip",enabled:!0},v.createElement("div",{className:"hp-tasks-list"
},t),b.isOnButDoNotLog(g.PaperStormcrow.PAPER_TASK_LIST_PAGING)&&this.renderTaskLoadButton())};t.displayName="TaskTabContent";return t}(v.PureComponent);function I(e){return v.createElement("div",{
className:"hp-task-section"},!!e.title&&v.createElement("div",{className:"hp-tasks-section-heading"},e.title),e.tasks)}function x(e){return e.dueDate?d.toDateStringFromUtc(new Date(e.dueDate)):null}
function T(e){return e.dueDate?d.daysUntil(new Date(e.dueDate),14):null}t.default=w},1733:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.extractMentionUserInfoFromApp=t.extractMentionsFromTodoTask=t.extractMentionsFromTimelineTask=t.extractMentionsFromTask=void 0;var n=a(22),o=a(8),i=a(7);t.extractMentionsFromTask=function(e,t,a){
return e.lineType===i.LineType.timeline?r(e,a):s(e,t,a)};function r(e,t){return[{encryptedAccountId:e.encryptedMentioneeId,mentionText:e.mentioneeName,userInfo:l(e.encryptedMentioneeId,t)}]}
t.extractMentionsFromTimelineTask=r;function s(e,t,a){for(var o=[],i=n.opIterator(e.aline),r={};i.hasNext();){
var s=i.next(),d=n.attribsAttributeValue(s.attribs,"mentionurl",t),c=n.attribsAttributeValue(s.attribs,"mentiontext",t);if(d&&c){var u=d.substring(12);if(!(u in r)){o.push({encryptedAccountId:u,
mentionText:c,userInfo:l(u,a)});r[u]=!0}}}return o}t.extractMentionsFromTodoTask=s;function l(e,t){if(e==o.default.encryptedUserId)return{name:o.default.userName,userPic:o.default.userPic,
email:o.default.userEmail,secureUserId:o.default.secureUserId};var a=t&&t.getCurrentPadController(),n=a?a.peopleList:null;return n&&n.getUser("d."+e)||null}t.extractMentionUserInfoFromApp=l},
1734:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(351),i=a(22),r=a(3),s=a(141),l=a(877),d=a(30),c=a(8),u=a(2),p=a(64),m=a(814),h=a(60),f=a(7),g=a(11),v=a(10),b=a(73),y=a(4),E=a(66),k=a(77),_=a(0),C=a(182),S=a(32),w=a(13),I=a(572),x=a(160),T=a(5),P=a(813),M=(0,
T.PaperIntlFactory)()._f,F=(0,u.defineMessages)({tasksAlt:{id:"HWbD0H",defaultMessage:"Checkbox"}}),N=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this
;a.handleDocTitleClick=function(e){(0,y.trackUi)("Open Task",{isDocTitle:!0});a.handleTaskClick(e)};a.handleTaskTextClick=function(e){(0,y.trackUi)("Open Task",{isDocTitle:!1});a.handleTaskClick(e)}
;a.toggle=function(){if(!a.props.isOffline){y.IntentionEvent.ToggleTask.track({wasCompleted:a.props.task.lineType==f.LineType.taskdone,hasDueDate:!!a.props.task.dueDate,context:a.getTrackContext()})
;a.setState({lineState:n.__assign(n.__assign({},a.state.lineState),{isComplete:!a.state.lineState.isComplete}),justCompleted:!a.state.lineState.isComplete});a.timers.setTimeout((function(){
return a.props.toggle(a.props.task)}),600)}};a.saveDueDate=function(e){a.props.isOffline||a.props.setDueDate(a.props.task,e)};a.state=a.calculateState(t);return a}
t.prototype.getTrackContext=function(){};t.prototype.renderTaskIconControl=function(){var e=this.props.task.lineType;if(e===f.LineType.timeline)return _.createElement(v.default,{styleless:!0,
href:this.taskUrl(),className:"selenium-task-checkbox hp-task-timeline-icon",onClick:this.handleTaskTextClick},_.createElement(w.default,{name:"timeline-tiny"}))
;var t=e==f.LineType.task,a="dark"==this.props.theme,n=t?a?"unchecked-inverse":"unchecked3":a?"checked-inverse":"checked3";return _.createElement("div",{
className:r("selenium-task-checkbox","hp-task-checkbox",{"hp-task-offline":this.props.isOffline}),onClick:this.toggle},_.createElement(b.default,{src:"/static/img/ace/"+n+".png",alt:M(F.tasksAlt)}))}
;t.prototype.renderTimelineTaskMetadata=function(){if(this.props.hideDueDate&&this.props.hideFacepile)return null;var e=this.props.task,t=e.startDate,a=e.dueDate;return _.createElement("div",{
className:"hp-task-metadata"},_.createElement(v.default,{styleless:!0,href:this.taskUrl(),className:"hp-task-text-container",onClick:this.handleTaskTextClick
},!this.props.hideDueDate&&_.createElement("div",{className:"hp-task-text notranslate selenium-task-text"},(0,
l.createTimelineDateRangeText)(new Date(t),new Date(a),c.default.userLocale)),!this.props.hideFacepile&&_.createElement("div",{className:"hp-task-text notranslate selenium-task-text"
},_.createElement(o.AssignedUsersPile,{mentions:this.state.lineState.mentions,isCompleteTask:this.state.lineState.isComplete}))))};t.prototype.renderAssignedUsers=function(){
return this.props.hideFacepile||!this.state.lineState.mentions.length?null:_.createElement("div",{className:r(P.default.button,P.default.spaceOut)},_.createElement(o.AssignedUsersPile,{
mentions:this.state.lineState.mentions,isCompleteTask:this.state.lineState.isComplete,withBorder:!0}))};t.prototype.renderTodoTaskMetadata=function(){
return this.props.hideDueDate&&this.props.hideFacepile?null:_.createElement(k.LayerContext.Provider,{value:{zIndex:d.default.zindex_assist_sidebar}},_.createElement("div",{className:"hp-task-metadata"
},!this.props.hideDueDate&&_.createElement(m.default,{canEdit:!this.props.disableDueDate,line:this.state.lineState,save:this.saveDueDate,isOffline:this.props.isOffline,inSidebar:!0
}),this.renderAssignedUsers()))};t.prototype.render=function(){
var e=this.renderTaskIconControl(),t=this.props.task.lineType===f.LineType.timeline?this.renderTimelineTaskMetadata():this.renderTodoTaskMetadata(),a=r("selenium-task","hp-task","hp-task-indent-0",{
"hp-task-wrapper-completed":this.state.justCompleted
}),n=!this.props.hideDueDate||!this.props.hideFacepile,o=!this.props.hideDueDate&&!!this.state.lineState.dueDate,i=!this.props.hideFacepile&&!!this.state.lineState.mentions&&!!this.state.lineState.mentions.length,s=n&&(o||i),l=r("hp-task-link",{
"hp-task-completed":this.state.lineState.isComplete,"hp-task-allows-metadata":n,"hp-task-displays-metadata":s,"hp-task-offline":this.props.isOffline});return _.createElement("div",{className:a,
"data-mention-person-pad-id":this.props.task.localPadId},e,_.createElement("div",{className:l},_.createElement("div",{className:"hp-task-text-and-buttons"},_.createElement(v.default,{styleless:!0,
href:this.taskUrl(),className:"hp-task-text-container",onClick:this.handleTaskTextClick},_.createElement("div",{className:"hp-task-text notranslate selenium-task-text",dangerouslySetInnerHTML:{
__html:this.state.html}})),t),0!=this.props.indentLevel||this.props.hidePadTitle?null:_.createElement(v.default,{styleless:!0,onClick:this.handleDocTitleClick,href:this.taskUrl(),
"track-title":"Task entry",className:"hp-task-doc-button mention-content mention-pad"},_.createElement(h.default,{str:S.padTitleOrDefault(this.props.task.title,c.default.userLocale)}))))}
;t.prototype.componentWillReceiveProps=function(e){this.state&&e.task==this.props.task||this.setState(this.calculateState(e))};t.prototype.calculateState=function(e){var t=(0,
p.docHand)(i.makeZatext(e.task.textline,e.task.aline),e.pool);return{html:C.renderTaskLine(t,0,c.default.userLocale,(0,s.default)()),lineState:{domId:"",usuallyUniqueId:"",
isComplete:e.task.lineType==f.LineType.taskdone||e.task.lineType==f.LineType.timeline&&!!e.task.taskCompleted,dueDate:e.task.dueDate?new Date(e.task.dueDate):null,mentions:e.mentions,textDir:(0,
I.textDir)(e.task.textline)},justCompleted:!1}};t.prototype.taskUrl=function(){return this.props.task.padUrl+S.taskLineMarker(this.props.task)};t.prototype.handleTaskClick=function(e){
var t=e.currentTarget.getAttribute("href");((0,x.isUrlLocal)(t)||(0,E.isApollo)())&&this.props.app.onLinkClicked(e)};t.displayName="Task";return t=n.__decorate([y.trackContextDecorator,g.default],t)
}(_.PureComponent);t.default=N},1737:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.AceAutocompose=void 0;var n=a(1),o=a(6),i=a(22),r=a(54),s=a(4),l=a(20),d=a(44),c=a(64),u={
getSuggestion:function(e){return{text:' [suggestion for "'.concat(e,'"]')}}},p=function(){function e(){var e=this;this.addonName="autocompose";this.editor=null;this.lastSelection=null
;this.lastActionShouldPreventNewSuggestions=!1;this.lastSuggestion=null;this.hasSuggestion=!1;this.lastPartialSentence=null;this.dataSource_=null;this.transcriptionSourceInterval=null
;this.transcriptHasContent=!1;this.config={};this.log=[];this.debugExports={dummyDataSource:u,Changeset:i,Position:l.Position,zoneHand:c.zoneHand};this.checkForTranscriptionSource=function(){
var t,a=e.getDataSourceIfAFWChromeExtension(),n=null===(t=null==a?void 0:a.debug)||void 0===t?void 0:t.transcriptionSource;if(n){e.track("AFW Autocompose Transcription Source Opened",{source:n})
;e.editor.observer.trigger("afw-transcription-source-opened",void 0);clearInterval(e.transcriptionSourceInterval)}};this.onRepChange=function(){setTimeout((function(){e.checkForNewSuggestions()}),0)}
;this.onLegacyObserverKeyDown=function(t,a){return e.handleKeyDown(a)};this.handleMouseDown=function(t){e.abortSuggestion();e.lastActionShouldPreventNewSuggestions=!0};this.handleKeyDown=function(t){
if(!e.editor)return!0;var a=!1;e.lastActionShouldPreventNewSuggestions=!1;switch(t.key){case"Enter":a=e.doEnterKey();break;case"Escape":a=e.doEscapeKey();break;case"Backspace":a=e.doBackspaceKey()
;break;case"Tab":a=e.doTabKey();break;case"ArrowRight":a=e.doRightArrowKey();break;case"ArrowLeft":case"ArrowUp":case"ArrowDown":case"End":a=e.doMiscCursorMovingKey()}
a?t.preventDefault():e.abortSuggestion(!1);return!a};this.handleEditableStateChanged=function(t){t!=r.EditableState.Editable&&e.abortSuggestion(!1)}}Object.defineProperty(e.prototype,"dataSource",{
get:function(){return this.dataSource_},set:function(e){e!==this.dataSource_&&this.track("AFW Autocompose Datasource Registered");this.dataSource_=e},enumerable:!1,configurable:!0})
;e.prototype.init=function(e){this.editor=e;this.editor.observer.on("rep-change",this.onRepChange);this.editor.observer.on("editable-state-changed",this.handleEditableStateChanged)
;this.editor.observer.on("mousedown",this.handleMouseDown);this.transcriptionSourceInterval=(0,d.setInterval)(this.checkForTranscriptionSource,5e3)};e.prototype.dispose=function(){
this.editor.observer.off("rep-change",this.onRepChange);this.editor.observer.off("editable-state-changed",this.handleEditableStateChanged);this.editor.observer.off("mousedown",this.handleMouseDown)
;this.editor=null;this.transcriptionSourceInterval&&clearInterval(this.transcriptionSourceInterval)};e.prototype.getDataSourceIfAFWChromeExtension=function(){var e=this.dataSource
;return e&&"debug"in e?e:null};Object.defineProperty(e.prototype,"markerSelector",{get:function(){return"".concat(this.editor.dom.getRootSelector()," span.autocompose-marker")},enumerable:!1,
configurable:!0});e.prototype.setDisplayedSuggestionText=function(e){var t=this.editor.dynamicCSS;t&&(t.selectorStyle("".concat(this.markerSelector,"::after")).content=JSON.stringify(e))}
;e.prototype.abortSuggestion=function(e){var t=this;void 0===e&&(e=!0);if(this.hasSuggestion){this.hasSuggestion=!1;this.setDisplayedSuggestionText("")
;this.editor.execute("autocompose-abort-suggestion",(function(){var e=o.toArray(document.querySelectorAll(t.markerSelector)).map((function(e){return t.editor.selection.getPositionForNode(e)
})),a=o.uniqBy(e,(function(e){return"".concat(e.zone,"-").concat(e.line)})).map((function(e){return e.withCol(0)}));0!=a.length&&t.editor.callStack.makeNewNonundoableEvent((function(){
a.forEach((function(e){var a=t.editor.getRep(e.zone).lines.atIndex(e.line).width-1,n=e.withCol(a)
;t.editor.contents.performDocumentApplyAttributesToRange(e,n,[["clientside-autocompose",""]],r.EditableState.Readonly)}))}))}))
;e&&this.track(s.IntentionEvent.AFWAutocomposeDismissSuggestion,this.getSuggestionTrackingData())}};e.prototype.commitSuggestion=function(){var e=this;if(this.hasSuggestion){
this.editor.execute("autocompose-commit-suggestion",(function(){e.abortSuggestion(!1);var t=e.editor.selection.get()
;e.editor.contents.performDocumentReplaceRange(t.start,t.start,e.lastSuggestion.text)}));this.track(s.IntentionEvent.AFWAutocomposeApproveSuggestion,this.getSuggestionTrackingData())}}
;e.prototype.addSuggestion=function(e){var t,a,n=this;if(!this.hasSuggestion){this.hasSuggestion=!0
;(null===(a=null===(t=this.lastSuggestion)||void 0===t?void 0:t.text)||void 0===a?void 0:a.trim())!=e.text.trim()&&this.track("AFW Autocompose New Suggestion",this.getSuggestionTrackingData(e))
;this.lastSuggestion=e;this.setDisplayedSuggestionText(this.lastSuggestion.text);this.editor.execute("autocompose-add-suggestion",(function(){var e=n.editor.selection.get().end,t=e.withCol(e.col-1)
;n.editor.callStack.makeNewNonundoableEvent((function(){n.editor.contents.performDocumentApplyAttributesToRange(t,e,[["clientside-autocompose","true"]],r.EditableState.Readonly)}))}))}}
;e.prototype.checkForNewSuggestions=function(){var e,t=this;if(this.dataSource||this.hasSuggestion){
var a=this.getDataSourceIfAFWChromeExtension(),n=null===(e=null==a?void 0:a.debug)||void 0===e?void 0:e.getSentences();if((null==n?void 0:n.length)&&!this.transcriptHasContent){
this.track("AFW Autocompose First Edit Eligible For Suggestion");this.transcriptHasContent=!0}
this.lastActionShouldPreventNewSuggestions||this.editor.execute("autocompose-update-selection",(function(){var e,a=t.editor.selection.get();if(t.lastSelection!=a.toString()){
t.lastSelection=a.toString();t.abortSuggestion(!1);if(t.editor.editableState.getIsEditable()&&a.hasSelection&&a.isCollapsed){var n=t.editor.getRep(a.start.zone).lines.atIndex(a.start.line)
;if(!(a.end.col<=n.lineMarker)){var o=t.getPartialSentence(n);t.lastPartialSentence=o;var i=o&&(null===(e=t.dataSource)||void 0===e?void 0:e.getSuggestion(o));i&&t.addSuggestion(i)}}}}))}}
;e.prototype.getPartialSentence=function(e){
var t=this.editor.selection.get().end,a=this.editor.contents.getTextInRange(t.withCol(e.lineMarker),t),n=this.editor.contents.getTextInRange(t,t.withCol(e.text.length)),o=["\n",".","?","!",";"],i=function(e,t,a){
void 0===a&&(a=0);var n=t.map((function(t){return e.indexOf(t,a)})).filter((function(e){return-1!=e}));return n.length>0?Math.min.apply(Math,n):-1}(n,o)
;if(0!=n.substring(0,-1!=i?i:n.length).trim().length)return null;var r=function(e,t,a){void 0===a&&(a=e.length);return Math.max.apply(Math,t.map((function(t){return e.lastIndexOf(t,a)})))
}(a,o),s=a.substring(-1!=r?r+1:0).replace(/[^\w\s',]/g,"");return 0==s.length?null:s};e.prototype.doRightArrowKey=function(){if(!this.hasSuggestion){this.lastActionShouldPreventNewSuggestions=!0
;return!1}this.commitSuggestion();return!0};e.prototype.doTabKey=function(){if(!this.hasSuggestion)return!1;this.commitSuggestion();return!0};e.prototype.doEscapeKey=function(){
if(!this.hasSuggestion)return!1;this.abortSuggestion();return!0};e.prototype.doBackspaceKey=function(){this.abortSuggestion();this.lastActionShouldPreventNewSuggestions=!0;return!1}
;e.prototype.doMiscCursorMovingKey=function(){this.abortSuggestion();this.lastActionShouldPreventNewSuggestions=!0;return!1};e.prototype.doEnterKey=function(){this.abortSuggestion();return!1}
;e.prototype.track=function(e,t){void 0===t&&(t={});var a=o.omit(t,"__unsafe");"string"==typeof e?(0,s.trackEng)(e,a):e.track(a);this.log.push(n.__assign(n.__assign({
msg:"string"==typeof e?e:e.eventName,timestamp:Date.now()},a),t.__unsafe))};e.prototype.getSuggestionTrackingData=function(e){void 0===e&&(e=this.lastSuggestion)
;return e?n.__assign(n.__assign({},e.trackData),{__unsafe:{pos:this.editor.selection.get().start,partialSentence:this.lastPartialSentence,suggestion:e}}):{}};return e}();t.AceAutocompose=p},
1738:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.Draggable=void 0;var n=a(1),o=a(11),i=a(0),r=function(e){n.__extends(t,e);function t(){
return null!==e&&e.apply(this,arguments)||this}a=t;t.prototype.render=function(){var e=this;return i.createElement("div",{className:"find-and-replace-draggable-container",ref:function(t){
return e.container=t}},i.createElement("div",{className:"find-and-replace-draggable-element",ref:function(t){return e.element=t},onMouseDown:function(t){return e.startDragging(t)},
onMouseUp:function(){return e.stopDragging()}},this.props.children))};t.prototype.componentWillUpdate=function(){this.moveElement(0,0)};t.leftButtonPressed=function(e){return 1==(1&e.buttons)}
;t.prototype.moveElement=function(e,t){this.element.style.left=e+"px";this.element.style.top=t+"px"};t.prototype.startDragging=function(e){var t=this;if(this.props.draggingEnabled){
if(e.target instanceof Element){var n=e.target;if((n.matches||n.msMatchesSelector).call(n,"input, textarea"))return}
var o=this.element.style,i=parseInt(o.top,10),r=parseInt(o.left,10),s=e.clientX,l=e.clientY;this.container.style.cursor="move";this.events.on(document,"mousemove",(function(e){e.stopPropagation()
;if(a.leftButtonPressed(e)){var n=r+e.clientX-s,o=i+e.clientY-l;t.moveElement(n,o)}else t.stopDragging()}))}};t.prototype.stopDragging=function(){this.container.style.cursor="default"
;this.events.removeAll()};var a;t.displayName="Draggable";return t=a=n.__decorate([o.default],t)}(i.PureComponent);t.Draggable=r},1739:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.ModalStatus=void 0;var n,o=a(1),i=a(6),r=a(4),s=a(3),l=a(8),d=a(2),c=a(11),u=a(640),p=a(10),m=a(43),h=a(14),f=a(486),g=a(0),v=a(13),b=a(31),y=(0,
h.MsgFactory)("find-and-replace"),E=y.defineMessages,k=y.F,_=y.IntlMessageFormat,C=E({findAndReplace:{msg:"Find and Replace"},findPrev:{msg:"Find previous"},findNext:{msg:"Find next"},
minimizedFindPlaceholder:{msg:"Find in this doc",description:"Placeholder for Find bar text box (while minimized)"},expandedFindPlaceholder:{msg:"Something in this doc",
description:"Placeholder for Find bar text box"},replacePlaceholder:{msg:"Something better",description:"Placeholder for Replace text box"},currentindexnumberoftotalnumber:{
msg:"{currentIndex, number} of {total, number}",description:"Note on the find-and-replace dialog, indicating how many matches were found and which one is highlighted."},find:{msg:"Find"},replacewith:{
msg:"Replace with",description:"Label on the find-and-replace dialog, telling the user to enter the replacement text."},matchcase:{msg:"Match case"},regularexpressions:{msg:"Regular expressions",
description:"checkbox that enables user to search using the specific formatting known as 'regex'"},regularExpressions:{msg:"Regular Expressions"},replace:{msg:"Replace"},replaceall:{msg:"Replace all"
},moreoptions:{msg:"More options"}});(0,d.defineMessages)({findAndReplace:{id:"8HlTdI",defaultMessage:"Find and Replace"},findPrev:{id:"elnDTb",defaultMessage:"Find previous"},findNext:{id:"7Oyu/h",
defaultMessage:"Find next"},minimizedFindPlaceholder:{id:"zCJ4wX",defaultMessage:"Find in this doc"},expandedFindPlaceholder:{id:"iGWOEU",defaultMessage:"Something in this doc"},replacePlaceholder:{
id:"vDe48/",defaultMessage:"Something better"},currentindexnumberoftotalnumber:{id:"S/yflv",defaultMessage:"{currentIndex, number} of {total, number}"},find:{id:"3yUbBu",defaultMessage:"Find"},
replacewith:{id:"LJcM68",defaultMessage:"Replace with"},matchcase:{id:"0Yu/nq",defaultMessage:"Match case"},regularexpressions:{id:"apepFm",defaultMessage:"Regular expressions"},regularExpressions:{
id:"qxQDVK",defaultMessage:"Regular Expressions"},replace:{id:"p897Ja",defaultMessage:"Replace"},replaceall:{id:"YGvwqJ",defaultMessage:"Replace all"},moreoptions:{id:"hsCjXs",
defaultMessage:"More options"}});!function(e){e[e.Closed=0]="Closed";e[e.Collapsed=1]="Collapsed";e[e.Expanded=2]="Expanded"}(n=t.ModalStatus||(t.ModalStatus={}));var S=function(e){o.__extends(t,e)
;function t(t){var a=e.call(this,t)||this;a.isInitialized=!1;a.onSearchChange=function(){a.setState({findText:a.searchInput.value});a.findAndHighlight()}
;a.onDebounceSearchChange=i.debounce(a.onSearchChange,200);a.onKeyPress=function(e){e.which==m.KeyCode.ENTER&&(e.shiftKey?a.prev():a.next())};a.onReplaceChange=function(e){a.setState({
replaceText:e.target.value})};a.onFindFocus=function(){a.setState({focus:!0},(function(){a.searchInput.value&&a.searchInput.select()}))};a.onFindBlur=function(){a.setState({focus:!1})}
;a.replace=function(){a.getController().replace(a.state.replaceText);a.onDocContentChange();r.IntentionEvent.Replace.track({status:a.state.status,matchCase:a.state.matchCase,
matchRegex:a.state.matchRegex})};a.replaceAll=function(){a.getController().replaceAll(a.state.replaceText);a.onDocContentChange();r.IntentionEvent.ReplaceAll.track({status:a.state.status,
matchCase:a.state.matchCase,matchRegex:a.state.matchRegex})};a.next=function(){a.onDebounceSearchChange.flush();if(!(a.state.total<=0)){a.getController().next();a.updateCurrentIndex()
;r.IntentionEvent.FindNext.track({status:a.state.status,matchCase:a.state.matchCase,matchRegex:a.state.matchRegex})}};a.prev=function(){a.onDebounceSearchChange.flush();if(!(a.state.total<=0)){
a.getController().prev();a.updateCurrentIndex();r.IntentionEvent.FindPrev.track({status:a.state.status,matchCase:a.state.matchCase,matchRegex:a.state.matchRegex})}};a.onMatchCaseChanged=function(){
a.setState({matchCase:!a.state.matchCase});a.onSearchChange();r.IntentionEvent.ToggleCaseMatch.track({state:!a.state.matchCase})};a.onRegexChanged=function(){a.setState({matchRegex:!a.state.matchRegex
});a.onSearchChange();r.IntentionEvent.ToggleRegExp.track({state:!a.state.matchRegex})};a.onExpandClicked=function(){a.setState({status:n.Expanded,replaceText:""})
;r.IntentionEvent.ExpandFindAndReplace.track({status:a.state.status,matchCase:a.state.matchCase,matchRegex:a.state.matchRegex})};a.state={findText:a.props.searchPreset||"",replaceText:"",total:0,
current:0,status:n.Closed,matchCase:!1,matchRegex:!1,focus:!1};return a}t.prototype.reset=function(){this.getController().clearHighlights();this.getController().invalidateCache();this.setState({
status:n.Closed});r.IntentionEvent.CloseFindAndReplace.track({status:this.state.status,matchCase:this.state.matchCase,matchRegex:this.state.matchRegex})};t.prototype.componentDidMount=function(){
if(this.props.searchPreset){this.setSearchTerm(this.props.searchPreset);this.onSearchChange()}};t.prototype.updateCurrentIndex=function(e){void 0===e&&(e=!1);this.setState({
total:this.getController().getTotalMatches(),current:this.getCurrentIndex()});e||this.getController().scrollCurrentMatchToView()};t.prototype.getCurrentIndex=function(){
var e=Math.min(this.getController().getTotalMatches(),this.getController().getCurrentMatchIndex()+1);return isNaN(e)?0:e};t.prototype.findAndHighlight=function(){
var e=this.refs.matchCase&&this.refs.matchCase.checked||(0,f.shouldMatchCase)(this.searchInput.value),t=this.refs.matchRegex&&this.refs.matchRegex.checked,a=(0,
f.prepareSearchTerm)(this.searchInput.value,{matchCase:e,matchRegex:t});if(a){this.getController().findAndHighlight(a,e);this.updateCurrentIndex();r.IntentionEvent.FindAndReplaceMatch.track({
status:this.state.status,matchCase:this.state.matchCase,matchRegex:this.state.matchRegex})}else{this.getController().clearHighlights();this.setState({total:0,current:0})}}
;t.prototype.onDocContentChange=function(e){void 0===e&&(e=!1);this.getController().onDocContentChange();this.updateCurrentIndex(e)};t.prototype.renderCurrentOptionOfTotal=function(){
return this.state.findText&&this.state.total>=0?g.createElement("label",{className:"input-num-label",htmlFor:"find-num"},g.createElement(k,o.__assign({values:{currentIndex:this.state.current,
total:this.state.total}},C.currentindexnumberoftotalnumber))):g.createElement("noscript",null)};t.prototype.renderFind=function(){var e,t=this
;this.state.status===n.Expanded&&(e=g.createElement("label",{className:"input-label"},g.createElement(k,o.__assign({},C.find))))
;var a=this.state.status==n.Collapsed?C.minimizedFindPlaceholder:C.expandedFindPlaceholder,i=new _(a,l.default.userLocale).format(),r=s("input-div",this.state.focus?"input-div-focus":"input-div-blur")
;return g.createElement("div",{className:"input"},e,g.createElement("div",{className:r,ref:"searchDiv"},g.createElement("input",{type:"text",name:"find",ref:function(e){return t.searchInput=e},
placeholder:i,className:"input-no-border",autoComplete:"off",autoCorrect:"off",onKeyPress:this.onKeyPress,onPaste:this.onSearchChange,onInput:this.onDebounceSearchChange,onFocus:this.onFindFocus,
onBlur:this.onFindBlur}),this.renderCurrentOptionOfTotal()))};t.prototype.renderReplace=function(){var e=!this.getController().isEditable();return g.createElement("div",{className:"input"
},g.createElement("label",{className:"input-label"},g.createElement(k,o.__assign({},C.replacewith))),g.createElement("input",{type:"text",name:"replace",onChange:this.onReplaceChange,
placeholder:new _(C.replacePlaceholder,l.default.userLocale).format(),disabled:e}))};t.prototype.renderCheckboxes=function(){return g.createElement("div",{className:"checkboxes"
},g.createElement("div",{className:"case-sensitive-checkbox"},g.createElement("input",{type:"checkbox",id:"case_sensitive",name:"case_sensitive",ref:"matchCase",onChange:this.onMatchCaseChanged
}),g.createElement("label",{htmlFor:"case_sensitive"},g.createElement(k,o.__assign({},C.matchcase)))),g.createElement("div",{className:"regexp-checkbox"},g.createElement("input",{type:"checkbox",
id:"regular_expressions",name:"regular_expressions",ref:"matchRegex",onChange:this.onRegexChanged}),g.createElement("label",{htmlFor:"regular_expressions"
},g.createElement(k,o.__assign({},C.regularexpressions)))))};t.prototype.renderInputs=function(){return g.createElement("div",{className:"inputs"},g.createElement("div",{className:"input-container"
},this.renderFind(),this.renderReplace(),this.renderCheckboxes()))};t.prototype.renderButtons=function(){
var e=!this.getController().isEditable()||0===this.getController().getTotalMatches()||""===this.state.replaceText;return g.createElement("div",{className:"find-replace-buttons"
},g.createElement("div",{className:"find-replace-replace"},g.createElement(p.default,{secondary:!0,onClick:this.replace,disabled:e
},g.createElement(k,o.__assign({},C.replace))),g.createElement(p.default,{secondary:!0,onClick:this.replaceAll,disabled:e},g.createElement(k,o.__assign({},C.replaceall)))),g.createElement("div",{
className:"find-replace-next-previous dmc-button-group"},g.createElement(p.default,{secondary:!0,onClick:this.prev,tooltip:g.createElement(k,o.__assign({},C.findPrev)),
"aria-label":new _(C.findPrev,l.default.userLocale).format()},g.createElement(v.default,{name:"back-arrow"})),g.createElement(p.default,{secondary:!0,onClick:this.next,
tooltip:g.createElement(k,o.__assign({},C.findNext)),"aria-label":new _(C.findNext,l.default.userLocale).format()},g.createElement(v.default,{name:"chevron"}))))}
;t.prototype.renderNextPrev=function(){return g.createElement("div",{className:"hp-find-and-replace-next-prev"},g.createElement(p.default,{onClick:this.prev,
tooltip:g.createElement(k,o.__assign({},C.findPrev)),"aria-label":new _(C.findPrev,l.default.userLocale).format()},g.createElement(v.default,{name:"back-arrow"})),g.createElement(p.default,{
onClick:this.next,tooltip:g.createElement(k,o.__assign({},C.findNext)),"aria-label":new _(C.findNext,l.default.userLocale).format()},g.createElement(v.default,{name:"chevron"})))}
;t.prototype.renderReplaceButton=function(){return this.props.replaceEnabled?g.createElement(p.default,{onClick:this.onExpandClicked,className:"hp-find-and-replace-button",hasPopup:!0,
tooltip:g.createElement(k,o.__assign({},C.moreoptions)),"aria-label":new _(C.findAndReplace,l.default.userLocale).format()},g.createElement(v.default,{name:"dots"})):null}
;t.prototype.renderCollapsedOrExpanded=function(){var e=s("hp-find-and-replace-popup-content","hp-popup-content");return this.state.status===n.Expanded?g.createElement("div",{className:e
},this.renderInputs(),this.renderButtons()):g.createElement("div",{className:e},g.createElement("div",{className:"hp-find-and-replace-minimized-form"
},this.renderFind(),this.renderNextPrev(),this.renderReplaceButton()))};t.prototype.render=function(){var e=s("hp-find-and-replace-form",this.props.className);return g.createElement(r.TrackContext,{
trackContext:r.AppContext.FindAndReplace},g.createElement("div",{className:e,role:this.props.role},this.renderCollapsedOrExpanded()))};t.prototype.focusSearchInput=function(){this.searchInput.focus()
;this.searchInput.select()};t.prototype.initialize=function(){if(this.isInitialized){this.setState({status:n.Collapsed});r.IntentionEvent.OpenFindAndReplace.track({status:this.state.status,
matchCase:this.state.matchCase,matchRegex:this.state.matchRegex})}else this.isInitialized=!0};t.prototype.hasInitialized=function(){return this.isInitialized}
;t.prototype.componentDidUpdate=function(e,t){b.default.isOnButDoNotLog("paper_fix_racy_find")||(this.searchInput.value=this.state.findText)};t.prototype.componentWillUnmount=function(){
this.onDebounceSearchChange.cancel()};t.prototype.getController=function(){this.findReplaceController||(this.findReplaceController=new u.FindReplaceController(this.props.editor))
;return this.findReplaceController};t.prototype.setSearchTerm=function(e){var t=this;this.setState({findText:e},(function(){b.default.isOnButDoNotLog("paper_fix_racy_find")&&(t.searchInput.value=e)}))
};t.prototype.restoreLastSearchTerm=function(){this.searchInput.value=this.state.findText};t.displayName="FindAndReplaceForm";return t=o.__decorate([c.default],t)}(g.PureComponent);t.default=S},
1741:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(6),i=a(30),r=a(11),s=a(1742),l=a(28),d=a(143),c=a(0),u=a(71),p=function(e){n.__extends(t,e);function t(t,a){
var n=e.call(this,t,a)||this;n.handleNavigate=function(){n.justCreatedPadId&&(n.justCreatedPadId=null)};n.handleResize=o.throttle((function(){n.adjustForBrowserWidth()}),100)
;n.adjustForBrowserWidth=function(){if(window.matchMedia){var e=window.matchMedia("screen and (max-width: ".concat(i.default.editor_first_collapsing_width_limit,")")).matches;n.setState({
tooNarrowForSidebar:e})}};n.updatePadDetails=function(){var e=n.props.app,t=e&&e.getCurrentPadController(),a=(0,d.getPadAndFolderApi)(t);a&&a.getPadDetailsAsync(t,(function(e){
n.justCreatedPadId&&e&&n.justCreatedPadId==e.localPadId&&(e.isNewDoc=!0);n.setState({padDetails:e,filesystemInfo:t.filesystemInfoStore.filesystemInfo})}))};n.handlePadCreated=function(e){
e?n.justCreatedPadId=e:throwException("Sidebar: no padId after pad creation")};n.handleFilesystemInfoStoreChange=function(){
var e=n.state.filesystemInfo,t=n.props.app.getCurrentPadController().filesystemInfoStore.filesystemInfo;o.isEqual(e,t)||n.updatePadDetails()};n.handlePadLoaded=function(){n.updatePadDetails()
;var e=n.props.app.getCurrentPadController();n.events.on(e.folderStore,"change",n.updatePadDetails);e.isCloudDoc()&&n.events.on(e.filesystemInfoStore,"change",n.handleFilesystemInfoStoreChange)}
;n.userOpenPreference=new d.PerDevicePreference;n.justCreatedPadId=null;n.state={tooNarrowForSidebar:!1,padDetails:null,filesystemInfo:null};return n}t.prototype.getFolderSidebar=function(){
return this.refs.folderSidebarInstance};t.prototype.componentDidMount=function(){this.adjustForBrowserWidth();var e=this.props.app;if(!e)throw Error("No app variable when sidebar was binding events.")
;this.events.on(e.padLoader,"hp-pad-created",this.handlePadCreated);this.events.on(e.padLoader,"hp-pad-loaded",this.handlePadLoaded);this.events.on(e,"hp-after-navigate",this.handleNavigate)
;l.isMobile()||this.events.on(window,"resize",this.handleResize)};t.prototype.render=function(){var e=this.props.app,t=this.state.tooNarrowForSidebar,a=(0,
d.getPadSidebarPreference)(this.state.padDetails),n=this.state.padDetails&&this.state.padDetails.localPadId;return c.createElement(u.ToastAndUnmountErrorBoundary,null,c.createElement(s.default,{
ref:"folderSidebarInstance",app:e,setFolderSidebarIsOpen:this.props.setFolderSidebarIsOpen,tooNarrowForSidebar:t,padSidebarPreference:a,localPadId:n,trackPadDetails:this.state.padDetails,
userOpenPreference:this.userOpenPreference}))};t.displayName="FolderSidebarWrapper";return t=n.__decorate([r.default],t)}(c.PureComponent);t.default=p},1742:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(1743),i=a(1771),r=a(143),s=a(23),l=a(0),d=a(24),c=a(918),u=a(119),p=a(4),m=a(177),h=a(56),f=a(634),g=a(75),v=!1;function b(e){return{
tooNarrowForSidebar:e.tooNarrowForSidebar,localPadId:e.localPadId}}var y=function(e){n.__extends(t,e);function t(t,a){var s=e.call(this,t,a)||this;s.store=(0,m.getPaperStore)()
;s.panelId="navigationsidebar";s.toggleSidebar=function(){var e=!s.isOpen(),t={open:e,openChangeLastReason:e?"Opened By User":"Closed by user"};if(e){
s.state.explicitOpenCurrent||(t.explicitOpenCurrent=!0);!1===s.props.userOpenPreference.load()&&s.props.userOpenPreference.save(!0)}else{s.state.explicitOpenCurrent&&(t.explicitOpenCurrent=!1)
;s.props.tooNarrowForSidebar||!1===s.props.userOpenPreference.load()||s.props.userOpenPreference.save(!1)}e&&(s.userExplicitlyOpenedSidebar=!0);s.setState(t)};s.toggleByShortcut=function(){
var e=s.props.app.getCurrentPadController();r.isInDocBrowseStormcrowOn&&(null==e?void 0:e.isCloudDoc())&&(s.isOpen()?(0,f.logPaperSidebarClosedWithShortcut)():(0,
f.logPaperSidebarOpenedWithShortcut)());s.toggleSidebar()};s.toggleByUser=function(e){void 0===e&&(e={});var t=s.isOpen()?"User Closed Folder Sidebar":"User Opened Folder Sidebar";(0,
p.trackUi)(t,n.__assign(n.__assign({},e),{viewportWidth:window.innerWidth}));var a=s.props.app.getCurrentPadController();r.isInDocBrowseStormcrowOn&&(null==a?void 0:a.isCloudDoc())&&(s.isOpen()?(0,
f.logPaperSidebarClosed)():(0,f.logPaperSidebarOpened)());s.toggleSidebar()};s.handleClickOutside=function(){s.isOpen()&&s.props.tooNarrowForSidebar&&s.toggleByUser()};s.getSidebar=function(){
var e=s.props.app,t=e.getCurrentPadController(),a=e.currentUrlPath===e.dotNewEndpoint,n=l.createElement(h.Provider,{store:s.store},l.createElement(o.FolderSidebarContentsContainer,{
padController:e.getCurrentPadController(),serverDBStatus:s.context.stores.serverDBStatus,newDocUrl:e.dotNewDomain?"https://".concat(e.dotNewDomain):e.dotNewEndpoint,
onCreatePadClick:e.handleCreatePadClick,sidebarCloseButtonRef:s.sidebarCloseButtonRef,handleToggleSidebar:s.toggleByUser,navigationService:s.context.appNavigationService}))
;return r.isInDocBrowseStormcrowOn&&a?n:!t&&r.isInDocBrowseStormcrowOn?null:!r.isInDocBrowseStormcrowOn||t&&!t.isCloudDoc()?l.createElement(i.default,{app:e,
sidebarCloseButtonRef:s.sidebarCloseButtonRef,handleToggleSidebar:s.toggleByUser,ref:"folderSidebarContents"}):n};s.sidebarCloseButtonRef=l.createRef();s.userExplicitlyOpenedSidebar=!1
;s.hasComponentUpdated=!1;var d=v;s.state={open:d,explicitOpenCurrent:!1,openChangeLastReason:"",prevProps:b(t)};return s}t.prototype.openPanel=function(){this.isOpen()||this.toggleByShortcut()}
;t.prototype.closePanel=function(){this.isOpen()&&this.toggleByShortcut()};t.prototype.isOpen=function(){return this.state.open};t.prototype.hasUpdated=function(){return this.hasComponentUpdated}
;t.prototype.handleFolderLinkClicked=function(e){var t;null===(t=this.refs.folderSidebarContents)||void 0===t||t.onFolderLinkClicked(e)};t.calculateOpenForThisPad=function(e,t,a){
return e.tooNarrowForSidebar?Boolean(t.explicitOpenCurrent):!1!==e.userOpenPreference.load()&&(!!t.explicitOpenCurrent||(null!==a?a:t.open))};t.prototype.userPressedEscape=function(){
if(this.isOpen()){this.toggleByUser();return!0}return!1};t.getDerivedStateFromProps=function(e,a){var o=n.__assign({},a),i=b(e)
;o.explicitOpenCurrent&&i.localPadId!=o.prevProps.localPadId&&(o.explicitOpenCurrent=!1);o.explicitOpenCurrent&&e.tooNarrowForSidebar&&!o.prevProps.tooNarrowForSidebar&&(o.explicitOpenCurrent=!1)
;o.prevProps=i;var r=t.calculateOpenForThisPad(e,o,e.padSidebarPreference);if(r!=o.open){o.open=r;v=r;o.openChangeLastReason="getDerivedStateFromProps"}return o}
;t.prototype.componentDidMount=function(){this.props.setFolderSidebarIsOpen(this.state.open);if(this.context.panels){this.context.panels.registerPanel(this)
;u.WindowKeyEvents.define(g.AppHotkeys.NavigationSidebar,this.toggleByShortcut)}};t.prototype.componentWillUnmount=function(){if(this.context.panels){this.context.panels.unregisterPanel(this)
;u.WindowKeyEvents.off(g.AppHotkeys.NavigationSidebar,this.toggleByShortcut)}};t.prototype.componentDidUpdate=function(e,t){if(this.state.open!=t.open){
this.props.setFolderSidebarIsOpen(this.state.open);this.trackUiForOpenChange()}
this.state.open?document.body.classList.add("folder-sidebar-active"):document.body.classList.remove("folder-sidebar-active");if(this.state.open&&!t.open&&this.userExplicitlyOpenedSidebar){
if(this.sidebarCloseButtonRef.current){var a=d.findDOMNode(this.sidebarCloseButtonRef.current);a&&a.focus()}this.userExplicitlyOpenedSidebar=!1}this.hasComponentUpdated=!0;(0,
p.trigger)("folder-sidebar-updated")};t.prototype.trackUiForOpenChange=function(){
var e=this.props.trackPadDetails,t=e&&e.isDocOwner,a=e&&e.isFiled,n=e&&e.canAccessFolder,o=this.state.open?"Open Folder Sidebar":"Close Folder Sidebar";(0,p.trackUi)(o,{context:p.EditorContext.Editor,
isDocOwner:t,isFiled:a,canAccessFolder:n,viewportWidth:window.innerWidth,reason:this.state.openChangeLastReason})};t.prototype.getWidth=function(){return 280};t.prototype.render=function(){
var e=this.state.open;return l.createElement(p.TrackContext,{trackContext:p.AppContext.Sidebar},l.createElement(c.default,{open:e,width:this.getWidth(),onClickOutside:this.handleClickOutside,
inlineWithPageContents:!this.props.tooNarrowForSidebar,shouldAnimate:!1},this.getSidebar()))};t.displayName="FolderSidebar";t.contextTypes={stores:s.object.isRequired,panels:s.object.isRequired,
appNavigationService:s.object.isRequired};return t}(l.PureComponent);t.default=y},1743:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarContentsContainer=void 0
;var n=a(56),o=a(567),i=a(1744);t.FolderSidebarContentsContainer=(0,n.connect)((function(e,t){var a,n,o=e.FOLDER_SIDEBAR;return{
navigationFolderData:null!==(a=null==o?void 0:o.navigationFolderData)&&void 0!==a?a:{},currentNavigationRoot:null==o?void 0:o.currentNavigationRoot,
initialFolderPath:null!==(n=null==o?void 0:o.initialFolderPath)&&void 0!==n?n:[],nextPadId:null==o?void 0:o.nextPadId}}),(function(e,t){return{updateNavigationData:function(t){var a=t.data;e((0,
o.updateNavigationDataAction)(a))},updateNavigationFolderData:function(t){var a=t.folderName,n=t.data;e((0,o.updateFolderNavigationDataAction)(a,n))},setNavigationFolderData:function(t){
var a=t.folderName,n=t.data,i=t.keepExisitingContentIfExists,r=void 0!==i&&i;e((0,o.setFolderNavigationDataAction)(a,n,r))},updateCurrentNavigationRoot:function(t){var a=t.root;e((0,
o.updateCurrentNavigationRootAction)(a))},updateInitialFolderPath:function(t){var a=t.folderPath;e((0,o.updateInitialFolderPathAction)(a))},setNextPadId:function(t){var a=t.nextPadId;e((0,
o.setNextPadIdAction)(a))}}}))(i.FolderSidebarContents)},1744:function(e,t,a){var n=this;Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarContents=t.FolderSidebarContentsBase=void 0
;var o=a(1),i=a(3),r=a(478),s=a(5),l=a(6),d=a(641),c=a(143),u=a(1747),p=a(321),m=a(1751),h=a(487),f=a(1753),g=a(914),v=a(634),b=a(1765),y=a(21),E=a(71),k=a(83),_=a(11),C=a(4),S=a(16),w=a(15),I=a(77),x=a(0),T=a(2),P=a(30),M=a(101),F=a(31),N=a(513),D=a(915),A=a(153),L=a(56),O=(0,
s.PaperIntlFactory)(),R=O._f,U=O.F,B=(0,T.defineMessages)({home:{id:"tDFfUo",defaultMessage:"Back to home"},createPaperdoc:{id:"7W7ffJ",defaultMessage:"Create Paper doc"},untitled:{id:"2/wbNL",
defaultMessage:"Untitled"},files:{id:"UeacCs",defaultMessage:"Folders"},pins:{id:"pNtm2k",defaultMessage:"Favorites"}});t.FolderSidebarContentsBase=x.memo((function(e){
var t,a,s,_,T=e.padController,O=e.serverDBStatus,H=e.newDocUrl,W=e.onCreatePadClick,j=e.handleToggleSidebar,q=e.sidebarCloseButtonRef,V=e.navigationFolderData,z=e.currentNavigationRoot,K=e.initialFolderPath,G=e.updateNavigationFolderData,Y=e.setNavigationFolderData,Z=e.updateCurrentNavigationRoot,Q=e.updateInitialFolderPath,J=e.setNextPadId,X=e.navigationService,$=e.nextPadId,ee=e.events,te=x.useState(null),ae=te[0],ne=te[1],oe=x.useState(),ie=oe[0],re=oe[1],se=x.useState(!1),le=se[0],de=se[1],ce=x.useState("pins"),ue=ce[0],pe=ce[1],me=x.useMemo((function(){
return(0,h.filterFolderContents)(ie,V)}),[ie,V]),he=x.useMemo((function(){return(null==ae?void 0:ae.folderData)?(0,h.getFolderName)(ae.folderData.folder):K.length?(0,
h.getFolderName)(K[K.length-1]):"/"}),[ae,K]),fe=x.useMemo((function(){return me[he]
}),[me,he]),ge=x.useState(!me[he]&&!K.length),ve=ge[0],be=ge[1],ye=x.useState(ve),Ee=ye[0],ke=ye[1],_e=x.useMemo((function(){var e,t
;return null!==(t=null!==(e=null==fe?void 0:fe.canAccess)&&void 0!==e?e:null==ae?void 0:ae.canAccessFolder)&&void 0!==t&&t
}),[null==fe?void 0:fe.canAccess,null==ae?void 0:ae.canAccessFolder]),Ce=x.useMemo((function(){return _e?C.EditorContext.FolderSidebar.Filed.Access:C.EditorContext.FolderSidebar.Filed.NoAccess
}),[_e]),Se=(0,h.useGetFolderData)({padController:T,setIsLoading:be,setCurrentPadDetails:ne,updateCurrentNavigationRoot:Z,updateNavigationFolderData:G,setNavigationFolderData:Y,
updateInitialFolderPath:Q}),we=(0,h.useUpdateTitle)({padController:T,currentPadDetails:ae,updateNavigationFolderData:G,navigationFolderData:me});x.useEffect((function(){if(K.length&&Ee){
var e=K.some((function(e){var t=(0,h.getFolderName)(e);return!me[t]||me[t].isLoading}));ke(e)}}),[K,Ee,me]);x.useEffect((function(){var e,t=null==T?void 0:T.getPadId();if(t&&$){var a=z?(0,
h.getFolderName)(z.folder):void 0;(t===$||a&&!(null===(e=me[a])||void 0===e?void 0:e.folderContents.find((function(e){return e.id.id===$}))))&&J({})}}),[$,T,me,z,J]);(0,h.useEventTracking)({
padController:T,initialFolder:(null===(s=null==ae?void 0:ae.folderData)||void 0===s?void 0:s.folder)?(0,h.getFolderName)(null===(_=null==ae?void 0:ae.folderData)||void 0===_?void 0:_.folder):void 0,
events:ee,handlePadTitleChanged:we,getFolderData:Se,initialFolderPath:K});var Ie=x.useCallback((function(e,t){void 0===t&&(t=!1);var a=(0,h.getFolderName)(e.folder);if(!me[a]){Y({folderName:a,data:(0,
h.getInitialNavigationFolderData)()});Se(!1,e);return(0,v.logPaperSidebarFolderExpanded)()}var n=me[a];if(t){G({folderName:a,data:{hasError:!1,isLoading:!0}});Se(!1,e);return(0,
v.logPaperSidebarFolderRetry)()}G({folderName:a,data:{isExpanded:!n.isExpanded}});if(n.isExpanded)return(0,v.logPaperSidebarFolderCollapsed)();(0,v.logPaperSidebarFolderExpanded)()
}),[me,G,Y,Se]),xe=x.useCallback((function(e,t){var a;t.preventDefault();var n=t.currentTarget.getAttribute("href");if(n&&((0,k.shouldOpenInNewTab)(t)||(0,
k.shouldOpenInNewWindow)(t)))return null===(a=X.openExternalLink)||void 0===a?void 0:a.call(X,n);var o=(0,h.getFolderName)(e.folder);if(me[o]){G({folderName:o,data:{isExpanded:!0}});(0,
v.logPaperSidebarFolderExpanded)()}else{Y({folderName:o,data:(0,h.getInitialNavigationFolderData)()});(0,v.logPaperSidebarFolderExpanded)()}Z({root:e})}),[me,Z,X,Y,G]),Te=x.useCallback((function(e){
var t,a=e.currentTarget.getAttribute("href");if(null!==a){e.preventDefault();if((0,k.shouldOpenInNewTab)(e)||(0,
k.shouldOpenInNewWindow)(e))return null===(t=X.openExternalLink)||void 0===t?void 0:t.call(X,a);X.navigateToUrl(a,{forceSoftNavigation:!0})}}),[X]),Pe=x.useCallback((function(e,t,a){(0,
v.logPaperSidebarDocOpened)();if(!(0,k.shouldOpenInNewTab)(e)&&!(0,k.shouldOpenInNewWindow)(e)&&!(0,h.isBinder)(t.title)){var n=t.id.id;"pad"===t.type&&(n=t.pad.localPadId);J({nextPadId:n});Z({root:a
})}Te(e)}),[Te,J,Z]),Me=x.useCallback((function(){return o.__awaiter(n,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:be(!0);(0,
v.logPaperGetPersonalFolders)();return[4,(0,c.getFolderDataForCloudFolderPath)("/")];case 1:e=t.sent();Se(!0,e);return[2]}}))}))}),[]),Fe=x.useCallback((function(){if(!T)return null;var e=(0,
c.getFolderSidebarToggleTrackDataFromPadController)(T,!0);j(e)}),[T,j]),Ne=x.useCallback((function(e){(0,v.logPaperHomeClicked)();Te(e)}),[Te]),De=x.useCallback((function(e){var t,a,n;(0,
v.logPaperSidebarNewDocCreated)();var i={nsDirPath:"/"};if(z){var r=(0,l.uniqueId)(),s={type:"file",fileId:(0,l.uniqueId)(),id:{id:r,type:"file"},browser_url:"",tag_type:"mock_pad",title:".paper",
sortValue:"".concat(R(B.untitled),".paper")},d=(0,h.getFolderName)(z.folder);G({folderName:d,data:{
folderContents:o.__spreadArray(o.__spreadArray([],null===(t=me[d])||void 0===t?void 0:t.folderContents,!0),[s],!1).sort((function(e,t){
return t.type.localeCompare(e.type)||e.sortValue.localeCompare(t.sortValue)}))}});J({nextPadId:r});i.nsId=null===(a=z.folder.dbxNsPath)||void 0===a?void 0:a.nsId.toString()
;i.nsDirPath=null===(n=z.folder.dbxNsPath)||void 0===n?void 0:n.nsPath}W(e,{isCloudDoc:!0,cloudDocOptions:i})}),[z,W,G,me,J]),Ae=x.useCallback((function(e){re(e)}),[]),Le=x.useCallback((function(e){
de(e)}),[]),Oe=x.createElement(x.Fragment,null,F.default.isOnButDoNotLog("paper_in_doc_browse_filter")&&x.createElement(u.FilterFilesButton,{onChange:Ae,onFilterToggle:Le}),x.createElement("div",{
className:i("folder-sidebar-section",(t={},t[m.default.pushFiltering]=le,t))},ve||!T?x.createElement(g.FolderSidebarLoading,null):_e?fe&&x.createElement("div",{
className:m.default.folderSidebarContentContainer},x.createElement("div",{className:m.default.folderSidebarListContainer},x.createElement(C.TrackContext,{trackContext:Ce
},x.createElement(f.FolderSidebarList,{initialFolderPath:K,folderData:me,currentRoot:"/",currentlySelectedFolder:z?(0,h.getFolderName)(z.folder):he,onFolderExpand:Ie,onFileLinkClicked:Pe,
onFolderLinkClicked:xe,currentPadId:T.getPadId(),nextPadId:$,query:ie})),Ee&&_e&&x.createElement(g.FolderSidebarLoading,{className:i(p.default.folderSidebarListItemLoading,m.default.center)
}))):x.createElement(b.UnknownFolderSidebarContents,{onGoBackToRoot:Me}))),Re=F.default.isOnButDoNotLog("paper_doc_pinning_in_doc")
;return x.createElement(E.ToastAndUnmountErrorBoundary,null,x.createElement(C.TrackContext,{trackContext:C.EditorContext.FolderSidebar},x.createElement(I.LayerContext.Provider,{value:{
zIndex:P.default.zindex_pad_folder}},x.createElement("div",{className:"folder-sidebar"},x.createElement("div",{className:i("folder-sidebar__top-wrapper",m.default.sidebarHeader,(a={},
a[m.default.inDocPinningSidebarHeader]=Re,a))},x.createElement("div",{className:"folder-sidebar__top-contents"},x.createElement("div",{className:"folder-sidebar__home-button"
},x.createElement(y.default,{isIcon:!0,variant:"transparent",tooltip:{title:x.createElement(U,o.__assign({},B.home)),placement:"right"},href:(0,M.dropboxUrl)("/paper/"),onClick:Ne,title:R(B.home),
"aria-label":R(B.home),className:"folder-sidebar-home",role:"link"},x.createElement(S.UIIcon,{src:w.HomeFill}))),x.createElement("div",{className:"folder-sidebar__close-button"
},x.createElement(d.default,{inSidebar:!0,handleToggleSidebar:Fe,isSidebarOpen:!0,ref:q})))),x.createElement("div",{className:i("folder-sidebar__main-content",m.default.mainContent)
},Re?x.createElement(N.Tabs,{selectedTab:ue,onSelection:pe,className:m.default.inDocPinningTabs},x.createElement(N.Tabs.Group,{className:m.default.sidebarTabGroup},x.createElement(N.Tabs.Tab,{
id:"files"},x.createElement(U,o.__assign({},B.files))),x.createElement(N.Tabs.Tab,{id:"pins"},x.createElement(U,o.__assign({},B.pins)))),x.createElement(N.Tabs.Panel,{tabId:"files",
className:m.default.tabPanel},Oe),x.createElement(N.Tabs.Panel,{tabId:"pins",className:i(m.default.tabPanel,m.default.inDocPinningTabPanel)},x.createElement(L.Provider,{store:A.default
},x.createElement(D.DocPinningLazy,null)))):Oe),x.createElement("div",{className:"folder-sidebar-footer folder-sidebar-new-button"},x.createElement(r.ServerDBStatusProvider,{serverDBStatusStore:O,
render:function(e){var t;return x.createElement(y.default,{className:"hp-create-pad-button-dig",onClick:De,href:H,"aria-label":R(B.createPaperdoc),"track-title":"Create Doc",
disabled:e||void 0!==$||_e&&(!z||!(null===(t=me[(0,h.getFolderName)(z.folder)])||void 0===t?void 0:t.canEditFolder)),tooltip:{title:x.createElement(U,o.__assign({},B.createPaperdoc))},
variant:"transparent",size:"large",withIconLeft:x.createElement(S.UIIcon,{className:"folder-sidebar-create-new-icon-dig",src:w.AddLine}),hasNoUnderline:!0},x.createElement("span",{
className:"folder-sidebar__new-doc-button folder-sidebar-create-new-dig"},x.createElement(U,o.__assign({},B.createPaperdoc))))}}))))))}))
;t.FolderSidebarContentsBase.displayName="FolderSidebarContentsBase";t.FolderSidebarContentsBase.displayName="FolderSidebarContents";t.FolderSidebarContents=(0,
_.withEventHandler)(t.FolderSidebarContentsBase)},1747:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FilterFilesButton=void 0
;var n=a(0),o=a(3),i=a(122),r=a(21),s=a(15),l=a(16),d=a(6),c=a(1748);t.FilterFilesButton=n.memo((function(e){
var t,a=e.onChange,u=e.onFilterToggle,p=e.initialQuery,m=n.useState(!1),h=m[0],f=m[1],g=n.useState("small"),v=g[0],b=g[1],y=n.useRef(null),E=n.useCallback((0,d.debounce)((function(e){a(e)
}),300),[a]),k=n.useCallback((function(e){return E(e.currentTarget.value)}),[E]);n.useEffect((function(){return function(){E.cancel()}}),[k]);var _=n.useCallback((function(){if(y.current){
y.current.value="";a("")}}),[a]),C=n.useCallback((function(){b("standard")}),[]),S=n.useCallback((function(){b("small")}),[]),w=n.useCallback((function(){f((function(e){var t=!e;null==u||u(t)
;b(t?"standard":"small");y.current&&t&&y.current.focus();return t}))}),[u]);return n.createElement("div",{className:(0,o.default)(c.default.filterContainer,(t={},t[c.default.fullWidth]=h,t))
},h&&n.createElement(i.TextInput,{ref:y,defaultValue:p,wrapperProps:{className:c.default.filterInput},withRightAccessory:n.createElement(l.UIIcon,{src:s.FailFill,"aria-label":"Clear",onClick:_}),
placeholder:"Filter","aria-label":"Filter",onChange:k}),n.createElement(r.default,{onClick:w,className:c.default.filterButton,variant:"opacity",onMouseEnter:C,onMouseLeave:h?void 0:S,size:v,isIcon:!0
},n.createElement(l.UIIcon,{src:s.SliderLine,size:v})))}));t.FilterFilesButton.displayName="FilterFilesButton";t.FilterFilesButton.displayName="FilterFilesButton"},1748:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.filterInput=t.filterButton=t.fullWidth=t.filterContainer=void 0;a(1749);t.filterContainer="_filterContainer_wdi9a_1"
;t.fullWidth="_fullWidth_wdi9a_11";t.filterButton="_filterButton_wdi9a_15";t.filterInput="_filterInput_wdi9a_19";t.default={filterContainer:"_filterContainer_wdi9a_1",fullWidth:"_fullWidth_wdi9a_11",
filterButton:"_filterButton_wdi9a_15",filterInput:"_filterInput_wdi9a_19"}},1749:function(e,t,a){},1750:function(e,t,a){},1751:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.inDocPinningTabPanel=t.tabPanel=t.inDocPinningTabs=t.mainContent=t.pushFiltering=t.inDocPinningSidebarHeader=t.sidebarTabGroup=t.sidebarHeader=t.center=t.folderSidebarListContainer=t.folderSidebarContentContainer=void 0
;a(1752);t.folderSidebarContentContainer="_folderSidebarContentContainer_1rq9l_1";t.folderSidebarListContainer="_folderSidebarListContainer_1rq9l_7";t.center="_center_1rq9l_13"
;t.sidebarHeader="_sidebarHeader_1rq9l_17";t.sidebarTabGroup="_sidebarTabGroup_1rq9l_21";t.inDocPinningSidebarHeader="_inDocPinningSidebarHeader_1rq9l_25";t.pushFiltering="_pushFiltering_1rq9l_31"
;t.mainContent="_mainContent_1rq9l_35";t.inDocPinningTabs="_inDocPinningTabs_1rq9l_39";t.tabPanel="_tabPanel_1rq9l_45";t.inDocPinningTabPanel="_inDocPinningTabPanel_1rq9l_50";t.default={
folderSidebarContentContainer:"_folderSidebarContentContainer_1rq9l_1",folderSidebarListContainer:"_folderSidebarListContainer_1rq9l_7",center:"_center_1rq9l_13",
sidebarHeader:"_sidebarHeader_1rq9l_17",sidebarTabGroup:"_sidebarTabGroup_1rq9l_21",inDocPinningSidebarHeader:"_inDocPinningSidebarHeader_1rq9l_25",pushFiltering:"_pushFiltering_1rq9l_31",
mainContent:"_mainContent_1rq9l_35",inDocPinningTabs:"_inDocPinningTabs_1rq9l_39",tabPanel:"_tabPanel_1rq9l_45",inDocPinningTabPanel:"_inDocPinningTabPanel_1rq9l_50"}},1752:function(e,t,a){},
1753:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarList=void 0
;var n=a(3),o=a(5),i=a(368),r=a(6),s=a(1754),l=a(321),d=a(487),c=a(913),u=a(1758),p=a(914),m=a(1759),h=a(1762),f=a(0),g=a(2),v=a(633),b=(0,o.PaperIntlFactory)()._f,y=(0,g.defineMessages)({
folderContentsLabel:{id:"qKPjms",defaultMessage:"{currentRoot} Contents"},loading:{id:"WLxruS",defaultMessage:"Loading..."}}),E=function(e,t){void 0===t&&(t=!1);return{
paddingLeft:(e-1)*u.folderIndentWidth+(t?u.folderIndentWidth:u.indentWidth)}};t.FolderSidebarList=f.memo((function(e){
var a=e.folderData,o=e.currentRoot,g=e.currentlySelectedFolder,k=e.initialFolderPath,_=e.onFolderExpand,C=e.onFolderLinkClicked,S=e.onFileLinkClicked,w=e.currentPadId,I=e.nextPadId,x=e.nestLevel,T=void 0===x?0:x,P=e.ariaLabeledBy,M=e.query,F=f.useMemo((function(){
return k.findIndex((function(e){return(0,d.getFolderName)(e)===o}))>-1}),[k,o]),N=(0,u.usePaperOnlyFilesAndFolders)({folderData:a,currentRoot:o,initialFolderPath:k}),D=f.useMemo((function(){
return a[o]}),[a,o]),A=f.useCallback((function(e,t){var a=D.folderData;a&&S(e,t,a)}),[S,D])
;return D.isLoading||D.hasError||N.length?!N.length&&D.hasError&&null!==D.folderData?f.createElement(u.FailedToLoadFolder,{entry:D.folderData,onRetry:_,nestLevel:T}):f.createElement("div",{
className:c.default.expandableFolderSidebarList,role:"list","aria-label":b(y.folderContentsLabel,{currentRoot:o}),"aria-labelledby":P},D.isLoading&&!N.length?f.createElement("div",{style:E(T),
"aria-label":b(y.loading),role:"listitem"},f.createElement(p.FolderSidebarLoading,{className:l.default.folderSidebarListItemLoading})):N.map((function(e){var o,u,p
;if("dbx-folder"===e.type||"folder"===e.type){var b=M&&i(e.title,M)>0,y=!a[(0,d.getFolderName)(e.folderData.folder)]||a[(0,
d.getFolderName)(e.folderData.folder)].canAccess,x=f.createElement(v.IconContent,{className:(0,n.default)((o={},o[c.default.disabledFolderIcon]=!y,o),l.default.folderSidebarListIcon),
name:"folder-small"});return f.createElement("div",{key:e.id.id,role:"listitem"},y?f.createElement(s.ExpandableFolder,{id:"header-".concat(e.id.id),entry:e,icon:x,isExpanded:null!==(p=null===(u=a[(0,
d.getFolderName)(e.folderData.folder)])||void 0===u?void 0:u.isExpanded)&&void 0!==p&&p,isSelected:g===(0,d.getFolderName)(e.folderData.folder),onFolderClicked:C,onFolderExpandClicked:_,
query:b?M:void 0,btnStyle:E(T,!0)},f.createElement(t.FolderSidebarList,{folderData:a,currentRoot:(0,d.getFolderName)(e.folderData.folder),currentlySelectedFolder:g,initialFolderPath:k,
onFolderExpand:_,onFileLinkClicked:S,onFolderLinkClicked:C,currentPadId:w,nextPadId:I,nestLevel:T+1,ariaLabeledBy:"header-".concat(e.id.id),query:M})):f.createElement(m.NoAccessFolder,{entry:e,icon:x,
query:b?M:void 0,btnStyle:E(T,!0)}))}var P=e.id.id;"pad"===e.type&&(P=e.pad.localPadId);return f.createElement("div",{key:"".concat(P,"-").concat(e.title,"-file-container"),role:"listitem"
},f.createElement(h.SidebarFileButton,{entry:e,btnStyle:E(T),isActive:w===P&&!I,isLoading:!(0,r.isUndefined)(I)&&I===P,onFileLinkClicked:A,query:M}))
})),D.isLoading&&F&&1===N.length&&f.createElement("div",{style:E(T),"aria-label":b(y.loading),role:"listitem"},f.createElement(p.FolderSidebarLoading,{className:l.default.folderSidebarListItemLoading
})),D.hasError&&D.folderData&&f.createElement(u.FailedToLoadFolder,{entry:D.folderData,onRetry:_,nestLevel:T})):f.createElement(u.EmptyFolder,{nestLevel:T})}))
;t.FolderSidebarList.displayName="FolderSidebarList";t.FolderSidebarList.displayName="FolderSidebarList"},1754:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.ExpandableFolder=void 0;var n=a(0),o=a(3),i=a(21),r=a(16),s=a(15),l=a(60),d=a(5),c=a(2),u=a(101),p=a(487),m=a(83),h=a(1755),f=a(321),g=(0,d.PaperIntlFactory)()._f,v=(0,c.defineMessages)({
closeFolder:{id:"xU4214",defaultMessage:"Close folder"},expandFolder:{id:"7XhWHI",defaultMessage:"Expand folder"},expandFolderLabel:{id:"ncTTA4",defaultMessage:"Expand {folderName}"}})
;t.ExpandableFolder=n.memo((function(e){
var t,a=e.id,d=e.entry,c=e.icon,b=e.children,y=e.onFolderExpandClicked,E=e.onFolderClicked,k=e.isExpanded,_=void 0!==k&&k,C=e.isSelected,S=void 0!==C&&C,w=e.btnStyle,I=e.query,x=n.useCallback((function(e){
e.preventDefault();y(d.folderData);e.stopPropagation()}),[y,d]),T=n.useCallback((function(e){E(d.folderData,e);_||(0,m.shouldOpenInNewTab)(e)||(0,m.shouldOpenInNewWindow)(e)||y(d.folderData)
}),[E,d]),P=d.folderData.folder.name,M=n.createElement("span",{dir:"auto",className:"notranslate"},P),F=n.useMemo((function(){return n.createElement(n.Fragment,null,n.createElement(r.UIIcon,{
className:f.default.folderSidebarListExpandIcon,onClick:x,src:_?s.ChevronDownLine:s.ChevronRightLine,"aria-label":g(_?v.closeFolder:v.expandFolder)}),c)}),[_,c,x])
;return n.createElement(n.Fragment,null,n.createElement(i.default,{id:a,className:o((t={},t[h.default.selectedFolder]=S,t[f.default.folderSidebarListButtonUnselected]=!S,
t),f.default.folderSidebarListButton),style:w,variant:"transparent",onClick:T,tooltip:{title:M,isPortaled:!1},hasNoUnderline:!0,withIconLeft:F,href:(0,u.dropboxBrowseUrlFromPath)((0,
p.getFolderName)(d.folderData.folder).substring(1)),role:"link","aria-label":g(v.expandFolderLabel,{folderName:P}),"aria-expanded":_},n.createElement(l.default,{
className:f.default.folderSidebarListButtonTitle,str:P,query:I})),_&&b)}));t.ExpandableFolder.displayName="ExpandableFolder";t.ExpandableFolder.displayName="ExpandableFolder"},1755:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.selectedFolder=void 0;a(1756);t.selectedFolder="_selectedFolder_xzjs9_1";t.default={selectedFolder:"_selectedFolder_xzjs9_1"}},
1756:function(e,t,a){},1757:function(e,t,a){},1758:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.EmptyFolder=t.FailedToLoadFolder=t.usePaperOnlyFilesAndFolders=t.folderIndentWidth=t.indentWidth=void 0;var n=a(1),o=a(0),i=a(3),r=a(487),s=a(16),l=a(15),d=a(2),c=a(5),u=a(21),p=(0,
c.PaperIntlFactory)(),m=p.F,h=p._f,f=a(913),g=a(321);t.indentWidth=42;t.folderIndentWidth=24;var v=[".paper",".papert",".binder"],b=function(e){return v.some((function(t){return""===e.split(t).pop()
}))};t.usePaperOnlyFilesAndFolders=function(e){var t=e.folderData,a=e.currentRoot,n=e.initialFolderPath,i=o.useCallback((function(){var e=n.findIndex((function(e){return(0,r.getFolderName)(e)===a}))
;if(e>-1&&e+1<n.length){var t=n[e+1];return[{type:t.pathDisplay?"dbx-folder":"folder",id:{type:"folder",id:t.name},folderData:{folder:t}}]}return[]}),[n,a]);return o.useMemo((function(){var e=t[a]
;return!e.canAccess||e.isLoading&&!e.folderContents.length||e.hasError&&!e.folderContents.length?i():e.folderContents.filter((function(e){
return"file"===e.type&&b(e.title)||"pad"===e.type&&b(e.title)||"dbx-folder"===e.type||"folder"===e.type}))}),[t,a,n])};var y=(0,d.defineMessages)({failedToLoad:{id:"5ept7J",
defaultMessage:"Failed to load."},retry:{id:"zv6GVE",defaultMessage:"Retry"},emptyFolder:{id:"K+0wY+",defaultMessage:"This empty folder contains endless possibilities"}})
;t.FailedToLoadFolder=o.memo((function(e){var a=e.entry,r=e.onRetry,d=e.nestLevel,c=o.useCallback((function(){r(a,!0)}),[a,r]),p=o.useMemo((function(){return{paddingLeft:d*t.indentWidth}}),[d])
;return o.createElement("div",{className:f.default.failedToLoad,style:p},o.createElement(s.UIIcon,{src:l.FailLine,className:(0,i.default)(g.default.folderSidebarListIcon,f.default.failedToLoadIcon)
}),o.createElement(m,n.__assign({},y.failedToLoad)),o.createElement(u.default,{className:f.default.retryBtn,variant:"transparent",onClick:c,hasNoUnderline:!0,"aria-label":h(y.retry)
},o.createElement(m,n.__assign({},y.retry))))}));t.FailedToLoadFolder.displayName="FailedToLoadFolder";t.FailedToLoadFolder.displayName="FailedToLoadFolder";t.EmptyFolder=o.memo((function(e){
var a=e.nestLevel,r=o.useMemo((function(){return{paddingLeft:a*t.indentWidth}}),[a]);return o.createElement("div",{className:f.default.emptyFolder,style:r},o.createElement(s.UIIcon,{src:l.InfoLine,
className:(0,i.default)(g.default.folderSidebarListIcon,f.default.emptyFolderIcon)}),o.createElement(m,n.__assign({},y.emptyFolder)))}));t.EmptyFolder.displayName="EmptyFolder"
;t.FailedToLoadFolder.displayName="FailedToLoadFolder"},1759:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.NoAccessFolder=void 0
;var n=a(3),o=a(5),i=a(321),r=a(1760),s=a(21),l=a(60),d=a(16),c=a(15),u=a(0),p=a(2),m=(0,o.PaperIntlFactory)()._f,h=(0,p.defineMessages)({expand:{id:"cvPC9m",defaultMessage:"Expand folder"}})
;t.NoAccessFolder=u.memo((function(e){var t=e.entry,a=e.icon,o=e.btnStyle,p=e.query,f=t.folderData.folder.name,g=u.createElement("span",{dir:"auto",className:"notranslate"},f),v=u.useMemo((function(){
return u.createElement(u.Fragment,null,u.createElement(d.UIIcon,{className:i.default.folderSidebarListExpandIcon,src:c.ChevronRightLine,"aria-label":m(h.expand)}),a)}),[a])
;return u.createElement(s.default,{className:n(i.default.folderSidebarListButton,r.default.disabled),style:o,variant:"transparent",tooltip:{title:g,"aria-disabled":!0,isPortaled:!1},hasNoUnderline:!0,
withIconLeft:v,role:"button","aria-label":f,disabled:!0},u.createElement(l.default,{className:n(i.default.folderSidebarListButtonTitle,r.default.disabled),str:f,query:p}))}))
;t.NoAccessFolder.displayName="NoAccessFolder";t.NoAccessFolder.displayName="NoAccessFolder"},1760:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.disabled=void 0;a(1761)
;t.disabled="_disabled_4h306_1";t.default={disabled:"_disabled_4h306_1"}},1761:function(e,t,a){},1762:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.SidebarFileButton=void 0
;var n=a(0),o=a(3),i=a(21),r=a(60),s=a(7),l=a(116),d=a(125),c=a(285),u=a(632),p=a(912),m=a(1763),h=a(321);t.SidebarFileButton=n.memo((function(e){
var t,a=e.entry,f=e.onFileLinkClicked,g=e.btnStyle,v=e.isActive,b=void 0!==v&&v,y=e.isLoading,E=void 0!==y&&y,k=e.query,_=n.useRef(null),C=n.useRef(!1),S=n.useMemo((function(){return(0,
p.getDisplayTitle)(a)}),[a]),w=n.useMemo((function(){if("file"===a.type)return a.browser_url}),[a]),I=n.useMemo((function(){var e,t=(0,d.getFirstEmojiFromTitle)(a.title,!0),i=(0,
o.default)(h.default.folderSidebarListIcon,m.default.folderSidebarListEmojiIcon,((e={})[m.default.loadingIcon]=E,e));return t?n.createElement("div",{className:i},n.createElement(c.default,{ch:t,
size:s.EmojiSize.Small})):n.createElement(u.FileIcon,{path:a.title,className:i})}),[E,a]),x=n.useMemo((function(){return n.createElement(n.Fragment,null,E&&n.createElement(l.Spinner,{
size:s.EmojiSize.Small,"aria-valuetext":"loading pad"}),I)}),[E,I]),T=n.useMemo((function(){return n.createElement(r.default,{str:S,skipFirstEmoji:!0})}),[S]),P=n.useCallback((function(e){
return f(e,a)}),[f,a]);n.useEffect((function(){var e,t;if(b&&(null===(e=_.current)||void 0===e?void 0:e.firstChild)&&(null===(t=_.current)||void 0===t?void 0:t.offsetParent)&&!C.current){
var a=_.current.offsetTop,n=_.current.firstChild.offsetLeft;_.current.offsetParent.scrollTo(n,a);C.current=!0}}),[b]);return n.createElement(i.default,{key:a.id.id,className:(0,
o.default)(h.default.folderSidebarListButton,m.default.fileButton),style:g,variant:"transparent",href:b||E?void 0:w,onClick:b||E?void 0:P,tooltip:{title:T,isPortaled:!1},hasNoUnderline:!0,
withIconLeft:x,role:"link","aria-label":S,forwardedRef:_},n.createElement(r.default,{key:"".concat(a.id.id,"-").concat(a.title),str:S,className:(0,
o.default)(h.default.folderSidebarListButtonTitle,(t={},t[m.default.currentFile]=b,t[m.default.loading]=E,t)),query:k,skipFirstEmoji:!0,textEllipsis:!0}))}))
;t.SidebarFileButton.displayName="SidebarFileButton";t.SidebarFileButton.displayName="SidebarFileButton"},1763:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.loadingIcon=t.loading=t.folderSidebarListEmojiIcon=t.currentFile=t.fileButton=void 0;a(1764);t.fileButton="_fileButton_xc7hl_1";t.currentFile="_currentFile_xc7hl_12"
;t.folderSidebarListEmojiIcon="_folderSidebarListEmojiIcon_xc7hl_16";t.loading="_loading_xc7hl_22";t.loadingIcon="_loadingIcon_xc7hl_26";t.default={fileButton:"_fileButton_xc7hl_1",
currentFile:"_currentFile_xc7hl_12",folderSidebarListEmojiIcon:"_folderSidebarListEmojiIcon_xc7hl_16",loading:"_loading_xc7hl_22",loadingIcon:"_loadingIcon_xc7hl_26"}},1764:function(e,t,a){},
1765:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.UnknownFolderSidebarContents=void 0;var n=a(1),o=a(0),i=a(2),r=a(5),s=a(21),l=(0,r.PaperIntlFactory)().F,d=a(1766),c=(0,
i.defineMessages)({noAccess:{id:"YT+Ktx",defaultMessage:"You don't have access to the folder this Paper doc is in."},showYourFolders:{id:"ANZS+u",defaultMessage:"Show your folders"}})
;t.UnknownFolderSidebarContents=o.memo((function(e){var t=e.onGoBackToRoot;return o.createElement("div",{className:d.default.messageContainer},o.createElement("div",{
className:d.default.noAccessMsgContainer},o.createElement(l,n.__assign({},c.noAccess))),o.createElement(s.default,{className:d.default.showYourFoldersBtn,variant:"transparent",onClick:t,
hasNoUnderline:!0},o.createElement(l,n.__assign({},c.showYourFolders))))}));t.UnknownFolderSidebarContents.displayName="UnknownFolderSidebarContents"
;t.UnknownFolderSidebarContents.displayName="UnknownFolderSidebarContents"},1766:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.noAccessMsgContainer=t.showYourFoldersBtn=t.messageContainer=void 0;a(1767);t.messageContainer="_messageContainer_gzlyh_1";t.showYourFoldersBtn="_showYourFoldersBtn_gzlyh_11"
;t.noAccessMsgContainer="_noAccessMsgContainer_gzlyh_15";t.default={messageContainer:"_messageContainer_gzlyh_1",showYourFoldersBtn:"_showYourFoldersBtn_gzlyh_11",
noAccessMsgContainer:"_noAccessMsgContainer_gzlyh_15"}},1767:function(e,t,a){},1768:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.DocPinningLoadableLib=void 0;var n=a(165)
;t.DocPinningLoadableLib=(0,n.default)({importPath:"client/lazy/doc_pinning_wrapper",chunkName:"doc_pinning",requireAsync:function(){return new Promise((function(e){
Promise.all([a.e("binder_bundle~doc_pinning~paper_binder"),a.e("doc_pinning~section_mover"),a.e("doc_pinning")]).then(function(t){e(a(703))}.bind(null,a)).catch(void 0)}))},resolveWeak:function(){
return 703}})},1771:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(6),i=a(3),r=a(30),s=a(2),l=a(4),d=a(11),c=a(641),u=a(1772),p=a(1778),m=a(143),h=a(236),f=a(77),g=a(23),v=a(0),b=(0,a(5).PaperIntlFactory)().F,y=(0,s.defineMessages)({home:{id:"t0dVGR",
defaultMessage:"Back to home"},cloudDocsHome:{id:"ALaoc1",defaultMessage:"Back to Dropbox home"},loading:{id:"v/6Yxg",defaultMessage:"Loading..."}}),E=!1,k=function(e){n.__extends(t,e)
;function t(t,a){var n=e.call(this,t,a)||this;n.updateCurrentNavigationFolder=function(){var e=n.props.app.getCurrentPadController(),t=(0,m.getPadAndFolderApi)(e)
;t&&t.getPadDetailsAsync(e,(function(a){t.canEditFolder(a.folderData).then((function(t){n.setState({currentPadDetails:a,currentNavigationFolderData:a.folderData,
filesystemInfo:e.filesystemInfoStore.filesystemInfo,canEditFolder:t})}))}))};n.handlePadLoaded=function(){n.updateCurrentNavigationFolder();var e=n.props.app.getCurrentPadController()
;n.events.on(e.folderStore,"change",n.updateCurrentNavigationFolder);e.isCloudDoc()&&n.events.on(e.filesystemInfoStore,"change",n.handleFilesystemInfoStoreChange)}
;n.handleFilesystemInfoStoreChange=function(){var e=n.props.app.getCurrentPadController(),t=n.state.filesystemInfo,a=e.filesystemInfoStore.filesystemInfo
;o.isEqual(t,a)||n.updateCurrentNavigationFolder()};n.onFileLinkClicked=function(e,t){void 0===t&&(t=!1);E=!0;n.props.app.onLinkClicked(e,t)};n.stopForceLoadingMessage=function(){E=!1;n.setState({
forceLoadingMessage:!1})};var i=E;n.state={currentPadDetails:null,currentNavigationFolderData:null,forceLoadingMessage:i,filesystemInfo:null,canEditFolder:!1};return n}
t.prototype.componentDidMount=function(){var e;E&&this.timers.setTimeout(this.stopForceLoadingMessage,500);this.ensureLoadingMessageDoesNotFlicker()
;this.events.on(this.props.app.padLoader,"hp-pad-loaded",this.handlePadLoaded);(null===(e=this.props.app.getCurrentPadController())||void 0===e?void 0:e.isInitialized())&&this.handlePadLoaded()}
;t.prototype.componentDidUpdate=function(){this.ensureLoadingMessageDoesNotFlicker()};t.prototype.onFolderLinkClicked=function(e){var t=this;this.setState({forceLoadingMessage:!0})
;e.then((function(e){var a=t.props.app.getCurrentPadController();(0,m.getPadAndFolderApi)(a).canEditFolder(e).then((function(a){t.setState({currentNavigationFolderData:e,forceLoadingMessage:!1,
canEditFolder:a})}))}))};t.prototype.renderLoadingFolderSidebar=function(){return v.createElement("div",{className:"folder-sidebar-loading"},v.createElement("div",{className:"awesome-spinner"
}),v.createElement("div",{className:"folder-sidebar-loading-message"},v.createElement(b,n.__assign({},y.loading))))};t.prototype.renderUnfiledFolderSidebar=function(){
var e=l.EditorContext.FolderSidebar.Unfiled;return v.createElement(l.TrackContext,{trackContext:e},v.createElement(p.FolderSidebarUnfiled,{padController:this.props.app.getCurrentPadController(),
stores:this.context.stores}))};t.prototype.renderFiledFolderSidebar=function(){
var e=this.props.app,t=e.getCurrentPadController(),a=this.state,n=a.currentPadDetails,o=a.currentNavigationFolderData,i=n.canAccessFolder?l.EditorContext.FolderSidebar.Filed.Access:l.EditorContext.FolderSidebar.Filed.NoAccess,r=n.folderData==o
;return v.createElement(l.TrackContext,{trackContext:i},v.createElement(u.default,{currentLocalPadId:e.getCurrentPadId(),app:e,isCurrentPadsFolder:r,padController:t,
onFileLinkClicked:this.onFileLinkClicked,onFolderLinkClicked:this.onFolderLinkClicked.bind(this),currentNavigationFolderData:o,padAndFolderApi:(0,m.getPadAndFolderApi)(t)}))}
;t.prototype.renderHomeButton=function(e){if(!e)return null;var t=this.props.app.getCurrentPadController(),a=(null==t?void 0:t.isCloudDoc())&&!(0,
h.isCloudDocNoframe)()?y.cloudDocsHome:y.home,n=e.getHomeButton(a,this.props.app.onLinkClicked);return v.createElement("div",{className:"folder-sidebar__home-button"},n)}
;t.prototype.renderCloseButton=function(){var e=this;return v.createElement("div",{className:"folder-sidebar__close-button"},v.createElement(c.default,{inSidebar:!0,handleToggleSidebar:function(){
var t=e.props.app.getCurrentPadController(),a=(0,m.getFolderSidebarToggleTrackDataFromPadController)(t,!0);e.props.handleToggleSidebar(a)},isSidebarOpen:!0,ref:this.props.sidebarCloseButtonRef}))}
;t.prototype.renderSidebarFooter=function(){var e=this.props.app.getCurrentPadController(),t=this.state.currentPadDetails&&this.state.currentPadDetails.canAccessFolder,a=(0,m.getPadAndFolderApi)(e)
;if(t&&a&&this.state.canEditFolder){var n=this.props.app,o=this.state.currentNavigationFolderData,i=this.context.stores;return a.getFolderSidebarCreateNewButton(n,o,i)}return null}
;t.prototype.ensureLoadingMessageDoesNotFlicker=function(){if(!this.padReadyForSidebar()&&!this.state.forceLoadingMessage){this.setState({forceLoadingMessage:!0})
;this.timers.setTimeout(this.stopForceLoadingMessage,500)}};t.prototype.padReadyForSidebar=function(){
return Boolean(this.props.app&&this.props.app.getCurrentPadController()&&this.state.currentPadDetails)};t.prototype.render=function(){var e=this.props.app;if(e){
var t=e.getCurrentPadController(),a=void 0
;a=!this.padReadyForSidebar()||this.state.forceLoadingMessage?this.renderLoadingFolderSidebar():this.state.currentPadDetails.folderData?this.renderFiledFolderSidebar():this.renderUnfiledFolderSidebar()
;var n=(0,m.getPadAndFolderApi)(t),o=this.renderCloseButton();return v.createElement(l.TrackContext,{trackContext:l.EditorContext.FolderSidebar},v.createElement(f.LayerContext.Provider,{value:{
zIndex:r.default.zindex_pad_folder}},v.createElement("div",{className:i("folder-sidebar")},v.createElement("div",{className:"folder-sidebar__top-wrapper"},v.createElement("div",{
className:"folder-sidebar__top-contents"},this.renderHomeButton(n),o)),v.createElement("div",{className:"folder-sidebar__main-content"},v.createElement("div",{className:"folder-sidebar-section"
},a)),this.renderSidebarFooter())))}return null};t.displayName="FolderSidebarContents";t.contextTypes={stores:g.object.isRequired};return t=n.__decorate([d.default],t)}(v.PureComponent);t.default=k},
1772:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(6),i=a(2),r=a(7),s=a(11),l=a(1773),d=a(1775),c=a(1777),u=a(60),p=a(23),m=a(0),h=a(27),f=(0,
a(5).PaperIntlFactory)(),g=f.F,v=f._f,b=(0,i.defineMessages)({untitled:{id:"Fk+Dsh",defaultMessage:"Untitled"},loading:{id:"v/6Yxg",defaultMessage:"Loading..."}}),y=!1,E={folderContentsAll:{
isLoaded:!1,entries:[]},folderContentsPinned:{isLoaded:!1,entries:[]}},k=function(e){n.__extends(t,e);function t(t,a){var o=e.call(this,t,a)||this;o.folderContentsDataSource=null
;o.stopForceLoadingMessage=function(){y=!1;o.setState({forceLoadingMessage:!1})};o.updateFolderContents=function(e,t){o.folderContentsDataSource=t;if(e){var a=o.processFolderContents(e),n=a[0],i=a[1]
;o.setState({folderContentsAll:n,folderContentsPinned:i})}else o.clearPrevFolderContents()};o.handlePadTitleChanged=function(){
var e=o.state,t=e.folderContentsAll.entries,a=e.folderContentsPinned.entries,n=o.props.padController.padMeta,i=n.title,s=n.localPadId,l=n.padType===r.PadType.customTemplate?"papert":"paper",d="".concat(i,".").concat(l),c=o.findAndUpdatePadTitle(s,d,t),u=o.findAndUpdatePadTitle(s,d,a)
;o.setState({folderContentsAll:c,folderContentsPinned:u})};var i=y;y&&o.timers.setTimeout(o.stopForceLoadingMessage,500);o.state=n.__assign(n.__assign({},E),{forceLoadingMessage:i});return o}
t.prototype.componentDidMount=function(){this.ensureLoadingMessageDoesNotFlicker();this.updateCurrentFolder()
;this.events.on(this.props.padController,r.DocEvents.TitleChanged,this.handlePadTitleChanged)};t.prototype.componentDidUpdate=function(e){
if(e.currentNavigationFolderData!=this.props.currentNavigationFolderData){this.ensureLoadingMessageDoesNotFlicker();this.updateCurrentFolder()}};t.prototype.componentWillUnmount=function(){
if(this.folderContentsDataSource){this.folderContentsDataSource.dispose();this.folderContentsDataSource=null}};t.prototype.ensureLoadingMessageDoesNotFlicker=function(){
if(!this.folderContentsReadyForSidebar()&&!this.state.forceLoadingMessage){this.setState({forceLoadingMessage:!0});this.timers.setTimeout(this.stopForceLoadingMessage,500)}}
;t.prototype.folderContentsReadyForSidebar=function(){var e=this.state.folderContentsAll;return Boolean(e&&e.isLoaded)};t.prototype.getSortValueFromTitle=function(e){if((0,
h.startsWith)(e,".paper")||(0,h.startsWith)(e,".papert")){var t=v(b.untitled);return"".concat(t).concat(e)}return(0,u.getRawTitleWithConvertedEmoji)({str:e,skipFirstEmoji:!0
}).join("").trim().toLowerCase()};t.prototype.processFolderContents=function(e){var t=this;if(!e.entries){return[e,n.__assign(n.__assign({},e),{entries:null})]}
0==e.entries.length&&this.props.isCurrentPadsFolder&&e.entries.push({type:"pad",pad:this.props.padController.padMeta,title:this.props.padController.padMeta.title,
sortValue:this.props.padController.padMeta.title,id:{type:"doc",id:this.props.padController.padMeta.localPadId}});e.entries=e.entries.map((function(e){e.sortValue=t.getSortValueFromTitle(e.title)
;return e}));e.entries=o.sortBy(e.entries,"sortValue");var a=n.__assign(n.__assign({},e),{entries:null});if(this.props.currentNavigationFolderData){
var i=this.props.padAndFolderApi.getFolderPins(this.props.currentNavigationFolderData)||[],r=new Set(i.map((function(e){return e.encryptedEntityId})));a.entries=e.entries.filter((function(e){
return r.has(e.id.id)}))}return[e,a]};t.prototype.clearPrevFolderContents=function(){this.setState(n.__assign({},E))};t.prototype.updateCurrentFolder=function(){this.clearPrevFolderContents()
;var e=this.props,t=e.padAndFolderApi,a=e.currentNavigationFolderData;if(t.hasNewFolder(a)){this.folderContentsDataSource&&this.folderContentsDataSource.dispose()
;t.updateCurrentFolderAsync(a,this.context.stores,this.props.padController,this.props.currentLocalPadId,this.updateFolderContents,!0)}else if(this.folderContentsDataSource){
this.folderContentsDataSource.dispose();this.folderContentsDataSource=null}};t.prototype.findAndUpdatePadTitle=function(e,t,a){var i=this,r=null;if(a){r=a.map((function(a){
return a.id.id!==e?n.__assign({},a):n.__assign(n.__assign({},a),{title:t,sortValue:i.getSortValueFromTitle(t)})}));r=o.sortBy(r,"sortValue")}return{isLoaded:!0,entries:r}}
;t.prototype.render=function(){
var e=this.props,t=e.onFolderLinkClicked,a=e.onFileLinkClicked,o=e.currentNavigationFolderData,i=e.app,r=e.currentLocalPadId,s=e.padAndFolderApi,u=this.state,p=u.folderContentsAll,h=u.folderContentsPinned
;return!this.folderContentsReadyForSidebar()||this.state.forceLoadingMessage?m.createElement("div",{className:"folder-sidebar-loading"},m.createElement("div",{className:"awesome-spinner"
}),m.createElement("div",{className:"folder-sidebar-loading-message"},m.createElement(g,n.__assign({},b.loading)))):p.entries?0==p.entries.length?m.createElement(l.FolderSidebarEmptyFiled,{app:i,
folderData:o,onLinkClicked:a,onFolderLinkClicked:t,padAndFolderApi:s}):m.createElement(d.FolderSidebarFiled,{currentLocalPadId:r,folderContentsAll:p,folderContentsPinned:h,folderData:o,
onLinkClicked:a,onFolderLinkClicked:t,padAndFolderApi:s,app:i}):m.createElement(c.FolderSidebarNoAccessFiled,{folderData:o,onLinkClicked:a,onFolderLinkClicked:t,padAndFolderApi:s})}
;t.displayName="FolderSidebarCurrentFolder";t.contextTypes={stores:p.object.isRequired};return t=n.__decorate([s.default],t)}(m.PureComponent);t.default=k},1773:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarEmptyFiled=void 0;var n=a(1),o=a(2),i=a(643),r=a(73),s=a(0),l=(0,a(5).PaperIntlFactory)().F,d=(0,o.defineMessages)({
thisemptyfoldercontainsendlesspossibilities:{id:"K+0wY+",defaultMessage:"This empty folder contains endless possibilities"}});t.FolderSidebarEmptyFiled=function(e){
var t=e.folderData,a=e.onLinkClicked,o=e.onFolderLinkClicked,c=e.padAndFolderApi,u=c.getCreateNewButton(e.app,e.folderData)
;return s.createElement(s.Fragment,null,s.createElement(i.FolderSidebarFiledHeader,{folderData:t,onLinkClicked:a,onFolderLinkClicked:o,padAndFolderApi:c}),s.createElement("div",{
className:"folder-sidebar-empty-wrapper"},s.createElement(r.InvertibleImage,{className:"folder-sidebar-empty-image",src:"/static/img/composer/rebrand/empty-states/no-docs-null.png",skip2x:!0
}),s.createElement("div",{className:"folder-sidebar-empty-message"},s.createElement(l,n.__assign({},d.thisemptyfoldercontainsendlesspossibilities)),s.createElement("br",null),u)))}
;t.FolderSidebarEmptyFiled.displayName="FolderSidebarEmptyFiled"},1774:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FolderBreadcrumbs=void 0
;var n=a(1),o=a(515),i=a(15),r=a(2),s=a(60),l=a(23),d=a(0),c=a(16),u=a(17),p=(0,a(5).PaperIntlFactory)().F,m=(0,r.defineMessages)({infolderLink:{id:"9uC4RL",defaultMessage:"In {folderLink}"}
}),h=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){
var e=this,t=this.props,a=t.folderData,r=t.onLinkClicked,l=t.onFolderLinkClicked,h=t.padAndFolderApi,f=t.shouldDisplayIconSuffix,g=t.rootBreadcrumbUiFolder;if(!a)return null;var v=null,b="/"
;if(0==a.parentFolders.length){if(!(v=g))return null}else{v=a.parentFolders[a.parentFolders.length-1];b=h.getBreadcrumbUrl(a)}var y=h.userCanAccessFolder(a)?function(t){
if(!u.default.events.shouldOpenInNewTab(t)&&!u.default.events.shouldOpenInNewWindow(t)){t.preventDefault();l(h.getDataForFolder(v,e.context.stores))}}:r,E=d.createElement("div",{
className:"folder-sidebar-header__parent_folder-dig"},d.createElement(o.Breadcrumb,{size:"small"},d.createElement(o.Breadcrumb.Link,{href:b,onClick:y,"track-title":"open folder from breadcrumb",
className:"folder-sidebar-breadcrumb-link-dig notranslate"},d.createElement(s.default,{str:v.name}))),d.createElement("span",{className:"folder-sidebar-header-breadcrumb-icon-dig"
},f?d.createElement(c.UIIcon,{src:i.ChevronRightLine,size:"small"}):null)),k=E;f||(k=d.createElement(p,n.__assign({values:{folderLink:E}},m.infolderLink)));return d.createElement("div",{
className:"folder-sidebar-header__parent_folder"},k)};t.displayName="FolderBreadcrumbs";t.contextTypes={stores:l.object.isRequired};return t}(d.PureComponent);t.FolderBreadcrumbs=h},
1775:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarFiled=void 0;var n=a(643),o=a(1776),i=a(0);t.FolderSidebarFiled=function(e){
var t=e.currentLocalPadId,a=e.folderContentsAll,r=e.folderContentsPinned,s=e.folderData,l=e.onLinkClicked,d=e.onFolderLinkClicked,c=e.padAndFolderApi,u=e.app
;return i.createElement(i.Fragment,null,i.createElement(n.FolderSidebarFiledHeader,{folderData:s,onLinkClicked:l,onFolderLinkClicked:d,padAndFolderApi:c
}),a&&a.isLoaded&&i.createElement(o.FolderSidebarList,{onLinkClicked:l,currentLocalPadId:t,listEntries:a.entries,pinnedEntries:r.entries,onFolderLinkClicked:d,padAndFolderApi:c,app:u}))}
;t.FolderSidebarFiled.displayName="FolderSidebarFiled"},1776:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarList=void 0
;var n=a(1),o=a(21),i=a(3),r=a(2),s=a(60),l=a(0),d=a(71),c=(0,a(5).PaperIntlFactory)().F,u=(0,r.defineMessages)({all:{id:"dxQN//",defaultMessage:"ALL"},pinned:{id:"7yMUnW",defaultMessage:"PINNED"}})
;t.FolderSidebarList=l.memo((function(e){var t,a,o=e.listEntries,i=e.pinnedEntries,r=e.currentLocalPadId,s=e.onFolderLinkClicked,m=e.onLinkClicked,h=e.padAndFolderApi,f=e.app;if(i.length>0){
t=l.createElement("div",{className:"folder-sidebar-list-title"},l.createElement(c,n.__assign({},u.pinned)));a=l.createElement("div",{className:"folder-sidebar-list-title"
},l.createElement(c,n.__assign({},u.all)))}var g=l.useCallback((function(e){return e.map((function(e){var t
;"pad"==e.type?t=e.pad.localPadId:"folder"==e.type?t=e.folderData.folder.encryptedId:"dbx-folder"==e.type?t=e.folderData.folder.pathDisplay:"file"==e.type&&(t=e.id.id);var a=t==r
;return l.createElement(p,{key:t,onFolderLinkClicked:s,onLinkClicked:m,entry:e,highlight:a,padAndFolderApi:h,app:f})}))}),[f,r,s,m,h])
;return l.createElement(d.ToastAndUnmountErrorBoundary,null,l.createElement("div",{className:"folder-sidebar-list"},t,g(i),a,g(o)))}));t.FolderSidebarList.displayName="FolderSidebarList"
;t.FolderSidebarList.displayName="FolderSidebarList";var p=function(e){var t=e.entry,a=e.onLinkClicked,n=e.highlight,o=e.padAndFolderApi,i=e.app,r=e.onFolderLinkClicked,s=t.type;switch(s){case"pad":
case"file":return l.createElement(m,{onLinkClicked:a,highlight:n,entry:t,padAndFolderApi:o,app:i});case"folder":case"dbx-folder":return l.createElement(h,{onFolderLinkClicked:r,
folderData:t.folderData,padAndFolderApi:o});default:return null}};p.displayName="FolderSidebarListEntryView";var m=l.memo((function(e){
var t=e.highlight,a=e.onLinkClicked,n=e.padAndFolderApi,r=e.entry,d=e.app,c=n.getTitle(r),u=n.getFileUrl(r),p=n.getIcon(r),m=n.getOnLinkClicked(r,u,a,d),h=l.createElement(s.default,{str:c,
skipFirstEmoji:!0});return l.createElement(o.default,{className:i("list-item-dig-button","list-item-doc-dig-button",{"folder-sidebar-highlight":t}),variant:"transparent",href:u,onClick:m,tooltip:{
title:h},hasNoUnderline:!0,withIconLeft:p,children:l.createElement(s.default,{str:c,skipFirstEmoji:!0,textEllipsis:!0}),role:"link"})}));m.displayName="FolderSidebarListDocEntryView"
;m.displayName="FolderSidebarListDocEntryView";var h=function(e){var t=e.folderData,a=e.onFolderLinkClicked,n=e.padAndFolderApi,i=n.getFolderUrl(t),r=n.getFolderIcon(t,!0),d=l.createElement("span",{
dir:"auto",className:"notranslate"},t.folder.name);return l.createElement(o.default,{className:"list-item-dig-button list-item-folder-dig-button",variant:"transparent",href:i,onClick:function(e){
e.preventDefault();a(new Promise((function(e){e(t)})))},tooltip:{title:d},hasNoUnderline:!0,withIconLeft:r,children:l.createElement(s.default,{str:t.folder.name}),role:"link"})}
;h.displayName="FolderSidebarListFolderEntryView"},1777:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarNoAccessFiled=void 0
;var n=a(1),o=a(2),i=a(643),r=a(73),s=a(0),l=(0,a(5).PaperIntlFactory)().F,d=(0,o.defineMessages)({youdonthavepermissiontoopenthisfolder:{id:"MH71QE",
defaultMessage:"You donâ€™t have permission to open this folder"}});t.FolderSidebarNoAccessFiled=function(e){var t=e.folderData,a=e.onLinkClicked,o=e.onFolderLinkClicked,c=e.padAndFolderApi
;return s.createElement(s.Fragment,null,s.createElement(i.FolderSidebarFiledHeader,{folderData:t,onLinkClicked:a,onFolderLinkClicked:o,padAndFolderApi:c}),s.createElement("div",{
className:"folder-sidebar-empty-wrapper"},s.createElement(r.InvertibleImage,{className:"folder-sidebar-empty-image",src:"/static/img/composer/rebrand/empty-states/no-docs-null.png",skip2x:!0
}),s.createElement("div",{className:"folder-sidebar-empty-message"},s.createElement(l,n.__assign({},d.youdonthavepermissiontoopenthisfolder)),s.createElement("br",null))))}
;t.FolderSidebarNoAccessFiled.displayName="FolderSidebarNoAccessFiled"},1778:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarUnfiled=void 0
;var n=a(1),o=a(2),i=a(488),r=a(0),s=a(35),l=(0,a(5).PaperIntlFactory)().F,d=(0,o.defineMessages)({givethisdocahome:{id:"O0iCB/",defaultMessage:"Give this doc a home"},
keepyourdocsniceandtidybymovingthisdoctoafolder:{id:"ByOz07",defaultMessage:"Keep your docs nice and tidy by moving this doc to a folder."},givethistemplateahome:{id:"DFO1ci",
defaultMessage:"Give this template a home"},keepyourdocsniceandtidybymovingthistemplatetoafolder:{id:"ZLxTn4",defaultMessage:"Keep your docs nice and tidy by moving this template to a folder."},
movetofolder:{id:"7FDcgZ",defaultMessage:"Move to folder"}});t.FolderSidebarUnfiled=function(e){
var t,a,o=r.createElement(l,n.__assign({},d.givethisdocahome)),c=r.createElement(l,n.__assign({},d.keepyourdocsniceandtidybymovingthisdoctoafolder)),u=r.createElement(l,n.__assign({},d.givethistemplateahome)),p=r.createElement(l,n.__assign({},d.keepyourdocsniceandtidybymovingthistemplatetoafolder))
;if(e.padController.isPadTemplate()){a=u;t=p}else{a=o;t=c}return r.createElement("div",{className:"folder-sidebar-header folder-sidebar-header-dig"},r.createElement(s.Title,{size:"small"
},a),r.createElement(s.Text,{color:"faint",size:"small"},t),r.createElement(i.default,{className:"folder-sidebar-move-button",primary:!0,padController:e.padController,stores:e.stores
},r.createElement(l,n.__assign({},d.movetofolder))))};t.FolderSidebarUnfiled.displayName="FolderSidebarUnfiled"},1781:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(24),i=a(18),r=a(0),s=null,l=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.componentDidMount=function(){if(null===s){s=this
;this.scrollTop=(0,i.getScrollTop)(window);this.scrollLeft=(0,i.getScrollLeft)(window);document.documentElement.classList.add("disable-scrolling")
;document.documentElement.style.top=-1*this.scrollTop+"px";document.documentElement.style.left=-1*this.scrollLeft+"px"
}else console.warn("DisableScrolling mounted multiple times at once!",o.findDOMNode(this))};t.prototype.componentWillUnmount=function(){if(s===this){
document.documentElement.classList.remove("disable-scrolling");document.documentElement.style.top="";document.documentElement.style.left="";window.scrollTo(this.scrollLeft,this.scrollTop+1)
;window.scrollTo(this.scrollLeft,Math.max(this.scrollTop-1,0));window.scrollTo(this.scrollLeft,this.scrollTop);s=null}};t.prototype.render=function(){return null};t.displayName="DisableScrolling"
;return t}(r.Component);t.default=l},1782:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.DraftManagedCommentsUI=void 0;var n=a(1),o=a(1783),i=a(0),r=function(e){n.__extends(t,e)
;function t(){var t=null!==e&&e.apply(this,arguments)||this;t.onCommentsUIRef=function(e){t.lightboxCommentsUI=e;t.props.onCommentsUIRef(e)};return t}t.prototype.componentDidMount=function(){
this.restoreDraftComments()};t.prototype.componentWillReceiveProps=function(e){this.props.lightboxPreview==e.lightboxPreview&&this.props.currItem==e.currItem||this.saveDraftComments()}
;t.prototype.componentDidUpdate=function(e){this.props.lightboxPreview==e.lightboxPreview&&this.props.currItem==e.currItem||this.restoreDraftComments()};t.prototype.componentWillUnmount=function(){
this.saveDraftComments()};t.prototype.render=function(){return i.createElement(o.LightboxCommentsUI,n.__assign({},this.props,{ref:this.onCommentsUIRef}))};t.prototype.getSidebarCommentsUI=function(){
return this.props.editor&&this.props.editor.commentsController.getCommentsUI()};t.prototype.restoreDraftComments=function(){
this.transferDraftedComments(this.getSidebarCommentsUI(),this.lightboxCommentsUI)};t.prototype.saveDraftComments=function(){
this.transferDraftedComments(this.lightboxCommentsUI,this.getSidebarCommentsUI())};t.prototype.transferDraftedComments=function(e,t){var a=this.props,n=a.lightboxPreview,o=a.currItem;if(e&&t&&n&&o){
var i=n.getCommentThreadIds(),r=Object.keys(i).filter((function(e){return i[e]})),s=e.getDraftComments(r);t.updateDraftComments(s)}};t.displayName="DraftManagedCommentsUI";return t}(i.Component)
;t.DraftManagedCommentsUI=r},1783:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.LightboxCommentsUI=void 0
;var n=a(1),o=a(303),i=a(1784),r=a(645),s=a(646),l=a(8),d=a(63),c=a(6),u=a(11),p=a(195),m=a(39),h=a(18),f=a(32),g=a(4),v=a(0),b=a(43),y=a(30),E=a(61),k=function(e){n.__extends(t,e);function t(t){
var a=e.call(this,t)||this;a.handleDraftCommentsStoreChange=function(e){var t=a.props.stores.draftCommentsStore.getUpdatedDraftCommentsFromStore(e)||{};a.setState({draftThreads:n.__assign({},t),
hasDraftsAndShowColor:Object.keys(t)},(function(){if(a.state.draftThreadFirstRender){if(Object.keys(a.state.draftThreadFirstRender).length>0){
for(var e=a.state.draftThreadFirstRender,t=0,n=Object.keys(a.state.draftThreadFirstRender);t<n.length;t++){s=n[t];-1===a.state.hasDraftsAndShowColor.indexOf(s)&&(e[s]=!1)}a.setState({
draftThreadFirstRender:e})}}else{var o={};if(0!=a.state.hasDraftsAndShowColor.length)for(var i=0,r=a.state.hasDraftsAndShowColor;i<r.length;i++){var s;o[s=r[i]]=!0}a.setState({draftThreadFirstRender:o
})}}))};a.onPlaceholderClick=function(e,t){var n=a.props.lightboxPreview&&a.props.lightboxPreview.createCommentThread();n&&a.setState({highlightThreadId:n,isHighlighting:!0},(function(){
var e=a.getCommentThread(n);t&&e&&t(e);a.props.onHighlight&&a.props.onHighlight()}))};a.onStickerPlaceholderClick=function(e){return a.onPlaceholderClick(e,(function(e){
return e.openStickerMenuInReplyBox()}))};a.onAnnotationPlaceholderClick=function(e){return a.onPlaceholderClick(e,(function(e){return e.handleRequestAnnotation()}))};a.handleBodyKeydown=function(e){
if(e.keyCode==b.KeyCode.ESCAPE){a.state.highlightThreadId&&e.stopPropagation();a.clearHighlightThread()}};a.onObserverInvalidateCache=(0,p.debounceAndDelayUntilPageLoad)((function(){
return a.layoutThreads()}),33);a.onObserverEditableStateChanged=function(){var e=a.canCreateComments();e!=a.state.canCreateComments&&a.setState({canCreateComments:e})};a.refreshThreads=function(){
a.setState({threads:a.mainAce.comments.getAllThreads(!1)})};a.onChange=function(){var e=!1
;for(var t in a.refs)if(0==t.indexOf("thread-")&&a.mainAce&&!a.mainAce.dom.getRoot().querySelector(".ace-line ."+t)){e=!0;break}a.eachCommentThread((function(t){
if(a.shouldRenderThread(t)&&!a.refs["thread-"+t.id]){e=!0;return!1}}));e?a.forceUpdate():a.layoutThreads()};a.handleAnnotationHover=function(){
a.handleHighlightedAnnotationsChange(a.props.highlightedAnnotationStore.getHighlightedAnnotations())};a.handleAnnotationClick=function(e){var t=a.getThreadIdFromAnnotationId(e)
;t&&a.highlightThreadAtNode(t,null,null)};a.handlePadUnreadNotificationsChange=function(){a.setState({unreadThreadIds:a.mainAce.comments.getInDocUnreadThreadIds()})};a.onPost_=function(){
var e=a.state.highlightThreadId,t=a.getCommentThread(e);t&&t.refs.commentEntry&&t.refs.commentEntry.postComment()};a.childRedraw_=function(){a.timers.setTimeout(a.layoutThreads.bind(a),0)
;var e=!!a.highlightNewThreadHasEdits();a.state.isHighlightThreadDirty!=e&&a.setState({isHighlightThreadDirty:e})};a.handleCommentThreadInteraction=function(e,t){
if(c.includes(a.state.unreadThreadIds,e)){g.IntentionEvent.ReadCommentNotification.track({interactionType:t});a.mainAce.comments.handleCommentThreadInteraction(e);a.setState({
fadingThreadIds:c.union(a.state.fadingThreadIds,[e])});a.timers.setTimeout((function(){a.setState({fadingThreadIds:c.without(a.state.fadingThreadIds,e)})
}),parseInt(y.default.time_notifications_blue_box_fade,10))}};a.handleMarkCommentThreadUnread=function(e){if(!c.includes(a.state.unreadThreadIds,e)){g.IntentionEvent.MarkThreadUnread.track()
;a.mainAce.comments.markThreadUnread(e)}};a.onClickDraftCommentThread=function(e){if(c.includes(a.state.hasDraftsAndShowColor,e)){a.setState({
hasDraftsAndShowColor:c.without(a.state.hasDraftsAndShowColor,e),draftsFadeToWhite:c.union(a.state.draftsFadeToWhite,[e])});a.timers.setTimeout((function(){a.setState({
draftsFadeToWhite:c.without(a.state.draftsFadeToWhite,e)})}),parseInt(y.default.time_drafts_yellow_box_fade,10));if(a.state.draftThreadFirstRender&&a.state.draftThreadFirstRender[e]){
var t=a.state.draftThreadFirstRender;t[e]=!1;a.setState({draftThreadFirstRender:t})}}};a.toggleShouldShowAllResolvedComments=function(){
var e=!a.state.shouldShowAllResolvedComments,t=e?a.state.displayedResolvedThreadIds:{};a.isVersionHistoryAccessible()&&a.setState({shouldShowAllResolvedComments:e,displayedResolvedThreadIds:t})}
;a.handleRequestAnnotation=function(e,t){a.props.onRequestAnnotation(t)};a.handleCancelAnnotation=function(e){a.props.onCancelAnnotation()};a.handleDetachAnnotation=function(e){
a.props.onDetachAnnotation(e)};a.handlePostAnnotation=function(e,t){a.props.onPostAnnotation(e,t)};a.onThreadToggleExpand=function(){a.timers.setTimeout((function(){return a.layoutThreads()}),350)}
;a.shouldRenderThread=function(e){
var t=a.props.editor,n=a.getThreadIdsForItem(),o=e.id in n,i=e.isComposing&&e.secureAuthorId!=l.default.secureUserId,r=e&&t&&t.comments&&t.comments.getComments(e.id).some((function(e){
return!e||!e.isDeleted}));return!!e&&o&&!i&&!a.isHiddenResolvedThread(e)&&(r||e.isComposing)};a.state={threads:[],unreadThreadIds:[],fadingThreadIds:[],displayedResolvedThreadIds:{},
highlightThreadId:null,highlightNode:null,isHighlighting:!1,isHighlightThreadDirty:!1,markingUnsaved:!1,canCreateComments:!1,shouldShowAllResolvedComments:!1,hasDraftsAndShowColor:null,
draftThreadFirstRender:null};return a}t.prototype.initWithAce=function(e){if(e){this.setAce(e,!0);this.setupEvents(this.mainAce.comments);this.setState({
threads:this.mainAce.hasFeature("comments")?this.mainAce.comments.getAllThreads(!1):[],unreadThreadIds:this.mainAce.hasFeature("comments")?this.mainAce.comments.getInDocUnreadThreadIds():[],
canCreateComments:this.canCreateComments()});if(d.isOnButDoNotLog("paper_draft_comments")&&this.mainAce.padController){
var t=this.props.stores.draftCommentsStore.getDraftCommentStoreKey(l.default.secureUserId,this.mainAce.padController.getHashedPadId())
;this.props.stores.draftCommentsStore.on("update-draft-comments",this.handleDraftCommentsStoreChange);this.props.stores.draftCommentsStore.getDecryptedComments(t)}}}
;t.prototype.componentDidMount=function(){this.initWithAce(this.props.editor)};t.prototype.componentWillReceiveProps=function(e){if(e.editor!=this.props.editor){
if(this.props.editor)throw new Error("Comments UI is already initialized, should never get here.");this.initWithAce(e.editor)}};t.prototype.componentWillUnmount=function(){this.dispose()}
;t.prototype.setAce=function(e,t){var a;this.mainAce=e;this.mainAce.comments.on("updated-thread",this.refreshThreads);this.mainAce.comments.on("new-thread",this.refreshThreads)
;var n=this.mainAce.observer;this.events.on(n,"invalidate-cache",this.onObserverInvalidateCache);this.events.on(n,"change-debounced",this.onChange)
;this.events.on(n,"editable-state-changed",this.onObserverEditableStateChanged);null===(a=document.body)||void 0===a||a.addEventListener("keydown",this.handleBodyKeydown);t||this.setState({
threads:this.mainAce.comments.getAllThreads(!1),unreadThreadIds:this.mainAce.comments.getInDocUnreadThreadIds()});this.showComments(!0)};t.prototype.canCreateComments=function(){
return l.default.isSignedIn()&&!this.props.forceLoggedOutView&&this.mainAce&&this.mainAce.contents.getIsCommentable()};t.prototype.dispose=function(){var e
;this.props.highlightedAnnotationStore.off("annotation-hover",this.handleAnnotationHover);this.props.highlightedAnnotationStore.off("annotation-click",this.handleAnnotationClick)
;null===(e=document.body)||void 0===e||e.removeEventListener("keydown",this.handleBodyKeydown);if(this.mainAce&&this.mainAce.comments){this.mainAce.comments.off("updated-thread",this.refreshThreads)
;this.mainAce.comments.off("new-thread",this.refreshThreads);this.mainAce.comments.padUnreadNotificationsStore.off("pad-unread-notifications-change",this.handlePadUnreadNotificationsChange)}
this.mainAce=null};t.prototype.setMarkingUnsaved=function(e){this.setState({markingUnsaved:e})};t.prototype.eachCommentThread=function(e){if(this.mainAce){
this.mainAce.comments.getAllThreads(!1).forEach(e)}};t.prototype.layoutThreads=function(){if(this.mainAce){var e={};if(this.state.highlightNode&&!this.isHighlightNodeStillInDom()){
var t=this.mainAce.dom.getRoot().querySelector(".ace-line .thread-"+this.state.highlightThreadId+"-first");t&&(e.highlightNode=t)}var a=[];for(var n in this.state.displayedResolvedThreadIds){
var o=this.mainAce.comments.getThread(n);(!o||o.isHardDeleted||o.isDetached)&&a.push(n)}a.length>0&&(e.displayedResolvedThreadIds=c.omit(this.state.displayedResolvedThreadIds,a))
;if(this.state.highlightThreadId){var i=this.mainAce.comments.getThread(this.state.highlightThreadId);(!i||i.isHardDeleted||i.isDetached)&&(e.highlightThreadId=null)}
c.isEmpty(e)?this.timers.setTimeout((function(){var e=document.getElementById("comments-lightbox");e&&e.classList.remove("animate")}),parseInt(y.default.time_page_transition,10)):this.setState(e)}}
;t.prototype.componentDidUpdate=function(e,t){if(this.mainAce){var a=this.isHighlightNodeStillInDom()
;this.state.isHighlighting!=t.isHighlighting&&(a?this.mainAce.getViewport().saveScrollPositionUsingBottomNode():this.mainAce.getViewport().saveScrollPositionFromNode());this.layoutThreads()
;if(this.state.isHighlighting!=t.isHighlighting&&window.innerWidth<=parseInt(y.default.editor_width_for_hide_comments,10))if(a&&this.state.highlightNode&&(this.state.isHighlighting||!this.state.isHighlighting&&!(0,
h.isFocused)(this.mainAce.dom.getRoot())))this.mainAce.getViewport().scrollNodeVerticallyIntoViewDeprecated((0,
h.closest)(this.state.highlightNode,"span"),"center",void 0,void 0,void 0,!0);else if(!a||(0,h.isFocused)(this.mainAce.dom.getRoot())){this.mainAce.getViewport().restoreScrollPosition()
;this.mainAce.getViewport().clearScrollPosition()}if(this.state.highlightThreadId!=t.highlightThreadId)if(this.state.highlightThreadId){
var n=this.getAnnotationIdsFromThread(this.state.highlightThreadId);this.props.highlightedAnnotationStore.handleAnnotationFocus(n)}else this.props.highlightedAnnotationStore.clearFocusedAnnotations()}
};t.prototype.setupEvents=function(e){e&&e.padUnreadNotificationsStore&&e.padUnreadNotificationsStore.on("pad-unread-notifications-change",this.handlePadUnreadNotificationsChange)
;this.props.highlightedAnnotationStore.on("annotation-hover",this.handleAnnotationHover);this.props.highlightedAnnotationStore.on("annotation-click",this.handleAnnotationClick)}
;t.prototype.handleHighlightedAnnotationsChange=function(e){var t=[];this.state.highlightThreadId&&(t=this.getAnnotationIdsFromThread(this.state.highlightThreadId));var a=null,n=c.difference(e,t)
;n.length&&(a=this.getThreadIdFromAnnotationId(n[0]));a!=this.state.hoveredThreadId&&this.setState({hoveredThreadId:a})};t.prototype.getThreadIdFromAnnotationId=function(e){if(!e)return null
;var t=this.getThreadIdsForItem();for(var a in t){var n=this.getAnnotationIdsFromThread(a);if(c.includes(n,e))return a}return null};t.prototype.createOnClickOutsideCallback=function(e){var t=this
;return function(a){if(e==t.state.highlightThreadId){var n=a.target;if(!((0,h.closest)(n,".ace-lightbox-item")||(0,h.closest)(n,".hp-mentioning")||(0,h.closest)(n,".hp-emoji-menu"))){
t.clearHighlightThread();var o=(0,h.closest)(a.target,".comment-thread");if(o){var i=o.getAttribute("data-thread-id");t.highlightThreadAtNode(i,void 0,void 0)}}}}}
;t.prototype.showComments=function(t){e.prototype.showComments.call(this,t);t||this.layoutThreads()};t.prototype.focusCommentEntry=function(e){var t=this.getCommentThread(e)
;if(t&&t.focusCommentEntry){t.focusCommentEntry();this.displayThreadIfResolved(e)}};t.prototype.displayThreadIfResolved=function(e){var t,a=this.mainAce.comments.getThread(e);if(a){
a.isDeleted&&!(e in this.state.displayedResolvedThreadIds)&&this.setState({displayedResolvedThreadIds:n.__assign(n.__assign({},this.state.displayedResolvedThreadIds),(t={},t[e]=!0,t))})}}
;t.prototype.getCommentThread=function(e){return this.refs["thread-"+e]};t.prototype.getHighlightThread=function(){return this.getCommentThread(this.state.highlightThreadId)}
;t.prototype.highlightThreadAtNode=function(e,t,a){var n=document.getElementById("comments-lightbox");!E.default.webkit&&n&&n.classList.add("animate");this.props.onHighlight&&this.props.onHighlight()
;this.displayThreadIfResolved(e);this.showComments(!0);this.setState({highlightThreadId:e,highlightNode:t,isHighlighting:!0},a)};t.prototype.onUnresolve=function(e){
e in this.state.displayedResolvedThreadIds&&this.setState({displayedResolvedThreadIds:c.omit(this.state.displayedResolvedThreadIds,e)})};t.prototype.clearHighlightThread=function(){
var e,t,a=document.getElementById("comments-lightbox");!E.default.webkit&&a&&a.classList.add("animate");this.state.highlightThreadId&&(t=this.mainAce.comments.getThread(this.state.highlightThreadId))
;if(t&&t.isComposing&&t.secureAuthorId==l.default.secureUserId&&!this.highlightNewThreadHasEdits()&&this.state.canCreateComments){var o=this.getHighlightThread()
;o?o.delete():this.mainAce.commentsController.deleteCommentThread(this.state.highlightThreadId)}
t&&!(this.state.highlightThreadId in this.state.displayedResolvedThreadIds)&&t.isDeleted&&!t.isHardDeleted&&this.state.isHighlightThreadDirty?this.setState({isHighlighting:!1,highlightThreadId:null,
displayedResolvedThreadIds:n.__assign(n.__assign({},this.state.displayedResolvedThreadIds),(e={},e[this.state.highlightThreadId]=!0,e))}):this.setState({isHighlighting:!1,highlightThreadId:null})
;this.mainAce.commentsController._setActiveThreadIdCSS(null)};t.prototype.highlightNewThreadHasEdits=function(){if(this.state.highlightThreadId){var e=this.getHighlightThread()
;return e&&(e.isAwaitingAnnotations()||e.hasEdits())}return!1};t.prototype.anyThreadHasNewEdits=function(){for(var e in this.refs)if(0==e.indexOf("thread-")){
var t=this.getCommentThread(e.substring(7));if(t.hasEdits()||d.isOnButDoNotLog("paper_comments_perf")&&t.isEditingComment())return!0}return!1};t.prototype.getAnnotationIdsFromThread=function(e){
var t=this.mainAce.comments.getThread(e);return t&&t.annotationIds||[]};t.prototype.hoverThread=function(e){var t=this.getAnnotationIdsFromThread(e)
;this.props.highlightedAnnotationStore.handleAnnotationHover(t);this.setState({hoveredThreadId:e});var a=document.getElementById("comments-lightbox");a&&a.classList.add("hp-hovering-comment-in-doc")}
;t.prototype.unhoverThread=function(e){if(this.state.hoveredThreadId==e){this.props.highlightedAnnotationStore.clearHoveredAnnotations();this.setState({hoveredThreadId:null})}
var t=document.getElementById("comments-lightbox");t&&t.classList.remove("hp-hovering-comment-in-doc")};t.prototype.isPadEditable=function(){
return this.mainAce&&this.mainAce.padController&&this.mainAce.padController.isPadEditable()};t.prototype.isVersionHistoryAccessible=function(){return this.isPadEditable()}
;t.prototype.isResolvedThreadMarkedForDisplay=function(e){return e in this.state.displayedResolvedThreadIds};t.prototype.isHiddenResolvedThread=function(e){
return!!e.isDeleted&&(!this.isVersionHistoryAccessible()||!this.isResolvedThreadMarkedForDisplay(e.id)&&!this.state.shouldShowAllResolvedComments)};t.prototype.isHighlightNodeStillInDom=function(){
return this.state.highlightNode&&document.body.contains(this.state.highlightNode)};t.prototype.getThreadIdsForItem=function(){
return this.props.lightboxPreview?this.props.lightboxPreview.getCommentThreadIds():{}};t.prototype.isThreadHardDeleted=function(e){var t=this;return e.isDeleted&&e.commentIds.every((function(e){
return t.mainAce.comments.getComment(e).isDeleted}))};t.prototype.currentItemHasResolvedComments=function(){var e=this.getThreadIdsForItem();for(var t in e){var a=this.mainAce.comments.getThread(t)
;if(a&&a.isDeleted&&!this.isThreadHardDeleted(a))return!0}return!1};t.prototype.getAnnotationLabelsForItem=function(){if(!this.props.lightboxPreview)return{}
;var e=this.props.lightboxPreview.getAnnotations();return(0,o.computeUserFacingAnnotations)(e||[]).annotationLabels};t.prototype.signInContUrl=function(){var e=(0,
m.parseURIOrThrow)(window.location.href),t=e.toString();if(this.props.collectionItemId){var a=(0,f.padUrlSuffix)({collectionItemId:this.props.collectionItemId})
;t=e.setQuery(a.query).setFragment(a.fragment).toString()}return encodeURIComponent(t)};t.prototype.renderThread=function(e,t){
var a,n=this,o=this.mainAce.comments,i=this.state.isHighlighting&&this.state.highlightThreadId==e.id,s=c.includes(this.state.unreadThreadIds,e.id),l=c.includes(this.state.fadingThreadIds,e.id)
;i&&(a=this.createOnClickOutsideCallback(e.id))
;var d=c.includes(this.state.draftsFadeToWhite,e.id),u=!!this.state.draftThreadFirstRender&&this.state.draftThreadFirstRender[e.id]&&c.includes(this.state.hasDraftsAndShowColor,e.id),p=null
;this.state.draftThreads&&e.id in this.state.draftThreads&&(p=this.state.draftThreads[e.id]);return v.createElement(r.CommentThread,{ref:"thread-"+e.id,key:"thread-"+e.id,
onOpenLink:this.props.onOpenLink,mainAce:this.mainAce,isUnread:s,stores:this.props.stores,onCommentThreadInteraction:this.handleCommentThreadInteraction,
onMarkCommentThreadUnread:this.handleMarkCommentThreadUnread,thread:e,isHighlight:i,redraw:this.childRedraw_,isHovered:this.state.hoveredThreadId==e.id,isPadEditable:this.isPadEditable(),
isResolved:e.isDeleted,canCreateComments:this.state.canCreateComments,markingUnsaved:this.state.markingUnsaved,app:window.App,comments:o,draftComments:p,hasDrafts:u,draftsFadeToWhite:d,
onClickDraftCommentThread:this.onClickDraftCommentThread,onUnresolve:this.onUnresolve.bind(this),onClick:function(){n.unhoverThread(null);n.highlightThreadAtNode(e.id,void 0,void 0)},onClickOutside:a,
onToggleHover:function(t){t?n.hoverThread(e.id):n.unhoverThread(e.id)},isFading:l,onToggleExpand:this.onThreadToggleExpand,canAttachAnnotations:this.props.canAttachAnnotations,annotationLabel:t,
onRequestAnnotation:this.handleRequestAnnotation,onCancelAnnotation:this.handleCancelAnnotation,onDetachAnnotation:this.handleDetachAnnotation,signInContUrl:this.signInContUrl(),
onPostAnnotation:this.handlePostAnnotation,showTangoPlaceholdersForNewComments:!1})};t.prototype.render=function(){var e=this;if(!this.mainAce)return null
;var t,a=[],n=[],o=this.getAnnotationLabelsForItem();this.eachCommentThread((function(i){if(e.shouldRenderThread(i)){var r=(i.annotationIds||[])[0],s=r?o[r]:void 0,l=e.renderThread(i,s)
;i.isComposing&&!t?t=l:i.isDeleted&&e.state.shouldShowAllResolvedComments?n.push(e.renderThread(i,s)):a.push(l)}}));a.reverse();n.reverse();if(!t){
var r=this.mainAce&&this.mainAce.padController,s=r?r.getUserInfo():l.default;t=v.createElement("div",{className:"lightbox-placeholder-comment",key:"lightbox-placeholder"
},v.createElement(i.CommentPlaceholder,{authorUserInfo:s,canCreateComments:this.state.canCreateComments,onAnnotationClick:this.onAnnotationPlaceholderClick,showButtons:!0,
canAttachAnnotations:this.props.canAttachAnnotations,onTextClick:this.onPlaceholderClick,onStickerClick:this.onStickerPlaceholderClick,isNewComment:!0}))}return v.createElement(g.TrackContext,{
trackContext:g.AppContext.Lightbox.CommentSidebar},v.createElement("div",{className:"lightbox-comments-wrapper",ref:"overflow"},v.createElement("div",{className:"comments-sidebar-body",
ref:"commentsSidebarBody"},t,a,n)))};return t=n.__decorate([u.default],t)}(s.CommentsUI);t.LightboxCommentsUI=k},1784:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.CommentPlaceholder=void 0;var n=a(1),o=a(91),i=a(3),r=a(8),s=a(2),l=a(205),d=a(10),c=a(27),u=a(0),p=a(13),m=(0,a(5).PaperIntlFactory)(),h=m._f,f=m.F,g=(0,s.defineMessages)({createComment:{
id:"dRcfq9",defaultMessage:"Create comment"},addSticker:{id:"jRXsNB",defaultMessage:"Add sticker"},addAnnotation:{id:"JtF2jC",defaultMessage:"Add annotation"},commentArea:{id:"x6Geq1",
defaultMessage:"Comment on specific area"},newComment:{id:"r2WuDp",defaultMessage:"New comment"}});t.CommentPlaceholder=function(e){var t,a,m=i("comment-highlight","comment-placeholder",{
"comment-thread":e.isNewComment,"comment-new":e.isNewComment});if(!e.canCreateComments)return null;if(e.showButtons){var v=u.createElement(f,n.__assign({},g.addSticker));t=u.createElement(d.default,{
onClick:e.onStickerClick,className:"sticker-button",tooltip:v,"aria-label":h(g.addSticker)},u.createElement(p.default,{name:"stickers"}));if(e.canAttachAnnotations){
var b=u.createElement(f,n.__assign({},g.commentArea));a=u.createElement("div",{className:"comment-annotation-button"},u.createElement(d.default,{onClick:e.onAnnotationClick,
className:"comment-annotation-button-inactive",tooltip:b,"track-title":"Start annotation","aria-label":h(g.addAnnotation)},u.createElement(p.default,{name:"annotation"})))}}
var y=i("comment-entry-wrapper",{"comment-placeholder-button":!e.showButtons}),E=i("comment-entry-box","comment-placeholder-wrapper",{"comment-new":e.isNewComment
}),k=e.authorUserInfo,_=u.createElement("div",{className:E},u.createElement("div",{className:"comment-user-avatar-wrapper"},u.createElement(o.Avatar,{className:"notranslate",src:k.userPic,
backgroundColor:(0,l.getBgcolor)(k),size:"small",hasNoOutline:!0},(0,c.nameToInitials)((0,l.getNameForInitials)(k)))),u.createElement(d.default,{onClick:e.onTextClick,
"track-title":"comment-placeholder-click",className:y,"aria-label":h(g.createComment)},u.createElement("div",{className:"comment-entry comment-entry-placeholder notranslate"
},e.placeholderText?e.placeholderText:u.createElement(f,n.__assign({},g.newComment)))),t,a,u.createElement("div",{className:"clear"}));return u.createElement(s.IntlProvider,{
locale:r.default.userLocale},u.createElement("div",{className:m},_))};t.CommentPlaceholder.displayName="CommentPlaceholder"},1794:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(6),i=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.activeAnnotationIds=[];t.hoveredAnnotationIds=[];return t}t.prototype.reset=function(){
this.activeAnnotationIds=[];this.hoveredAnnotationIds=[]};t.prototype.handleAnnotationHover=function(e){this.hoveredAnnotationIds=e;this.triggerHoverChange()}
;t.prototype.clearHoveredAnnotations=function(){this.hoveredAnnotationIds=[];this.triggerHoverChange()};t.prototype.triggerHoverChange=function(){this.trigger("annotation-hover",void 0)}
;t.prototype.handleAnnotationFocus=function(e){this.activeAnnotationIds=e;this.triggerFocusChange()};t.prototype.clearFocusedAnnotations=function(){this.activeAnnotationIds=[]
;this.triggerFocusChange()};t.prototype.triggerFocusChange=function(){this.trigger("annotation-focus",void 0)};t.prototype.getHighlightedAnnotations=function(){
return o.uniq(this.activeAnnotationIds.concat(this.hoveredAnnotationIds))};t.prototype.getActiveAnnotations=function(){return this.activeAnnotationIds};t.prototype.handleAnnotationClick=function(e){
this.trigger("annotation-click",e)};return t}(a(59).EventEmittingClass);t.default=i},1795:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(134),i=a(22),r=a(3),s=a(195),l=a(2),d=a(54),c=a(20),u=a(0),p=a(17),m=(0,a(5).PaperIntlFactory)()._f,h=(0,l.defineMessages)({caption:{id:"J1JrWv",defaultMessage:"Write a caption"}
}),f=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.captionAce=null;t.captionHandlerId=null;t.isComponentMounted=!1;t.state={captionZone:""}
;t.setStateOfCaption=function(e){var a=(e||t.props.lightboxPreview).getCaptionZone();a?t.setState({captionZone:a},(function(){var e,a
;t.captionAce&&(null===(a=null===(e=t.captionAce)||void 0===e?void 0:e.observer)||void 0===a||a.on("blur",t.onBlur))})):t.setState({captionZone:null})}
;t.onBlur=p.default.timers.debounceWithLimit((function(){var e=t.captionAce.contents.exportZatextAndPool(),a=e.zatext,n=e.pool;a.attribs[t.state.captionZone]=a.attribs[c.Position.ROOT_ZONE]
;delete a.attribs[c.Position.ROOT_ZONE];a.text[t.state.captionZone]=a.text[c.Position.ROOT_ZONE];delete a.text[c.Position.ROOT_ZONE]
;t.props.mainAce.contents.importZatextForZone(t.state.captionZone,a,n,!0)}),33,100);t.setStateOfCaptionDebounced=(0,s.debounceAndDelayUntilPageLoad)((function(){
t.isComponentMounted&&t.setStateOfCaption()}),33);t.handleAceCreated=function(e){t.captionAce=e;t.setStateOfCaption()};return t}t.prototype.componentDidMount=function(){this.isComponentMounted=!0
;this.setStateOfCaption();this.registerEmbedUpdateHandler(this.props.lightboxPreview)};t.prototype.componentWillReceiveProps=function(e){if(e.lightboxPreview!=this.props.lightboxPreview){
this.setStateOfCaption(e.lightboxPreview);this.unregisterEmbedUpdateHandler(this.props.lightboxPreview);this.registerEmbedUpdateHandler(e.lightboxPreview)}}
;t.prototype.componentWillUnmount=function(){var e,t;this.captionHandlerId&&this.props.lightboxPreview&&this.unregisterEmbedUpdateHandler(this.props.lightboxPreview)
;null===(t=null===(e=this.captionAce)||void 0===e?void 0:e.observer)||void 0===t||t.off("blur",this.onBlur);this.isComponentMounted=!1;this.captionAce=null};t.prototype.getCaptionContent=function(){
if(!this.state.captionZone)return null;var e=this.props.mainAce.getRep(this.state.captionZone);if(!e)return null;var t={text:{},attribs:{}};t.text[c.Position.ROOT_ZONE]=e.alltext
;t.attribs[c.Position.ROOT_ZONE]=i.joinAttributionLines(e.alines);var a=i.prepareZatextForWire(t,this.props.mainAce.getApool());return{zatext:a.zatext,apool:a.pool}}
;t.prototype.registerEmbedUpdateHandler=function(e){this.captionHandlerId=e.registerEventHandler(this.setStateOfCaptionDebounced)};t.prototype.unregisterEmbedUpdateHandler=function(e){
this.captionHandlerId&&e.unregisterEventHandler(this.captionHandlerId);this.captionHandlerId=null};t.prototype.render=function(){
var e=this.props,t=e.lightboxPreview,a=e.mainAce.contents.getEditableState();if(!(t||a==d.EditableState.Editable&&this.state.captionZone))return null;var n=r("lightbox-sidebar-caption",{
"lightbox-sidebar-has-header":this.props.hasHeader}),i=this.getCaptionContent();if(!i||a!==d.EditableState.Editable&&!i.zatext.text[c.Position.ROOT_ZONE].trim())return null
;var s=this.state.captionZone;return u.createElement("div",{className:"lightbox-sidebar-caption-container lightbox-clickable"},u.createElement("div",{className:n},u.createElement(o.default,{key:s,
onAceCreated:this.handleAceCreated,id:"editor-lightbox-caption",className:"ace-lightbox-caption",editableState:this.props.mainAce.contents.getEditableState(),type:"lightboxCaption",
placeholder:m(h.caption),content:i,stores:this.props.stores})))};t.displayName="LightboxCaption";return t}(u.Component);t.default=f},1796:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0
});var n=a(1),o=a(436),i=a(0),r=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.componentDidMount=function(){
var e=document.getElementById("preloaded-iframes");o.default.setParentVisibility(e)};t.prototype.render=function(){return i.createElement("div",{className:"pad-lightbox-iframe-container",
id:"preloaded-iframes"})};t.displayName="LightboxIframeContainer";return t}(i.Component);t.default=r},1797:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(6),i=a(3),r=a(0),s=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.updateStateWithNewMessage=function(e,t,a){var n=o.clone(e.messages);n[t]=a;return{messages:n}
};a.updateStateClearMessage=function(e,t){return{messages:o.omit(e.messages,t)}};a.clearMessage=function(e){a.state.messages[e]&&a.setState((function(t){return a.updateStateClearMessage(t,e)}))}
;a.clearMessageHandler=function(e){return function(){return a.clearMessage(e)}};a.state={messages:{}};return a}t.prototype.clearAllMessages=function(){this.setState({messages:{}})}
;t.prototype.showMessage=function(e,t){var a=this;this.clearMessage(e);this.setState((function(n){return a.updateStateWithNewMessage(n,e,t)}))};t.prototype.render=function(){
var e=this,t=Object.keys(this.state.messages).sort().map((function(t){var a=e.state.messages[t],n=i({"lightbox-clickable":!0,"ace-pad-lightbox-toolbar-message":!0});return r.createElement("div",{
className:n,onClick:e.clearMessageHandler(t),key:t},a)}));return r.createElement("div",{className:"ace-pad-lightbox-toolbar-container"},t)};t.displayName="LightboxMessaging";return t}(r.PureComponent)
;t.default=s},1798:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.MobileFooterMode=void 0
;var n,o=a(1),i=a(3),r=a(30),s=a(10),l=a(0),d=a(834),c=a(13),u=parseInt(r.default.time_lightbox_footer_expand,10);!function(e){e[e.DEFAULT=1]="DEFAULT";e[e.FULL_SCREEN=2]="FULL_SCREEN"
;e[e.CLOSED=3]="CLOSED"}(n=t.MobileFooterMode||(t.MobileFooterMode={}));var p=function(e){o.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.resetFooter=function(){
return t.props.onModeChange(n.DEFAULT)};t.setFooterFullsized=function(){return t.props.onModeChange(n.FULL_SCREEN)};return t}t.prototype.getClassName=function(){switch(this.props.mode){case n.DEFAULT:
return"default";case n.FULL_SCREEN:return"full-screen";case n.CLOSED:return"closed"}};t.prototype.getModeTransitionKey=function(){switch(this.props.mode){case n.DEFAULT:case n.CLOSED:return"default"
;case n.FULL_SCREEN:return"fullScreen"}};t.prototype.render=function(){var e=this.props.mode,t=i("lightbox-mobile-footer","lightbox-clickable",this.getClassName());return l.createElement(d,{
transitionName:"lightbox-mobile-footer-animation",transitionEnterTimeout:u,transitionLeaveTimeout:u},l.createElement("div",{key:this.getModeTransitionKey(),className:t,
onClick:e==n.DEFAULT?this.setFooterFullsized:this.resetFooter},e!=n.FULL_SCREEN&&l.createElement("div",{className:"opener",onClick:this.resetFooter}),e==n.FULL_SCREEN&&l.createElement("div",{
className:"floating-header"},l.createElement(s.default,{className:"btn-wrapper",onClick:this.resetFooter},l.createElement(c.default,{name:"chevron-down"}))),l.createElement("div",{className:"body"
},this.props.children),e==n.DEFAULT&&l.createElement(c.default,{name:"info"})))};t.displayName="LightboxMobileFooter";return t}(l.PureComponent);t.default=p},1799:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.withDeviceInfo=t.DeviceType=void 0;var n,o=a(1),i=a(6),r=a(11),s=a(28),l=a(0);!function(e){e.PHONE="PHONE";e.TABLET="TABLET";e.DESKTOP="DESKTOP"
}(n=t.DeviceType||(t.DeviceType={}));var d=i.memoize((function(e,t){return{isPhone:e,isTablet:t,isMobile:e||t}}));t.withDeviceInfo=function(e){var t=function(t){o.__extends(a,t);function a(){
var e=null!==t&&t.apply(this,arguments)||this;e.state={currentDevice:s.isPhone()?n.PHONE:s.isTablet()?n.TABLET:n.DESKTOP};return e}a.prototype.initWithEditor=function(e){var t=this
;this.events.on(e.observer,"device-type-changed",(function(e){t.setState({currentDevice:e})}))};a.prototype.componentDidMount=function(){this.props.editor&&this.initWithEditor(this.props.editor)}
;a.prototype.componentWillReceiveProps=function(e){if(this.props.editor!=e.editor){if(this.props.editor)throw new Error("Already initialized with different editor");this.initWithEditor(e.editor)}}
;a.prototype.render=function(){var t=this.state.currentDevice==n.PHONE,a=this.state.currentDevice==n.TABLET;return l.createElement(e,o.__assign(o.__assign({},this.props),{deviceInfo:d(t,a)}))}
;return a=o.__decorate([r.default],a)}(l.Component);return t}},1800:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(3),i=a(2),r=a(11),s=a(931),l=a(10),d=a(14),c=a(0),u=a(13),p=(0,d.MsgFactory)("pad"),m=p.F,h=(0,p.defineMessages)({learnaboutthemove:{msg:"Learn about the move",
description:"button in migration lockdown banner that will redirect to the help page"},werecurrentlymovingyourPaperdocsintoDropboxSomefeaturesmaynotworkasexpected:{
msg:"We're currently moving your Paper docs into Dropbox. Some features may not work as expected.",description:"Explains that actions are blocked due to migration"}}),f=((0,i.defineMessages)({
learnaboutthemove:{id:"kGegeL",defaultMessage:"Learn about the move"},werecurrentlymovingyourPaperdocsintoDropboxSomefeaturesmaynotworkasexpected:{id:"3UcWNh",
defaultMessage:"We're currently moving your Paper docs into Dropbox. Some features may not work as expected."}}),function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this
;t.handleMigrationLockStart=function(){t.props.updateMigrationState()};t.render=function(){if(t.props.isPadLocked){var e=c.createElement(l.default,{secondary:!0,
className:"hp-doc-migration-banner-learn-more","track-title":"Learn about the move",href:"https://help.dropbox.com/"},c.createElement(m,n.__assign({},h.learnaboutthemove)))
;return c.createElement(s.default,{className:o("hp-doc-migration-banner"),header:c.createElement(m,n.__assign({},h.werecurrentlymovingyourPaperdocsintoDropboxSomefeaturesmaynotworkasexpected)),
headerRight:e,icon:c.createElement(u.default,{name:"migration"})})}return null};return t}t.prototype.componentDidMount=function(){this.props.updateMigrationState()
;this.events.on(this.props.padController,"migration-lock-start",this.handleMigrationLockStart)};t.displayName="MigrationLockBanner";return t=n.__decorate([r.default],t)}(c.Component));t.default=f},
1802:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.open=t.MatchingFilesPopup=void 0
;var n=a(1),o=a(8),i=a(144),r=a(18),s=a(14),l=a(1803),d=a(70),c=a(0),u=a(36),p=a(24),m=a(71),h=a(4),f=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}
t.prototype.render=function(){return c.createElement(h.TrackContext,{trackContext:i.EditorContext.FileUploadModal},c.createElement(d.default,{openOnMount:!0,size:"large",
className:"matching-files-popup",onDismiss:this.props.onDismiss},c.createElement(l.MatchingFiles,n.__assign({},this.props,{onComplete:this.props.onMatchingFilesComplete}))))}
;t.displayName="MatchingFilesPopup";return t}(c.Component);t.MatchingFilesPopup=f;t.open=function(e){var t=document.querySelector("#hp-popup-container"),a=function(){p.unmountComponentAtNode(t);(0,
r.empty)(t)};a();u.reactDomRender(c.createElement(m.ToastAndUnmountErrorBoundary,null,c.createElement(s.IntlProvider,{locale:o.default.userLocale},c.createElement(f,n.__assign({},e,{
onMatchingFilesComplete:function(){e.onClose();a()},onDismiss:function(){e.deleteUploadedFilesForExactMatches();e.onClose();a()}})))),t)}},1803:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});t.MatchingFiles=void 0;var n=a(1),o=a(2),i=a(1804),r=a(933),s=a(10),l=a(198),d=a(27),c=a(258),u=a(0),p=a(4),m=(0,a(5).PaperIntlFactory)().F,h=(0,o.defineMessages)({fileyoudraggedin:{
id:"NGlKGd",defaultMessage:"File you dragged in"},useselectedfile:{id:"/mWs9A",defaultMessage:"Use selected file"},useExistingFileInDropbox:{id:"anurIB",
defaultMessage:"Use existing file in your Dropbox?"},currentPageOfNumPages:{id:"HHMux7",defaultMessage:"{currentPageNumber} of {numPages}"},existingFilesCount:{id:"91lHFw",
defaultMessage:"Existing {numFiles, plural, one {file} other {files}} in your Dropbox"},useTheFileIDraggedIn:{id:"bftZ1N",defaultMessage:"Use the file I dragged in"}}),f=function(e){n.__extends(t,e)
;function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={filesWithDupsIndex:0,duplicateFileSelected:null};t.handleDontUseButtonClick=function(){
var e=t.props.filesWithDups[t.state.filesWithDupsIndex];t.props.linkUploadedFileCallback(e.attachmentId);(0,p.trackUi)("Dropbox File Upload Use Uploaded Copy",{ext:(0,
d.parseFileExtension)(e.fileName).extension,positionInReviewFlow:t.state.filesWithDupsIndex+1,totalFilesInReviewFlow:t.props.filesWithDups.length});t.goToNextFileToMatch()}
;t.handleUseDropboxFileButtonClick=function(){var e=t.props.filesWithDups[t.state.filesWithDupsIndex];if(t.state.duplicateFileSelected||1===e.duplicates.length){
var a=1==e.duplicates.length?e.duplicates[0]:t.state.duplicateFileSelected;t.props.linkDropboxFileCallback(e.attachmentId,a.fileId);(0,p.trackUi)("Dropbox File Upload Use Dropbox Duplicate",{ext:(0,
d.parseFileExtension)(e.fileName).extension,positionInReviewFlow:t.state.filesWithDupsIndex+1,totalFilesInReviewFlow:t.props.filesWithDups.length});t.goToNextFileToMatch()}else{(0,
p.trackUi)("Dropbox File Upload Use Uploaded Copy",{ext:(0,d.parseFileExtension)(e.fileName).extension,positionInReviewFlow:t.state.filesWithDupsIndex+1,
totalFilesInReviewFlow:t.props.filesWithDups.length});t.goToNextFileToMatch()}};return t}t.prototype.renderNewlyAddedFile=function(){
var e=this.props.filesWithDups[this.state.filesWithDupsIndex],t=u.createElement(m,n.__assign({},h.fileyoudraggedin)),a=l.default.getImageUrlForDisplay(e.newFileSharedLink,null),o=(0,
d.parseFileExtension)(e.fileName),i=o.filenameWithoutExtension,s={fileExtension:o.extension,filePreviewUrl:a};return u.createElement("div",{className:"newly-added-file-wrapper"
},u.createElement("div",{className:"matching-files-section-title"},t),u.createElement(r.FilePreview,n.__assign({},s,{imgClassName:"matching-files-uploaded-file-preview",
previewContainerClassName:"uploaded-file-preview-container"})),u.createElement("div",{className:"matching-files-filename new-file-filename notranslate"},i))}
;t.prototype.renderDuplicateFiles=function(){var e=this,t=[],a=this.props.filesWithDups[this.state.filesWithDupsIndex];a.duplicates.forEach((function(o,r){var s={file:o
},l="duplicate_file_"+r.toString(),d="radio_button_"+a.fileName+r.toString(),p=1==a.duplicates.length,m=!!e.state.duplicateFileSelected&&e.state.duplicateFileSelected.fileId==o.fileId,h=p||m,f=u.createElement("div",{
className:"duplicate-file-with-radio-button",key:l},u.createElement("div",{className:"duplicate-file-radio-button"},u.createElement(c.RadioButton,{onChange:function(){
return e.handleDuplicateFileSelectChange(o)},key:d,checked:h})),u.createElement(i.DuplicateFile,n.__assign({},s)));t.push(f)}));return t};t.prototype.handleDuplicateFileSelectChange=function(e){
this.setState({duplicateFileSelected:e})};t.prototype.render=function(){var e=this;if(this.state.filesWithDupsIndex>=this.props.filesWithDups.length)return null
;var t=this.props.filesWithDups[this.state.filesWithDupsIndex],a=u.createElement(m,n.__assign({},h.useExistingFileInDropbox)),o=u.createElement(m,n.__assign({},h.currentPageOfNumPages,{values:{
currentPageNumber:this.state.filesWithDupsIndex+1,numPages:this.props.filesWithDups.length}})),i=u.createElement(m,n.__assign({},h.existingFilesCount,{values:{numFiles:t.duplicates.length}
})),r=this.renderDuplicateFiles(),l=this.renderNewlyAddedFile(),d=u.createElement(s.default,{onClick:this.handleDontUseButtonClick,className:"dont-use-button"
},u.createElement(m,n.__assign({},h.useTheFileIDraggedIn))),c=u.createElement(s.default,{onClick:function(){return e.handleUseDropboxFileButtonClick()},className:"dmc-button-primary"
},u.createElement(m,n.__assign({},h.useselectedfile)));return u.createElement("div",{className:"matching-files"},u.createElement("div",{className:"matching-files-header"},u.createElement("div",{
className:"matching-files-title"},a),u.createElement("div",{className:"matching-files-page-number"},o)),u.createElement("div",{className:"matching-files-content"},u.createElement("div",{
className:"newly-added-file"},l),u.createElement("div",{className:"duplicate-files"},u.createElement("div",{className:"matching-files-section-title duplicate-files-title"},i),u.createElement("div",{
className:"duplicate-files-list"},r))),u.createElement("div",{className:"matching-files-buttons"},u.createElement("div",{className:"dont-use-button-container"},d),u.createElement("div",{
className:"use-button"},c)))};t.prototype.goToNextFileToMatch=function(){this.state.filesWithDupsIndex==this.props.filesWithDups.length-1&&this.props.onComplete();this.setState({
filesWithDupsIndex:this.state.filesWithDupsIndex+1,duplicateFileSelected:null})};t.displayName="MatchingFiles";return t}(u.Component);t.MatchingFiles=f},1804:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.DuplicateFile=void 0;var n=a(1),o=a(933),i=a(14),r=a(1805),s=a(0),l=(0,i.MsgFactory)("ui"),d=l.F,c=(0,l.defineMessages)({infilePath:{
msg:"In {filePath}",description:"Text on a popup html showing the location of a duplicate file in user's dropbox."}}),u=function(e){n.__extends(t,e);function t(){
return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){var e=(0,r.parseFilePath)(this.props.file.fqPath),t=e.fileNameWithoutExtension,a=s.createElement(d,n.__assign({values:{
filePath:e.filePathWithoutFileName}},c.infilePath)),i={previewContainerClassName:"duplicate-file-preview-container__file-preview",fileExtension:e.extension,filePreviewUrl:this.props.file.thumbnailUrl}
;return s.createElement("div",{className:"duplicate-file"},s.createElement("div",{className:"duplicate-file-preview-container"},s.createElement(o.FilePreview,n.__assign({},i,{
imgClassName:"duplicate-file-preview"}))),s.createElement("div",{className:"duplicate-file-info"},s.createElement("div",{className:"matching-files-filename notranslate"},t),s.createElement("div",{
className:"duplicate-file-path notranslate"},a)))};t.displayName="DuplicateFile";return t}(s.Component);t.DuplicateFile=u},1805:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.parseFilePath=void 0;var n=a(27);t.parseFilePath=function(e){var t=e.lastIndexOf("/"),a=e.substring(t+1,e.length),o=(t>0?"":"/")+e.substring(0,t),i=(0,n.parseFileExtension)(a);return{
filePathWithoutFileName:o,fileNameWithoutExtension:i.filenameWithoutExtension,extension:i.extension}}},1872:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.QuickEmbedsPopup=void 0
;var n=a(1),o=a(21),i=a(281),r=a(2),s=a(209),l=a(4),d=a(11),c=a(12),u=a(963),p=a(6),m=a(7),h=a(108),f=a(783),g=a(1873),v=a(0),b=a(5),y=a(1883),E=(0,b.PaperIntlFactory)(),k=E._f,_=E.F,C=(0,
r.defineMessages)({deselect:{id:"sqhiZD",defaultMessage:"Deselect"},deselectAll:{id:"XOv6Ve",defaultMessage:"Deselect all"},countSelected:{id:"gzrpO1",defaultMessage:"{countSelected} selected"},
cancel:{id:"d9/SE1",defaultMessage:"Cancel"},addToDoc:{id:"J0wre/",defaultMessage:"Add to doc"},addMedia:{id:"fZUsf6",defaultMessage:"Add media"}}),S=function(e){n.__extends(t,e);function t(t){
var a=e.call(this,t)||this;a.openPanel=function(){a.popupRef.openPanel();a.popupRef.focus()};a.onSourceChange=function(e){};a.onItemSelected=function(e){a.setState((function(t,a){var n=t.selectedItems
;n[e.id]=e;return{selectedItems:n}}))};a.onItemUnselected=function(e){a.setState((function(t,a){var n=t.selectedItems;delete n[e.id];return{selectedItems:n}}))};a.onCancel=function(){
a.popupRef.closePanel()};a.onChoose=function(){var e=[];for(var t in a.state.selectedItems){var n=a.state.selectedItems[t];e.push({url:n.embedUrl,type:n.embedType,innerZones:{captionZone:(0,
u.injectCaptionAndGetZone)(a.props.editor,n)}})}l.IntentionEvent.AddContentToCanvas.track({num_content_selected:e.length,context:l.EditorContext.QuickAddEmbeds});e.forEach((function(e){
f.markUrlAsAddedByQuickAdd(e.url)}));a.props.editor.media.insertMedia(e,void 0,m.MediaInsertionMode.CreateNewGallery);a.acknowledgeUnsplash();a.popupRef.closePanel()}
;a.clearItemsForSource=function(e){a.setState((function(t,a){return{selectedItems:p.pickBy(t.selectedItems,(function(t){return t.sourceName!==e.serviceName}))}}))};a.handleDeselect=function(){
a.setState({selectedItems:{}})};a.acknowledgeUnsplash=function(){var e=[];for(var t in a.state.selectedItems)"unsplash"===a.state.selectedItems[t].sourceName&&e.push(t);e.length>0&&c.get({
url:"/integrations/embed/ack-unsplash",data:{ids:JSON.stringify(e)},analyticsTag:"quick-add-embed",shardingKey:c.getStatelessShardingKey()})};a.state={selectedItems:{}};return a}
t.prototype.componentDidMount=function(){this.events.on(this.props.editor.observer,"open-quick-embeds",this.openPanel)};t.prototype.render=function(){
var e=this,t=Object.keys(this.state.selectedItems).length,a=null;if(t>0){var r=1==t?C.deselect:C.deselectAll;a=v.createElement(o.default,{className:"fetch-qe-deselect-button",variant:"transparent",
size:"small",hasNoUnderline:!0,onClick:this.handleDeselect},v.createElement(_,n.__assign({},r)))}return v.createElement(l.TrackContext,{trackContext:l.EditorContext.QuickAddEmbeds
},v.createElement(s.DigModalWrapper,{panelId:"quickembeds",width:"large",ref:function(t){return e.popupRef=t},"aria-label":k(C.addMedia)},v.createElement(h.Modal.Body,{className:y.default.body
},v.createElement(g.default,n.__assign({},this.props,{onItemSelected:this.onItemSelected,onItemUnselected:this.onItemUnselected,onSourceChange:this.onSourceChange,
clearItemsForSource:this.clearItemsForSource,selectedItems:this.state.selectedItems}))),v.createElement(h.Modal.Footer,{className:y.default.footer},t?v.createElement("div",{
className:"fetch-qe-selection-wrapper"},v.createElement("span",{className:"fetch-qe-selected-label"},v.createElement(_,n.__assign({},C.countSelected,{values:{countSelected:t}
}))),a):null,v.createElement("div",{className:"dmc-button-pair"},v.createElement(i.ButtonGroup,null,(function(a){var i=a.getButtonProps
;return v.createElement(v.Fragment,null,v.createElement(o.default,n.__assign({size:"standard",onClick:e.onCancel},i({variant:"outline"
})),v.createElement(_,n.__assign({},C.cancel))),v.createElement(o.default,n.__assign({size:"standard",onClick:e.onChoose,disabled:!t},i({variant:"primary"
})),v.createElement(_,n.__assign({},C.addToDoc))))}))))))};t.displayName="QuickEmbedsPopup";return t=n.__decorate([d.default],t)}(v.Component);t.QuickEmbedsPopup=S},1873:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(18),i=a(1874),r=a(3),s=a(2),l=a(4),d=a(12),c=a(324),u=a(10),p=a(1875),m=a(1876),h=a(6),f=a(0),g=a(1877),v=a(1878),b=a(1879),y=a(52),E=a(13),k=a(150),_=a(1882),C=(0,
a(5).PaperIntlFactory)(),S=C.F,w=C._f,I=(0,s.defineMessages)({clearButton:{id:"ZzAND+",defaultMessage:"Clear search"},recents:{id:"GDxIRA",defaultMessage:"Recents"},search:{id:"T4J5r+",
defaultMessage:"Search for content in {displayName}"}}),x=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.DEFAULT_PAGE_SIZE=30;a.searchAndUpdate=function(e,t,n,i){
var r=Date.now();d.get({url:"/integrations/embed/quick-add",data:{query:e,service:n.serviceName,page:t,numResults:a.DEFAULT_PAGE_SIZE},analyticsTag:"quick-add-embed",
shardingKey:d.getStatelessShardingKey(),successHandler:function(s){s.searchResult.length?l.IntentionEvent.EmbedSearch.track({source:n.serviceName,latency:Date.now()-r,
search_result_length:s.searchResult.length,context:l.EditorContext.QuickAddEmbeds}):l.IntentionEvent.NoResultsFound.track({source:n.serviceName,latency:Date.now()-r,
context:l.EditorContext.QuickAddEmbeds});e===a.state.query&&t===a.state.nextPage&&n===a.state.source&&a.setState((function(e){var t=s.searchResult,a=s.nextPage;if(i){t=e.result.concat(t)
;t=h.uniqBy(t,"id")}return{authorized:!0,hasMore:!!a,isLoading:!1,nextPage:a,result:t}}),(function(){if(!i){var e=document.querySelector(".fetch-qe-media-wrapper");(0,o.animateElementScroll)({
element:e,direction:{scrollTop:0},duration:600})}}))},errorHandler:function(o,i,r){401===r&&l.IntentionEvent.UnauthenticatedSource.track({source:n.serviceName,context:l.EditorContext.QuickAddEmbeds})
;if(e===a.state.query&&t===a.state.nextPage&&n===a.state.source){a.setState({authorized:401!==r,hasMore:!1,isLoading:!1,nextPage:null,result:[]});return!0}}})}
;a.debouncedSearchAndUpdate=h.debounce(a.searchAndUpdate,500);a.loadMore=function(e){var t=a.state,n=t.query,o=t.source;a.debouncedSearchAndUpdate(n,e,o,!0)};a.addLink=function(e){var t=a.state.source
;if(t.behaviour===c.SourceBehaviour.LINK){var n=(0,c.generateSingleItem)(e,t);l.IntentionEvent.PasteEmbedLinkInSearchInput.track({is_valid_link:!!n,source:t,context:l.EditorContext.QuickAddEmbeds})
;if(n){a.props.onItemSelected(n);a.setState((function(e){var t=e.result;t.unshift(n);return{result:h.uniqBy(t,"id")}}))}}};a.handlePaste=function(e){a.addLink(e.clipboardData.getData("Text"))}
;a.handleKeyPress=function(e){"Enter"===e.key&&a.addLink(e.target.value)};a.handleSourceChange=function(e){if(e!==a.state.source){l.IntentionEvent.SelectEmbedSource.track({source:e,
context:l.EditorContext.QuickAddEmbeds});var t="";a.currentSourceIsSearchable()&&e.behaviour===c.SourceBehaviour.SEARCHABLE&&(t=a.state.query);e.behaviour===c.SourceBehaviour.SEARCHABLE&&a.setState({
authorized:!0,isLoading:!0,source:e,nextPage:null,query:t},(function(){a.inputRef.focus();a.debouncedSearchAndUpdate(a.state.query,a.state.nextPage,a.state.source,!1)}))
;if(e.behaviour===c.SourceBehaviour.LINK){var n=h.filter(a.props.selectedItems,(function(t){return-1!==e.slugs.indexOf(t.embedType)}));a.setState({isLoading:!1,source:e,authorized:!0,result:n,
nextPage:null,query:t},(function(){a.inputRef&&a.inputRef.focus()}))}}};a.handleSearchChange=function(e){var t=a.state.source.behaviour===c.SourceBehaviour.SEARCHABLE;a.setState({isLoading:t,query:e,
nextPage:null},(function(){a.inputRef.focus();if(a.currentSourceIsSearchable()){var e=a.state,t=e.query,n=e.nextPage,o=e.source;a.debouncedSearchAndUpdate(t,n,o,!1)
}else a.currentSourceIsLink()&&a.setState({result:[]},(function(){a.props.clearItemsForSource(a.state.source)}))}))};a.handleApplicationConnect=function(){a.setState({isLoading:!0,nextPage:null
},(function(){a.debouncedSearchAndUpdate(a.state.query,a.state.nextPage,a.state.source,!1)}))};a.state={authorized:!0,hasMore:!0,isLoading:!1,nextPage:null,query:"",result:[],source:(0,
c.getSourceByServiceName)(c.ServiceName.UNSPLASH)};return a}t.prototype.componentDidMount=function(){var e=this,t=this.state,a=t.query,n=t.source
;n.behaviour===c.SourceBehaviour.SEARCHABLE&&this.setState({isLoading:!0},(function(){e.debouncedSearchAndUpdate(a,null,n,!1)}))};t.prototype.currentSourceIsLink=function(){
return this.state.source.behaviour==c.SourceBehaviour.LINK};t.prototype.currentSourceIsSearchable=function(){return this.state.source.behaviour==c.SourceBehaviour.SEARCHABLE}
;t.prototype.render=function(){var e=this,t=this.state,a=t.source,o=t.query,s=null;if(this.state.authorized){var l=null;a.serviceName===c.ServiceName.GDRIVE&&(l=f.createElement("div",{
className:"fetch-qe-source-context",role:"tablist"},f.createElement(k.default,{value:"recents",isDefault:!0,selected:"recents"},f.createElement(S,n.__assign({},I.recents)))));var d={
className:"fetch-qe-input",placeholder:w(a.placeholder),onChange:function(t){e.handleSearchChange(t.target.value)}};a.behaviour===c.SourceBehaviour.LINK&&(d=n.__assign(n.__assign({},d),{
onKeyPress:this.handleKeyPress,onPaste:this.handlePaste}));var h=w(I.clearButton),C=w(I.search,{displayName:a.displayName}),x=r("fetch-qe-clear-button",{hidden:!o
}),T=a.serviceName==c.ServiceName.YOUTUBE?f.createElement(_.YoutubeNotice,null):null;s=f.createElement(f.Fragment,null,f.createElement("div",{className:"fetch-qe-search-input-wrapper"
},f.createElement("div",{className:"fetch-qe-search-input-wrapper-inner"},f.createElement(p.default,{source:a}),f.createElement("input",n.__assign({type:"text"},d,{autoFocus:!0,ref:function(t){
e.inputRef=t},value:o,"aria-label":C})),a.poweredByImage?f.createElement("img",{className:"fetch-qe-powered-by",src:(0,y.default)("/static/img/composer/integrations/".concat(a.poweredByImage,".png"))
}):null,f.createElement(u.default,{"aria-label":h,className:x,onClick:function(){e.handleSearchChange("")},disabled:!o},f.createElement(E.default,{name:"close"
})))),l,T,this.state.isLoading?f.createElement(m.default,{source:a,animated:!0}):0===this.state.result.length?(0,g.default)(a,(function(t){e.setState({query:t},(function(){e.addLink(t)}))
})):f.createElement(b.default,{hasMore:this.state.hasMore,nextPage:this.state.nextPage,loadMore:this.loadMore,onItemSelected:this.props.onItemSelected,onItemUnselected:this.props.onItemUnselected,
result:this.state.result,selectedItems:this.props.selectedItems,source:this.state.source}))}else s=f.createElement(i.default,{source:a,onApplicationConnect:this.handleApplicationConnect})
;return f.createElement("div",{className:"fetch-qe-body"},f.createElement("div",{className:"fetch-qe-sources"},f.createElement(v.default,{onSourceChange:this.handleSourceChange,selectedSource:a,
editorType:this.props.editor.editorType})),f.createElement("div",{className:"fetch-qe-preview"},s))};t.displayName="QuickEmbeds";return t}(f.Component);t.default=x},1874:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(391),i=a(21),r=a(2),s=a(4),l=a(0),d=a(324),c=a(52),u=(0,a(5).PaperIntlFactory)(),p=u._f,m=u.F,h=(0,r.defineMessages)({googleSignin:{
id:"SOF347",defaultMessage:"Sign in with Google"},gdriveDescription:{id:"TSmZlo",defaultMessage:"Connect to Google to see your Google Drive files"},youtubeDescription:{id:"TrCzJS",
defaultMessage:"Connect to Google to search in YouTube"},defaultDescription:{id:"ncW5Mq",defaultMessage:"Looks like something went wrong, please try again later."}}),f=function(e){n.__extends(t,e)
;function t(t){var a=e.call(this,t)||this;a.handleClick=function(){var e=a.props.source.serviceName;s.IntentionEvent.AuthenticateSource.track({source:e,context:s.EditorContext.QuickAddEmbeds})
;var t=null;e===d.ServiceName.GDRIVE?t=o.connectDrive:e===d.ServiceName.YOUTUBE&&(t=o.connectYouTube);t&&t(a.props.onApplicationConnect)};return a}t.prototype.getDescriptionMessage=function(e){
switch(e){case d.ServiceName.GDRIVE:return h.gdriveDescription;case d.ServiceName.YOUTUBE:return h.youtubeDescription;default:return h.defaultDescription}}
;t.prototype.getButtonLabelMessage=function(e){switch(e){case d.ServiceName.GDRIVE:case d.ServiceName.YOUTUBE:return h.googleSignin}};t.prototype.render=function(){
var e=this.props.source.serviceName,t=this.getDescriptionMessage(e),a=this.getButtonLabelMessage(e);return l.createElement("div",{className:"fetch-qe-connect-app"},l.createElement("img",{
className:"fetch-qe-connect-app-img",src:(0,c.default)("/static/img/composer/rebrand/empty-states/folder-invite-only@2x.png")}),t?l.createElement("div",{className:"fetch-qe-connect-app-description"
},l.createElement(m,n.__assign({},t))):null,a?l.createElement(i.default,{className:"fetch-qe-connect-app-button",variant:"primary",onClick:this.handleClick,"aria-label":p(a)
},l.createElement(m,n.__assign({},a))):null)};t.displayName="ApplicationConnect";return t}(l.Component);t.default=f},1875:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(324),o=a(0),i=a(13),r=function(e){var t=e.source;return t.behaviour===n.SourceBehaviour.SEARCHABLE?o.createElement(i.default,{name:"search"}):o.createElement("img",{
className:"fetch-qe-source-logo",src:(0,n.getUrlImageFromSource)(t),alt:""})};r.displayName="InputSearchIcon";t.default=r},1876:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.SOURCE_GRID_MAPPING=void 0;var n=a(1),o=a(2),i=a(6),r=a(0),s=a(13),l=(0,a(5).PaperIntlFactory)().F,d=(0,o.defineMessages)({loading:{id:"jybGUg",defaultMessage:"Loading"}});t.SOURCE_GRID_MAPPING={
giphy:{numberOfRows:1,numberOfCols:1,iconName:"skeletons-unsplash"},unsplash:{numberOfRows:1,numberOfCols:1,iconName:"skeletons-unsplash"},youtube:{numberOfRows:3,numberOfCols:2,
iconName:"skeletons-youtube"}};var c=function(e){var a=e.source,o=e.animated,c=a.serviceName.toLowerCase();if(!(c in t.SOURCE_GRID_MAPPING))return r.createElement("div",{
className:"fetch-qe-loading-placeholder"},r.createElement("div",{className:"fetch-qe-loading-text-wrapper"},r.createElement(l,n.__assign({},d.loading))))
;var u=t.SOURCE_GRID_MAPPING[c],p=u.iconName,m=u.numberOfRows,h=u.numberOfCols,f=i.times(m,(function(){var e=i.times(h,(function(){return r.createElement(s.default,{name:p})}))
;return r.createElement("div",{className:"fetch-qe-loading-row"},e)}));return r.createElement("div",{className:"fetch-qe-loading-placeholder fetch-qe-loading-placeholder__".concat(p)
},f,o&&r.createElement("div",{className:"fetch-qe-loading-placeholder__animated"}))};c.displayName="LoadingResultPlaceholder";t.default=c},1877:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});var n=a(1),o=a(2),i=a(324),r=a(10),s=a(525),l=a(0),d=a(13),c=(0,a(5).PaperIntlFactory)().F,u=(0,o.defineMessages)({searchNoResultHeader:{id:"l0GLRR",defaultMessage:"No results found"},
searchNoResultDescription:{id:"ytFHAM",defaultMessage:"Try different keywords for your search"},visit:{id:"yYFka/",defaultMessage:"visit {url}"},seeExample:{id:"e2c6Q8",defaultMessage:"See example"}})
;var p=function(e){var t=e.source,a=e.addLink,o=t.exampleEmbed,p=o.exampleUrl,m=o.websiteUrl,h=o.websiteHost,f=l.createElement("a",{href:m,className:"notranslate",target:"_blank",rel:"noreferrer"},h)
;return l.createElement("div",{className:"fetch-qe-empty-state-link"},l.createElement("div",{className:"fetch-qe-empty-state"},l.createElement("div",{className:"fetch-qe-empty-state__source-logo"
},function(e){var t="logo-".concat((0,i.getSourceId)(e));return t in s.default?l.createElement(d.default,{name:t}):l.createElement("img",{src:(0,i.getUrlImageFromSource)(e)})
}(t)),l.createElement("div",{className:"fetch-qe-empty-state__link"},l.createElement(c,n.__assign({},u.visit,{values:{url:f}}))),l.createElement(r.default,{secondary:!0,onClick:function(){a(p)}
},l.createElement(c,n.__assign({},u.seeExample)))))},m=function(){return l.createElement("div",{className:"fetch-qe-empty-state-search"},l.createElement("div",{className:"fetch-qe-empty-state"
},l.createElement("img",{className:"fetch-qe-empty-state__image",src:"/static/img/composer/rebrand/empty-states/search.png"}),l.createElement("div",{className:"fetch-qe-empty-state__header-text"
},l.createElement(c,n.__assign({},u.searchNoResultHeader))),l.createElement("div",{className:"fetch-qe-empty-state__description-text"},l.createElement(c,n.__assign({},u.searchNoResultDescription)))))}
;p.displayName="LinkSourceEmptyState";m.displayName="SearchableSourceEmptyState";t.default=function(e,t){return e.behaviour===i.SourceBehaviour.LINK?l.createElement(p,{source:e,addLink:t
}):e.behaviour===i.SourceBehaviour.SEARCHABLE?l.createElement(m,null):void 0}},1878:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(3),i=a(2),r=a(324),s=a(10),l=a(0),d=(0,a(5).PaperIntlFactory)(),c=d._f,u=d.F,p=(0,i.defineMessages)({filesApps:{id:"bObFEu",defaultMessage:"Files"},featuredApps:{id:"Bf53LP",
defaultMessage:"Featured apps"},allApps:{id:"bzNH+x",defaultMessage:"All apps"},addContentButton:{id:"/2Vp6C",defaultMessage:"Add content from {source}"}});var m=function(e){
var t=e.source,a=e.selected,n=e.onClick,i=o("fetch-qe-source",{"fetch-qe-source-selected":a});return l.createElement("li",{className:i},l.createElement(s.default,{onClick:function(e){
e.preventDefault();n(t)},role:"button","aria-label":c(p.addContentButton,{source:t.displayName}),"aria-selected":a},l.createElement("img",{className:"fetch-qe-source-logo",src:(0,
r.getUrlImageFromSource)(t),alt:""}),l.createElement("span",{className:o("fetch-qe-source-title","notranslate")},t.displayName)))},h=function(e){
var t=e.category,a=e.onSourceChange,o=e.selectedSource,i=[];r.SOURCES.forEach((function(e){e.category===t&&i.push(l.createElement(m,{key:e.serviceName,source:e,selected:e===o,onClick:a}))}))
;var s=l.useMemo((function(){return function(e){switch(e){case r.SourceCategory.FILE:return p.filesApps;case r.SourceCategory.FEATURED:return p.featuredApps;case r.SourceCategory.REGULAR:
return p.allApps}}(t)}),[t]);return l.createElement("section",null,l.createElement("h2",{className:"fetch-qe-source-heading",key:t,id:"header-".concat(s.id)
},l.createElement(u,n.__assign({},s))),l.createElement("ul",{"aria-labelledby":"header-".concat(s.id)},i))},f=function(e){var t=e.selectedSource,a=e.onSourceChange,n=null
;"spacesmeeting"!==e.editorType&&(n=l.createElement(h,{category:r.SourceCategory.FILE,onSourceChange:a,selectedSource:t}));return l.createElement(l.Fragment,null,n,l.createElement(h,{
category:r.SourceCategory.FEATURED,onSourceChange:a,selectedSource:t}),l.createElement(h,{category:r.SourceCategory.REGULAR,onSourceChange:a,selectedSource:t}))};m.displayName="SourceButton"
;f.displayName="SourcesList";h.displayName="SourcesSection";t.default=f},1879:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(1880),i=a(18),r=a(0),s=function(e){
n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.onscroll=function(){var e=document.querySelector(".fetch-qe-media-wrapper");(0,
i.getScrollTop)(e)+e.clientHeight>=e.scrollHeight&&a.loadMoreItems()};return a}t.prototype.loadMoreItems=function(){var e=this.props.source.loadMore,t=this.props,a=t.hasMore,n=t.nextPage
;e&&a&&this.props.loadMore(n)};t.prototype.componentDidMount=function(){var e=document.querySelector(".fetch-qe-media-wrapper");null==e||e.addEventListener("scroll",this.onscroll)}
;t.prototype.componentWillUnmount=function(){var e=document.querySelector(".fetch-qe-media-wrapper");null==e||e.removeEventListener("scroll",this.onscroll)};t.prototype.render=function(){
for(var e=this.props,t=e.result,a=e.selectedItems,n=e.source,i=n.displayOptions.columns,s=[],l=[],d=0;d<i;d++){s.push(0);l.push([])}for(var c=0,u=t;c<u.length;c++){
for(var p=u[c],m=0,h=1;h<i;h++)s[h]<s[m]&&(m=h);s[m]+=p.thumbnailDimensions.height||0;l[m].push(r.createElement(o.default,{key:p.id,selected:p.id in a,item:p,onItemSelected:this.props.onItemSelected,
onItemUnselected:this.props.onItemUnselected,source:n}))}var f=[];for(d=0;d<i;d++)f.push(r.createElement("div",{key:d,className:"fetch-qe-media-col"},l[d]));return r.createElement("div",{
className:"fetch-qe-media-wrapper"},f)};t.displayName="StackedColumns";return t}(r.Component);t.default=s},1880:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(3),o=a(14),i=a(0),r=a(1881),s=(0,o.MsgFactory)("embed"),l=s._f,d=(0,s.defineMessages)({ariaLabel:{msg:"Item description unavailable",
description:"Default message for images fetched from third party services like unsplash that don't include a proper description or title"}}),c=function(e){
var t,a=e.item,o=e.onItemSelected,s=e.onItemUnselected,c=e.selected,u=e.source,p=n("fetch-qe-item","fetch-qe-item-".concat(u.serviceName.toLowerCase()),{"fetch-qe-item__selected":c
}),m=i.useMemo((function(){return l(d.ariaLabel)}),[]);return i.createElement("button",{role:"button","aria-selected":c,"aria-label":null!==(t=null==a?void 0:a.title)&&void 0!==t?t:m,className:p,
onClick:function(e){e.preventDefault();c?s(a):o(a)}},(0,r.default)(a,u),i.createElement("div",{className:"fetch-qe-item-highlight"}))};c.displayName="EmbedPreviewItem";t.default=c},
1881:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(3),i=a(2),r=a(156),s=a(324),l=a(5),d=a(963),c=a(0),u=a(555),p=(0,
l.PaperIntlFactory)(),m=p.FormattedDate,h=p._f,f=(0,i.defineMessages)({notitle:{id:"yTtlnR",defaultMessage:"No title"}}),g=function(e){var t=e.item
;return c.createElement(c.Fragment,null,c.createElement("div",{className:"fetch-qe-item-thumbnail-holder"},c.createElement("img",{className:"fetch-qe-item-thumbnail",src:t.thumbnailUrl})))
},v=function(e){var t=e.item;return c.createElement(c.Fragment,null,c.createElement("div",{className:"fetch-qe-item-thumbnail-holder"},c.createElement("img",{className:"fetch-qe-item-thumbnail",
src:t.thumbnailUrl})),c.createElement("div",{className:"fetch-qe-item-details"},c.createElement("span",{className:o("notranslate","fetch-qe-item-title")},t.title),c.createElement("div",{
className:"fetch-qe-item-details-subheading"},c.createElement("span",{className:o("notranslate","fetch-qe-item-created-time")},c.createElement(m,{value:new Date(t.metadata.createdTime)
})),c.createElement("span",{className:"notranslate"}," Â· "),c.createElement("span",{className:o("notranslate","fetch-qe-item-author")},t.creator))))},b=function(e){
var t=e.item,a=r.getInfoForUrlWithoutWidgets(t.embedUrl),o=u.getReactClassForEmbed(a,null);return c.createElement(c.Fragment,null,c.createElement("div",{className:"fetch-qe-item-pocket"
},c.createElement(o,n.__assign({},a))))},y=function(e){var t=e.item,a=h(f.notitle);return c.createElement(c.Fragment,null,c.createElement("div",{className:"fetch-qe-item-thumbnail-holder"
},c.createElement("img",{className:"fetch-qe-item-thumbnail",src:t.thumbnailUrl,alt:t.title||a})),c.createElement("div",{className:"fetch-qe-item-details"},c.createElement("span",{
className:o("notranslate","fetch-qe-item-author")},t.creator)))},E=function(e){var t=e.item;return c.createElement(c.Fragment,null,c.createElement("div",{className:"fetch-qe-item-thumbnail-holder"
},c.createElement("img",{className:"fetch-qe-item-thumbnail",src:t.thumbnailUrl}),c.createElement("span",{className:o("notranslate","fetch-qe-item-duration")},(0,
d.parseYouTubeDuration)(t))),c.createElement("span",{className:o("notranslate","fetch-qe-item-title")},t.title))};g.displayName="GiphyWrapper";v.displayName="GoogleDriveWrapper"
;b.displayName="PocketWrapper";y.displayName="UnsplashWrapper";E.displayName="YouTubeWrapper";t.default=function(e,t){switch(t.serviceName){case s.ServiceName.GIPHY:return c.createElement(g,{item:e})
;case s.ServiceName.GDRIVE:return c.createElement(v,{item:e});case s.ServiceName.UNSPLASH:return c.createElement(y,{item:e});case s.ServiceName.YOUTUBE:return c.createElement(E,{item:e});default:
return c.createElement(b,{item:e})}}},1882:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.YoutubeNotice=void 0;var n=a(1),o=a(2),i=a(0),r=(0,a(5).PaperIntlFactory)().F,s=(0,
o.defineMessages)({notice:{id:"GyJ2kN",defaultMessage:"Use of this integration is subject to the YouTube {termsOfService} and Google {privacyPolicy}"},termsOfService:{id:"IbD7sX",
defaultMessage:"Terms of Service"},privacyPolicy:{id:"i39z9v",defaultMessage:"Privacy Policy"}});t.YoutubeNotice=function(){var e=i.createElement("a",{href:"https://www.youtube.com/t/terms",
target:"_blank",rel:"noreferrer"},i.createElement(r,n.__assign({},s.termsOfService))),t=i.createElement("a",{href:"http://www.google.com/policies/privacy",target:"_blank",rel:"noreferrer"
},i.createElement(r,n.__assign({},s.privacyPolicy))),a=i.createElement(r,n.__assign({},s.notice,{values:{termsOfService:e,privacyPolicy:t}}));return i.createElement("div",{
className:"fetch-qe-youtube-notice"},a)}},1883:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.footer=t.body=void 0;a(1884);t.body="_body_1d46o_1";t.footer="_footer_1d46o_6"
;t.default={body:"_body_1d46o_1",footer:"_footer_1d46o_6"}},1884:function(e,t,a){},1885:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(4),i=a(322),r=a(3),s=a(8),l=a(11),d=a(493),c=a(494),u=a(23),p=a(0),m=a(655),h=a(1886),f=a(964),g=a(323),v=a(278),b=function(e){n.__extends(t,e);function t(){
return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){var e,t=this.props,a=t.app,n=t.localPadId,l=t.padController,u=t.showSidebarButton,v=u?p.createElement(g.default,{
padController:this.props.padController,sidebarWrapper:this.props.folderSidebarWrapper,isSidebarOpen:this.props.isSidebarOpen,inSidebar:!1,isTemplate:!0}):null
;e=s.default.isSignedIn()?p.createElement(o.TrackContext,{trackContext:o.AppContext.PadHeader},p.createElement(i.default,{app:a,behavior:i.BackButtonBehavior.LastHistoryItem
}),v,p.createElement(h.default,{localPadId:n,padController:l,stores:this.context.stores,showSidebarButton:u}),p.createElement(m.default,{mainAce:this.props.mainAce}),p.createElement(f.default,{app:a,
folderData:this.props.folderData,mainAce:this.props.mainAce,padController:l,stores:this.context.stores})):p.createElement(o.TrackContext,{trackContext:o.AppContext.PadHeader
},p.createElement(d.LoggedOutLeftHeader,null),p.createElement(c.default,null));var b=r("hp-header",{"template-header":s.default.isSignedIn()&&Boolean(l)});return p.createElement("div",{
id:"main-header-container",className:b},p.createElement("header",{id:"main-header"},l&&e))};t.displayName="TemplateHeader";t.contextTypes={stores:u.object.isRequired}
;return t=n.__decorate([l.default,v.default],t)}(p.PureComponent);t.default=b},1886:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(952),o=a(0);t.default=function(e){
var t=e.localPadId,a=e.padController,i=e.stores,r=e.showSidebarButton;return o.createElement("div",{className:"template-logged-in-left-header"},o.createElement(n.default,{showSidebarButton:r,
hideFavorite:!0,hideStatusMenu:!0,localPadId:t,padController:a,stores:i}))}},1887:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(277),i=a(0),r=function(e){
n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.app,a=e.padController,n=e.folderData,r=e.stores,s=e.isOffline
;return i.createElement(o.MoreMenu,{key:"more",padController:a,folderData:n,app:t,inverse:!0,serverDBStatusStore:r.serverDBStatus,isOffline:s})};t.displayName="TemplateMoreMenu";return t
}(i.PureComponent);t.default=r},1888:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var a=e.scrollTop,n=e.offsetHeight,o=t.offsetTop,i=t.offsetHeight
;(o<a||o+i>a+n)&&(e.scrollTop=Math.max(0,Math.floor(o-n/2-i/2)))}},1889:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.tocPinButton=t.tocPinButtonContainerActive=t.tocPinButtonContainer=void 0;a(1890);t.tocPinButtonContainer="_tocPinButtonContainer_1s1ym_1"
;t.tocPinButtonContainerActive="_tocPinButtonContainerActive_1s1ym_6";t.tocPinButton="_tocPinButton_1s1ym_1";t.default={tocPinButtonContainer:"_tocPinButtonContainer_1s1ym_1",
tocPinButtonContainerActive:"_tocPinButtonContainerActive_1s1ym_6",tocPinButton:"_tocPinButton_1s1ym_1"}},1890:function(e,t,a){},1891:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(65),i=a(2),r=a(7),s=a(12),l=a(10),d=a(29),c=a(0),u=a(29),p=a(32),m=a(13),h=(0,a(5).PaperIntlFactory)().F,f=(0,i.defineMessages)({dontseesomerecentedits:{id:"1MPUtD",
defaultMessage:"Donâ€™t see some recent edits?"},somerecentchangescouldntbesavedsowemadeabackupversion:{id:"rCSxLL",defaultMessage:"Some recent changes couldnâ€™t be saved, so we made a backup version."},
reviewchanges:{id:"oPPugt",defaultMessage:"Review changes"},viewbackupversion:{id:"q//jxB",defaultMessage:"View backup version"},failed:{id:"mJMqJa",
defaultMessage:"Paper failed to apply some changes to this document that you made while offline. You can view those changes in the version history."}}),g=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.state={dismissed:!1};t.onClose=function(){t.markSeen();t.setState({dismissed:!0})};t.onClickShow=function(){t.markSeen()
;var e=t.props.padId,a=t.props.extraRevision.id,n=p.relativeExtraRevisionUrl(e,a);if(t.isSevLaconicBadger){(0,u.safeWindowOpen)(n);t.setState({dismissed:!0})}else(0,
d.locationAssign)("version_history_button_show_me_clicked",n)};t.markSeen=function(){var e=t.props.padId;s.post({url:"/extra-revisions/mark-seen",analyticsTag:"extra-revisions-mark-seen",
shardingKey:s.getShardingKeyForPad(e),hpAppLevel:!0,data:{localPadId:e}})};return t}Object.defineProperty(t.prototype,"isSevLaconicBadger",{get:function(){
return this.props.extraRevision.reason==r.ExtraRevisionCreationReason.SEVLaconicBadger},enumerable:!1,configurable:!0});t.prototype.render=function(){if(this.state.dismissed)return null
;var e=this.isSevLaconicBadger?c.createElement("div",{className:"hp-versions-extra-rev-popup-message"},c.createElement("div",{className:"hp-versions-extra-rev-popup-title"
},c.createElement(h,n.__assign({},f.dontseesomerecentedits))),c.createElement(h,n.__assign({},f.somerecentchangescouldntbesavedsowemadeabackupversion))):c.createElement("div",{
className:"hp-versions-extra-rev-popup-message"
},c.createElement(h,n.__assign({},f.failed))),t=this.isSevLaconicBadger?c.createElement(h,n.__assign({},f.viewbackupversion)):c.createElement(h,n.__assign({},f.reviewchanges))
;return c.createElement(o.default,{overlay:!this.isSevLaconicBadger,target:this.props.target,attachment:"top center"},c.createElement("div",{className:"hp-versions-extra-rev-popup-x"
},c.createElement(l.default,{onClick:this.onClose},c.createElement(m.default,{name:"close"}))),e,c.createElement(l.default,{onClick:this.onClickShow,primary:!0},t))}
;t.displayName="ExtraRevisionCallout";return t}(c.Component);t.default=g},1892:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(11),i=a(931),r=a(0),s=function(e){
n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={docUsesWebSockets:!1};t.handleWebSocketStateChange=function(){var e,a,n;t.setState({
docUsesWebSockets:null!==(n=null===(a=null===(e=t.props.padController)||void 0===e?void 0:e.collabClient)||void 0===a?void 0:a.useWebSocket)&&void 0!==n&&n})};t.render=function(){
return t.state.docUsesWebSockets?r.createElement(i.default,{header:r.createElement("span",{className:"notranslate"
},"This doc uses experimental WebSockets instead of Comet. Please contact brummel@ or #paper-eng-infra if you're experiencing connectivity issues.")}):null};return t}
t.prototype.componentDidMount=function(){this.handleWebSocketStateChange();this.events.on(this.props.padController,"collab-channel-state-change",this.handleWebSocketStateChange)}
;t.displayName="WebSocketBanner";return t=n.__decorate([o.default],t)}(r.Component);t.default=s},210:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.WalkthroughEmbedFromDropbox=t.WalkthroughSuccessCard=t.WalkthroughCard=t.SHOW_SUCCESS_TIMEOUT=void 0
;var n=a(1),o=a(6),i=a(8),r=a(2),s=a(10),l=a(4),d=a(7),c=a(20),u=a(40),p=a(0),m=a(264),h=a(13),f=a(37),g=a(7),v=a(4),b=a(389),y=(0,a(5).PaperIntlFactory)().F,E=(0,r.defineMessages)({close:{
id:"CKjxV6",defaultMessage:"Close"},skip:{id:"/e4W2A",defaultMessage:"Skip"},waveemojiWelcometoDropboxPapername:{id:"wxF8nv",defaultMessage:"{waveEmoji} Welcome to Dropbox Paper, {name}!"},
youcanaddmoremedialinksandshareideasinyournewdoc:{id:"xXIRzi",defaultMessage:"You can add more media, links, and share ideas in your new doc."}});t.SHOW_SUCCESS_TIMEOUT=2e3
;t.WalkthroughCard=function(e){
var t=e.className,a=void 0===t?null:t,o=e.open,i=void 0===o||o,r=e.tension,l=void 0===r?80:r,d=e.children,c=void 0===d?null:d,u=e.onSkip,h=void 0===u?null:u,f=e.onClose,g=void 0===f?null:f,v=e.atRest,b=void 0!==v&&v,k=e.useCloseText,_=void 0!==k&&k
;return p.createElement(m.SpringyDiv,{className:"ob-walkthrough-wrapper",from:400,tension:l,friction:10,open:i,onClose:g,atRest:b},p.createElement("div",{className:"ob-walkthrough-stop ".concat(a)
},h?p.createElement(s.default,{className:"ob-walkthrough-skip selenium-walkthrough-skip",onClick:h
},_?p.createElement(y,n.__assign({},E.close)):p.createElement(y,n.__assign({},E.skip))):null,p.createElement("div",{className:"ob-walkthrough-content"},c)))}
;t.WalkthroughCard.displayName="WalkthroughCard";t.WalkthroughSuccessCard=function(e){
var a=e.className,o=void 0===a?null:a,i=e.close,r=void 0!==i&&i,l=e.children,d=void 0===l?null:l,c=e.onClose,u=void 0===c?null:c,m=e.closeButton,f=void 0!==m&&m
;return p.createElement(t.WalkthroughCard,{className:"ob-walkthrough-success ".concat(o),tension:120,open:!r,atRest:!r,onClose:u},f?p.createElement(s.default,{
className:"ob-walkthrough-skip selenium-walkthrough-skip",onClick:u},p.createElement(y,n.__assign({},E.close))):null,p.createElement(h.default,{name:"got-it"}),d)};var k=function(e){n.__extends(a,e)
;function a(){var t=null!==e&&e.apply(this,arguments)||this;t.handleTyping=function(){if(t.props.isCurrent&&t.props.editor){var e=t.props.editor.selection.getEnd()
;if(e.zone!==c.Position.ROOT_ZONE||0!==e.line&&0!==e.col){l.IntentionEvent.EmbedFromDropboxOnboardingTyping.track();t.complete()}}};t.handleToolbarClicked=function(){if(t.props.isCurrent){
l.IntentionEvent.EmbedFromDropboxOnboardingClickedOnToolbar.track();t.complete()}};t.handleClose=function(){l.IntentionEvent.EmbedFromDropboxOnboardingClosed.track();t.complete()};return t}
a.prototype.checkReady=function(){return!!(this.props.padController&&this.props.padController.getPadType()==d.PadType.dropboxFileEmbeddedDoc&&this.props.editor&&this.props.currentUserIsPadCreator)}
;a.prototype.shouldSkip=function(){return b.shouldGrandfatherUserIntoWalkthrough(i.default)};a.prototype.bindEvents=function(){e.prototype.bindEvents.call(this);var t=o.debounce(this.handleTyping,1e3)
;if(this.props.editor){var a=this.props.editor.observer;this.events.on(a,"keypress",t);this.events.on(v.events,"right-toolbar-action-clicked",this.handleToolbarClicked)}}
;a.prototype.componentWillReceiveProps=function(e){!this.props.isCurrent&&e.isCurrent&&l.IntentionEvent.EmbedFromDropboxOnboardingShown.track()};a.prototype.render=function(){
if(!this.props.isCurrent)return null;var e=p.createElement(y,n.__assign({values:{waveEmoji:"ðŸ‘‹",name:i.default.givenName}
},E.waveemojiWelcometoDropboxPapername)),a=p.createElement(y,n.__assign({},E.youcanaddmoremedialinksandshareideasinyournewdoc));return p.createElement(t.WalkthroughCard,{
className:this.props.className,useCloseText:!0,onSkip:this.handleClose},p.createElement("h1",null,e),p.createElement("p",null,a))};a.displayName="WalkthroughEmbedFromDropbox";a.defaultProps={
name:g.TourStopNames.WalkthroughEmbedFromDropbox,rateLimitingBucket:f.RateLimitingBucket.NotRateLimited};return a=n.__decorate([u.default],a)}(f.default);t.WalkthroughEmbedFromDropbox=k},
249:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.getMostRecentlyLaunchedFeatureId=t.WhatsNewFeatureItems=t.shouldRenderWhatsNew=void 0
;var n=a(1),o=a(2),i=a(0),r=a(5),s=a(31),l=(0,r.PaperIntlFactory)().F,d=(0,o.defineMessages)({paperHome:{id:"k7PbbU",defaultMessage:"Paper Home"},paperHomeTitle1:{id:"e/rpBj",
defaultMessage:"{emoji} Re-introducing a Home for everything Paper."},paperHomeTitle2:{id:"qyVMlS",defaultMessage:"{emoji} Filter and search for docs."},paperHomeContent1:{id:"wDITHk",
defaultMessage:"Find your recently viewed or edited Paper docs, create new docs, or browse Paper templates from one place."},paperHomeContent2:{id:"MAvLbv",
defaultMessage:"Filter your recent docs by people, created by, and more. Search for Paper docs only, instead of all file types."},folderView:{id:"BJtaH5",defaultMessage:"Folder view"},
folderViewTitle:{id:"XPHHJF",defaultMessage:"{emoji} Improved folder browsing in doc sidebar."},folderViewContent:{id:"rDMZG1",
defaultMessage:"The folder view on the left side of your Paper doc now loads faster and has a cleaned up design. To jump to docs in other folders, open and close the folder view by clicking the open folder view icon (half-grey square) in the upper-left corner of a Paper doc."
},tableResizing:{id:"I1XUzi",defaultMessage:"Table resizing"},tableResizingTitle:{id:"ZxdwLS",defaultMessage:"{emoji} Drag the + to quickly add columns or rows."},tableResizingContent:{id:"6IOV3D",
defaultMessage:"To add multiple rows or columns, click and drag the + icon that appears in between the selectors of the rows (left) or columns (top)."},docPreviews:{id:"0Oj214",
defaultMessage:"Doc previews"},docPreviewsTitle:{id:"Kw7Z/o",defaultMessage:"{emoji} Hover doc link to preview it."},docPreviewsContent:{id:"TgZMig",
defaultMessage:"See the top part of a doc and who last edited it by hovering your cursor over the link."},bugFixes:{id:"6I0k2G",defaultMessage:"Bug fixes"},bugFixesTitle1:{id:"EIaaHl",
defaultMessage:"{emoji} Background color for single cell tables."},bugFixesTitle2:{id:"LZJKYy",defaultMessage:"{emoji} Search text contrast in dark mode."},bugFixesTitle3:{id:"vggjoG",
defaultMessage:"{emoji} Cmd-clicking folder opens in background tab."},bugFixesContent1:{id:"aw6D2n",defaultMessage:"Fixed issue where tables with only one cell were treated as headers (gray)."},
bugFixesContent2:{id:"w3Sg0u",defaultMessage:"Improved visibility in search field against dark background."},bugFixesContent3:{id:"DDNcwz",defaultMessage:"Fixed issue where tab opened in foreground."
},textEncapsulation:{id:"Flr3SW",defaultMessage:"Editor improvements"},textEncapsulationTitle1:{id:"85XdHp",defaultMessage:"{emoji} Quickly select and wrap text in symbols."},
textEncapsulationContent1:{id:"qCYgUC",defaultMessage:'Select some text and hit ", `, {curlyBrace}, [, {openCaret}, ! or ? to add the symbol on each end of the selection.'},textEncapsulationTitle2:{
id:"4e/mnn",defaultMessage:"{emoji} Jump to someoneâ€™s location in a doc."},textEncapsulationContent2:{id:"qzfEbV",
defaultMessage:"When a person is editing a doc, click their avatar in the navigation menu to scroll where they are."},docPinning:{id:"f+pt0X",defaultMessage:"Doc pinning"},docPinningTitle1:{
id:"uX8tNQ",defaultMessage:"{emoji} Pin docs to your sidebar"},docPinningContent1:{id:"7WlmhL",
defaultMessage:"Organize your docs into sections on Home. They are only visible to you and donâ€™t affect what your team sees."}})
;t.shouldRenderWhatsNew="ON"==s.default.getVariant("paper_whatsnew")||"VARIANT"==s.default.getVariant("paper_whatsnew");var c=[{featureId:"whatsnew/docPinning",date:new Date("February 13, 2023"),
header:i.createElement(l,n.__assign({},d.docPinning)),newFeatureItemInfo:[{title:i.createElement(l,n.__assign({},d.docPinningTitle1,{values:{emoji:"ðŸ“Œ"}})),
content:i.createElement(l,n.__assign({},d.docPinningContent1))}],translationIsReady:!0,experiment:"paper_doc_pinning"},{featureId:"whatsnew/textEncapsulation",date:new Date("February 1, 2023"),
header:i.createElement(l,n.__assign({},d.textEncapsulation)),newFeatureItemInfo:[{title:i.createElement(l,n.__assign({},d.textEncapsulationTitle1,{values:{emoji:"ðŸ‘"}})),
content:i.createElement(l,n.__assign({},d.textEncapsulationContent1,{values:{curlyBrace:"{",openCaret:"<"}}))},{title:i.createElement(l,n.__assign({},d.textEncapsulationTitle2,{values:{emoji:"â©"}})),
content:i.createElement(l,n.__assign({},d.textEncapsulationContent2))}],translationIsReady:!0},{featureId:"whatsnew/bugFixes",date:new Date("December 1, 2022"),
header:i.createElement(l,n.__assign({},d.bugFixes)),newFeatureItemInfo:[{title:i.createElement(l,n.__assign({},d.bugFixesTitle1,{values:{emoji:"ðŸŽ¨"}})),
content:i.createElement(l,n.__assign({},d.bugFixesContent1))},{title:i.createElement(l,n.__assign({},d.bugFixesTitle2,{values:{emoji:"ðŸ•¶"}})),
content:i.createElement(l,n.__assign({},d.bugFixesContent2))},{title:i.createElement(l,n.__assign({},d.bugFixesTitle3,{values:{emoji:"ðŸ“"}})),
content:i.createElement(l,n.__assign({},d.bugFixesContent3))}],translationIsReady:!0},{featureId:"whatsnew/paperHome",date:new Date("November 10, 2022"),
header:i.createElement(l,n.__assign({},d.paperHome)),newFeatureItemInfo:[{title:i.createElement(l,n.__assign({},d.paperHomeTitle1,{values:{emoji:"ðŸ "}})),
content:i.createElement(l,n.__assign({},d.paperHomeContent1))},{title:i.createElement(l,n.__assign({},d.paperHomeTitle2,{values:{emoji:"ðŸ”"}})),
content:i.createElement(l,n.__assign({},d.paperHomeContent2))}],translationIsReady:!0},{featureId:"whatsnew/folderView",date:new Date("November 1, 2022"),
header:i.createElement(l,n.__assign({},d.folderView)),newFeatureItemInfo:[{title:i.createElement(l,n.__assign({},d.folderViewTitle,{values:{emoji:"ðŸ“"}})),
content:i.createElement(l,n.__assign({},d.folderViewContent))}],translationIsReady:!0},{featureId:"whatsnew/tableResizing",date:new Date("November 1, 2022"),
header:i.createElement(l,n.__assign({},d.tableResizing)),newFeatureItemInfo:[{title:i.createElement(l,n.__assign({},d.tableResizingTitle,{values:{emoji:"ðŸ–"}})),
content:i.createElement(l,n.__assign({},d.tableResizingContent))}],translationIsReady:!0},{featureId:"whatsnew/docPreviews",date:new Date("September 1, 2022"),
header:i.createElement(l,n.__assign({},d.docPreviews)),newFeatureItemInfo:[{title:i.createElement(l,n.__assign({},d.docPreviewsTitle,{values:{emoji:"ðŸªŸ"}})),
content:i.createElement(l,n.__assign({},d.docPreviewsContent))}],translationIsReady:!0}];t.WhatsNewFeatureItems=c.filter((function(e){return e.translationIsReady})).filter((function(e){
return!e.experiment||s.default.isOnButDoNotLog(e.experiment)}));t.getMostRecentlyLaunchedFeatureId=function(){return t.WhatsNewFeatureItems.reduce((function(e,t){return e.date>t.date?e:t})).featureId}
},276:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FindAndReplaceMenu=void 0
;var n=a(1),o=a(6),i=a(317),r=a(8),s=a(2),l=a(1738),d=a(11),c=a(1739),u=a(10),p=a(68),m=a(69),h=a(14),f=a(75),g=a(0),v=a(4),b=a(119),y=(0,
h.MsgFactory)("find-and-replace"),E=y.defineMessages,k=y.F,_=y.IntlMessageFormat,C=E({findAndReplace:{msg:"Find and Replace"},findandReplace:{msg:"Find and Replace"}}),S=((0,s.defineMessages)({
findAndReplace:{id:"8HlTdI",defaultMessage:"Find and Replace"},findandReplace:{id:"8HlTdI",defaultMessage:"Find and Replace"}}),function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this
;a.onOpen_=function(){var e;if(a.mounted_){a.setState({isOpen:!0});a.findAndReplaceForm.initialize();a.forceUpdate()
;null===(e=a.props.collabClient)||void 0===e||e.addHandler(i.CollabClientType.NEW_CHANGES_BATCH,a.handleNewChangesMessage);(0,v.trigger)("find-and-replace-panel-opened")}}
;a.handleNewChangesMessage=o.throttle((function(){a.state.isOpen&&a.findAndReplaceForm.onDocContentChange(!0)}),2e3);a.onShow_=function(){if(a.props.editor){a.props.editor.focus()
;if(a.props.editor.hasSelection()){var e=a.props.editor.copycut.getPlainText(null);e&&a.findAndReplaceForm.setSearchTerm(e)}else a.findAndReplaceForm.restoreLastSearchTerm()
;a.findAndReplaceForm.focusSearchInput();a.findAndReplaceForm.onSearchChange()}};a.onBeforeClose=function(){if(a.props.editor){a.findAndReplaceForm.reset();a.props.editor.focus()}}
;a.onClose_=function(){if(a.mounted_){a.setState({isOpen:!1});(0,v.trigger)("find-and-replace-panel-closed")}};a.onFindPrevious=function(e){if(a.ensurePanelOpen()){a.findAndReplaceForm.prev()
;e.preventDefault()}};a.onFindNext=function(e){if(a.ensurePanelOpen()){a.findAndReplaceForm.next();e.preventDefault()}};a.onFindAndReplace=function(e){var t
;a.findAndReplacePanel&&!a.findAndReplacePanel.isOpen()?a.findAndReplacePanel.open():null===(t=a.findAndReplaceForm)||void 0===t||t.focusSearchInput();e.preventDefault()};a.state={isOpen:!1};return a}
t.prototype.render=function(){var e=this;return g.createElement(m.default,{className:"hp-find-and-replace-menu-button-wrapper",ref:function(t){return e.findAndReplacePanel=t},onOpen:this.onOpen_,
onShow:this.onShow_,onClose:this.onClose_,onBeforeClose:this.onBeforeClose,dontReposition:!0,dontSwallowSpecialKeystrokes:!0},g.createElement(u.default,{className:"hp-find-and-replace-menu-button",
hasPopup:!0,tooltip:g.createElement(k,n.__assign({},C.findandReplace)),"aria-label":new _(C.findAndReplace,r.default.userLocale).format()}),g.createElement(l.Draggable,{
draggingEnabled:this.props.replaceEnabled},g.createElement(p.default,{className:"hp-find-and-replace-menu",type:"custom"},g.createElement(c.default,{ref:function(t){return e.findAndReplaceForm=t},
editor:this.props.editor,isOpen:this.state.isOpen,replaceEnabled:this.props.replaceEnabled,searchPreset:this.props.searchPreset}))))};t.prototype.componentDidMount=function(){this.mounted_=!0
;this.bindHotKeys();this.props.searchPreset&&this.findAndReplacePanel.open()};t.prototype.bindHotKeys=function(){b.WindowKeyEvents.define(f.PadHotkeys.FindAndReplace,this.onFindAndReplace)
;b.WindowKeyEvents.define(f.PadHotkeys.FindNext,this.onFindNext);b.WindowKeyEvents.define(f.PadHotkeys.FindPrev,this.onFindPrevious)};t.prototype.ensurePanelOpen=function(){var e
;if(!(null===(e=this.findAndReplaceForm)||void 0===e?void 0:e.hasInitialized()))return!1;this.findAndReplacePanel.isOpen()||this.findAndReplacePanel.open();return!0}
;t.prototype.componentWillUnmount=function(){this.mounted_=!1;b.WindowKeyEvents.off(f.PadHotkeys.FindAndReplace,this.onFindAndReplace);b.WindowKeyEvents.off(f.PadHotkeys.FindNext,this.onFindNext)
;b.WindowKeyEvents.off(f.PadHotkeys.FindPrev,this.onFindPrevious)};t.displayName="FindAndReplaceMenu";return t=n.__decorate([d.default,v.trackContextDecorator],t)}(g.PureComponent))
;t.FindAndReplaceMenu=S},321:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.folderSidebarListExpandIcon=t.folderSidebarListIcon=t.folderSidebarListButtonTitle=t.folderSidebarListButtonUnselected=t.folderSidebarListButton=t.folderSidebarListItemLoading=t.folderSidebar=void 0
;a(1750);t.folderSidebar="_folder-sidebar_1xl2k_1";t.folderSidebarListItemLoading="_folderSidebarListItemLoading_1xl2k_7";t.folderSidebarListButton="_folderSidebarListButton_1xl2k_23"
;t.folderSidebarListButtonUnselected="_folderSidebarListButtonUnselected_1xl2k_30";t.folderSidebarListButtonTitle="_folderSidebarListButtonTitle_1xl2k_45"
;t.folderSidebarListIcon="_folderSidebarListIcon_1xl2k_59";t.folderSidebarListExpandIcon="_folderSidebarListExpandIcon_1xl2k_64";t.default={folderSidebar:"_folder-sidebar_1xl2k_1",
folderSidebarListItemLoading:"_folderSidebarListItemLoading_1xl2k_7",folderSidebarListButton:"_folderSidebarListButton_1xl2k_23",
folderSidebarListButtonUnselected:"_folderSidebarListButtonUnselected_1xl2k_30",folderSidebarListButtonTitle:"_folderSidebarListButtonTitle_1xl2k_45",
folderSidebarListIcon:"_folderSidebarListIcon_1xl2k_59",folderSidebarListExpandIcon:"_folderSidebarListExpandIcon_1xl2k_64"}},324:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.getSourceByServiceName=t.getUrlImageFromSource=t.getSourceId=t.generateSingleItem=t.SOURCES=t.ServiceName=t.SourceBehaviour=t.SourceCategory=void 0
;var n,o,i,r=a(2),s=a(156),l=a(6),d=a(14),c=a(52),u=(0,(0,d.MsgFactory)("toolbar").defineMessages)({adobexd:{msg:"Paste a link from Adobe XD to add a design or prototype"},airtable:{
msg:"Paste the embed code from Airtable to add a base or view"},figma:{msg:"Paste a Figma link to add a file"},framer:{msg:"Paste a Framer link to add a prototype"},googledrive:{
msg:"Search for files in Google Drive"},giphy:{msg:"Search for gifs in Giphy"},instagram:{msg:"Paste an Instagram link to add a photo or video"},invision:{
msg:"Paste an InVision link to add a prototype"},lucidchart:{msg:"Paste a link from Lucidchart to add a document or chart"},marvel:{msg:"Paste a Marvel link to add a prototype"},miro:{
msg:"Paste a Miro link to add a board"},pastebin:{msg:"Paste a link to add something from Pastebin"},pinterest:{msg:"Paste a Pinterest link to add a board or profile"},prezi:{
msg:"Paste a Prezi link to add a presentation"},slideshare:{msg:"Paste a SlideShare link to add a presentation"},speakerdeck:{msg:"Paste a Speaker Deck link to add a presentation"},spotify:{
msg:"Paste a Spotify link to add a song, album, or playlist"},trello:{msg:"Paste a Trello link to add a card"},unsplash:{msg:"Search for images in Unsplash"},youtube:{
msg:"Search for videos in YouTube"}});(0,r.defineMessages)({adobexd:{id:"eyd36W",defaultMessage:"Paste a link from Adobe XD to add a design or prototype"},airtable:{id:"zlah9z",
defaultMessage:"Paste the embed code from Airtable to add a base or view"},figma:{id:"7y0evY",defaultMessage:"Paste a Figma link to add a file"},framer:{id:"rNhz6c",
defaultMessage:"Paste a Framer link to add a prototype"},googledrive:{id:"qFdOcZ",defaultMessage:"Search for files in Google Drive"},giphy:{id:"Z+yVjW",defaultMessage:"Search for gifs in Giphy"},
instagram:{id:"Xjm9ym",defaultMessage:"Paste an Instagram link to add a photo or video"},invision:{id:"uk6pCz",defaultMessage:"Paste an InVision link to add a prototype"},lucidchart:{id:"AYs3mJ",
defaultMessage:"Paste a link from Lucidchart to add a document or chart"},marvel:{id:"WWTFJQ",defaultMessage:"Paste a Marvel link to add a prototype"},miro:{id:"Jr+5ew",
defaultMessage:"Paste a Miro link to add a board"},pastebin:{id:"yvkbHC",defaultMessage:"Paste a link to add something from Pastebin"},pinterest:{id:"VTVfyd",
defaultMessage:"Paste a Pinterest link to add a board or profile"},prezi:{id:"KGTmpI",defaultMessage:"Paste a Prezi link to add a presentation"},slideshare:{id:"Cdzn8n",
defaultMessage:"Paste a SlideShare link to add a presentation"},speakerdeck:{id:"1V2lqy",defaultMessage:"Paste a Speaker Deck link to add a presentation"},spotify:{id:"5BJ8/r",
defaultMessage:"Paste a Spotify link to add a song, album, or playlist"},trello:{id:"xzHFWo",defaultMessage:"Paste a Trello link to add a card"},unsplash:{id:"8PXUWm",
defaultMessage:"Search for images in Unsplash"},youtube:{id:"ZB2hUL",defaultMessage:"Search for videos in YouTube"}});!function(e){e[e.FILE=1]="FILE";e[e.FEATURED=2]="FEATURED"
;e[e.REGULAR=3]="REGULAR"}(n=t.SourceCategory||(t.SourceCategory={}));!function(e){e[e.SEARCHABLE=1]="SEARCHABLE";e[e.LINK=2]="LINK";e[e.OTHER=3]="OTHER"}(o=t.SourceBehaviour||(t.SourceBehaviour={}))
;!function(e){e.ADOBEXD="adobexd";e.AIRTABLE="airtable";e.DROPBOX="Dropbox";e.FIGMA="figma";e.FRAMER="framer";e.GDRIVE="GDrive";e.GIPHY="Giphy";e.INSTAGRAM="instagram";e.INVISION="invision"
;e.LUCIDCHART="lucidchart";e.MARVEL="marvel";e.MIRO="miro";e.PASTEBIN="pastebin";e.PINTEREST="pinterest";e.PREZI="prezi";e.SLIDESHARE="slideshare";e.SPEAKERDECK="speakerdeck";e.SPOTIFY="spotify"
;e.TRELLO="trello";e.UNSPLASH="Unsplash";e.YOUTUBE="YouTube"}(i=t.ServiceName||(t.ServiceName={}));t.SOURCES=[{displayName:"Google Drive",serviceName:i.GDRIVE,behaviour:o.SEARCHABLE,category:n.FILE,
placeholder:u.googledrive,loadMore:!0,slugs:["gdrive"],displayOptions:{columns:1}},{displayName:"Giphy",serviceName:i.GIPHY,behaviour:o.SEARCHABLE,category:n.FEATURED,placeholder:u.giphy,loadMore:!0,
slugs:["giphy"],displayOptions:{columns:3},poweredByImage:"powered_by_giphy"},{displayName:"Unsplash",serviceName:i.UNSPLASH,iconName:"unsplash-1",behaviour:o.SEARCHABLE,category:n.FEATURED,
placeholder:u.unsplash,loadMore:!0,slugs:["unsplash"],displayOptions:{columns:3}},{displayName:"YouTube",serviceName:i.YOUTUBE,behaviour:o.SEARCHABLE,category:n.FEATURED,placeholder:u.youtube,
loadMore:!0,slugs:["youtube"],displayOptions:{columns:2}},{displayName:"Adobe XD",serviceName:i.ADOBEXD,behaviour:o.LINK,category:n.REGULAR,placeholder:u.adobexd,slugs:["adobexd"],displayOptions:{
columns:1},exampleEmbed:{exampleUrl:"https://xd.adobe.com/view/1e86263a-6c7f-4d24-63d0-3bfc42c2eb95-68b7/",websiteUrl:"https://xd.adobe.com",websiteHost:"xd.adobe.com"}},{displayName:"Airtable",
serviceName:i.AIRTABLE,behaviour:o.LINK,category:n.REGULAR,placeholder:u.airtable,slugs:["airtable"],displayOptions:{columns:1},exampleEmbed:{
exampleUrl:"https://airtable.com/embed/shrp9Is7PLYNJ6lpr?backgroundColor=orange&viewControls=on",websiteUrl:"https://airtable.com",websiteHost:"airtable.com"}},{displayName:"Figma",
serviceName:i.FIGMA,behaviour:o.LINK,category:n.REGULAR,placeholder:u.figma,slugs:["figma"],displayOptions:{columns:1},exampleEmbed:{
exampleUrl:"https://www.figma.com/file/LKQ4FJ4bTnCSjedbRpk931/Sample-File",websiteUrl:"https://www.figma.com",websiteHost:"figma.com"}},{displayName:"Framer",serviceName:i.FRAMER,behaviour:o.LINK,
category:n.REGULAR,placeholder:u.framer,slugs:["framer"],displayOptions:{columns:1},exampleEmbed:{exampleUrl:"https://framer.com/share/Photos--nxpZQM5qmdU6co8ueozh/EtmYk_avt",
websiteUrl:"https://framer.com",websiteHost:"framer.com"}},{displayName:"InVision",serviceName:i.INVISION,behaviour:o.LINK,category:n.REGULAR,placeholder:u.invision,slugs:["invision"],displayOptions:{
columns:1},exampleEmbed:{exampleUrl:"https://invis.io/QZCS6QO2R",websiteUrl:"https://www.invisionapp.com",websiteHost:"invisionapp.com"}},{displayName:"Lucidchart",serviceName:i.LUCIDCHART,
behaviour:o.LINK,category:n.REGULAR,placeholder:u.lucidchart,slugs:["lucidchart"],displayOptions:{columns:1},exampleEmbed:{
exampleUrl:"https://www.lucidchart.com/documents/embeddedchart/ba6af937-a35d-4b3f-89f8-628a63661e83",websiteUrl:"https://www.lucidchart.com",websiteHost:"lucidchart.com"}},{displayName:"Marvel",
serviceName:i.MARVEL,behaviour:o.LINK,category:n.REGULAR,placeholder:u.marvel,slugs:["marvel"],displayOptions:{columns:1},exampleEmbed:{exampleUrl:"https://marvelapp.com/464fjb1",
websiteUrl:"https://marvelapp.com",websiteHost:"marvelapp.com"}},{displayName:"Miro",serviceName:i.MIRO,behaviour:o.LINK,category:n.REGULAR,placeholder:u.miro,slugs:["miro"],displayOptions:{columns:1
},exampleEmbed:{exampleUrl:"https://miro.com/app/board/o9J_lHQzrfo=/",websiteUrl:"https://miro.com",websiteHost:"miro.com"}},{displayName:"Pastebin",serviceName:i.PASTEBIN,behaviour:o.LINK,
category:n.REGULAR,placeholder:u.pastebin,slugs:["pastebin"],displayOptions:{columns:1},exampleEmbed:{exampleUrl:"http://pastebin.com/e9miixcP",websiteUrl:"http://pastebin.com",
websiteHost:"pastebin.com"}},{displayName:"Pinterest",serviceName:i.PINTEREST,behaviour:o.LINK,category:n.REGULAR,placeholder:u.pinterest,slugs:["pinterest-board","pinterest-pin","pinterest-profile"],
displayOptions:{columns:1},exampleEmbed:{exampleUrl:"https://www.pinterest.com/heathermoore15/sightseeing/",websiteUrl:"https://www.pinterest.com",websiteHost:"pinterest.com"}},{displayName:"Prezi",
serviceName:i.PREZI,behaviour:o.LINK,category:n.REGULAR,placeholder:u.prezi,slugs:["prezi"],displayOptions:{columns:1},exampleEmbed:{exampleUrl:"https://prezi.com/view/gLng8jXVz6tuTBghQsHf",
websiteUrl:"https://prezi.com",websiteHost:"prezi.com"}},{displayName:"SlideShare",serviceName:i.SLIDESHARE,behaviour:o.LINK,category:n.REGULAR,placeholder:u.slideshare,slugs:["slideshare"],
displayOptions:{columns:1},exampleEmbed:{exampleUrl:"https://www.slideshare.net/With-Company/prototyping-is-an-attitude",websiteUrl:"https://www.slideshare.net",websiteHost:"slideshare.net"}},{
displayName:"Speaker Deck",serviceName:i.SPEAKERDECK,behaviour:o.LINK,category:n.REGULAR,placeholder:u.speakerdeck,slugs:["speakerdeck"],displayOptions:{columns:1},exampleEmbed:{
exampleUrl:"https://speakerdeck.com/orderedlist/producing-creativity",websiteUrl:"https://speakerdeck.com",websiteHost:"speakerdeck.com"}},{displayName:"Spotify",serviceName:i.SPOTIFY,
behaviour:o.LINK,category:n.REGULAR,placeholder:u.spotify,slugs:["spotify"],displayOptions:{columns:1},exampleEmbed:{exampleUrl:"https://open.spotify.com/track/37e6zUmfqxePzGMZ0rYQC9",
websiteUrl:"https://spotify.com",websiteHost:"spotify.com"}},{displayName:"Trello",serviceName:i.TRELLO,behaviour:o.LINK,category:n.REGULAR,placeholder:u.trello,slugs:["trello"],displayOptions:{
columns:1},exampleEmbed:{exampleUrl:"https://trello.com/c/nqX2Cl8w/1571-feature-ideas",websiteUrl:"https://trello.com",websiteHost:"trello.com"}}];t.generateSingleItem=function(e,t){
if(t.behaviour!==o.LINK)return null;var a=s.getInfoForUrl(e,null);if(!a)return null;var n=a.embed,i=a.matches;return n&&t.slugs&&-1!==t.slugs.indexOf(n.slug)?{
id:"".concat(t.serviceName,"-").concat(e),thumbnailUrl:null,thumbnailDimensions:{height:24,width:24},embedUrl:n.srcUrlFn(i),title:"".concat(e),creator:null,embedType:n.slug,sourceName:n.slug}:null}
;function p(e){return e.displayName.replace(" ","").toLowerCase()}t.getSourceId=p;t.getUrlImageFromSource=function(e){return(0,
c.default)("/static/img/composer/integrations/".concat(e.iconName||p(e),".png"))};t.getSourceByServiceName=function(e){return l.find(t.SOURCES,["serviceName",e])}},370:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.onLinkClicked=function(e){var a
;return null===(a=t.app)||void 0===a?void 0:a.onLinkClicked(e)};return t}t.prototype.setApp=function(e){this.app=e;this.trigger("app-proxy-app-ready",void 0)};t.prototype.getApp=function(){
return this.app};t.prototype.constructUrl=function(e,t){var a;return null===(a=this.app)||void 0===a?void 0:a.constructUrl(e,t)};t.prototype.parseUrl=function(e){var t
;return null===(t=this.app)||void 0===t?void 0:t.parseUrl(e)};t.prototype.navigateToUrl=function(e,t){var a;return null===(a=this.app)||void 0===a?void 0:a.navigateToUrl(e,t)}
;t.prototype.createNewPadButton=function(e,t){var a;return null===(a=this.app)||void 0===a?void 0:a.createNewPadButton(e,t)};t.prototype.navigateToPad=function(e,t){var a
;null===(a=this.app)||void 0===a||a.navigateToPad(e,t)};t.prototype.parseCurrentUrl=function(){var e;return null===(e=this.app)||void 0===e?void 0:e.parseCurrentUrl()}
;t.prototype.isPadUrl=function(e){var t;return null===(t=this.app)||void 0===t?void 0:t.isPadUrl(e)};t.prototype.shouldLeftNavSidebarOpenByDefault=function(){var e
;return null===(e=this.app)||void 0===e?void 0:e.shouldLeftNavSidebarOpenByDefault()};t.prototype.getProductType=function(){var e;return null===(e=this.app)||void 0===e?void 0:e.getProductType()}
;return t}(a(59).EventEmittingClass);t.default=o},371:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackButtonWithOmnibar=t.TipsButtonWithOmnibar=void 0
;var n=a(1),o=a(26),i=a(8),r=a(130),s=a(848),l=a(75),d=a(1503),c=a(1506),u=a(1508),p=a(1510),m=a(10),h=a(21),f=a(119),g=a(68),v=a(69),b=a(103),y=a(170),E=a(184),k=a(169),_=a(849),C=a(71),S=a(11),w=a(66),I=a(39),x=a(4),T=a(4),P=a(17),M=a(16),F=a(15),N=a(23),D=a(0),A=a(2),L=a(101),O=a(36),R=a(1521),U=a(1524),B=a(249),H=a(5),W=a(231),j=(0,
H.PaperIntlFactory)(),q=j.F,V=j._f,z=(0,A.defineMessages)({helpButtonAria:{id:"xHrhU3",defaultMessage:"Help"},tipsandTricks:{id:"CS2jAG",defaultMessage:"Tips and Tricks"},paperguide:{id:"DJHTE3",
defaultMessage:"Paper guide"},feedback:{id:"yNdnfh",defaultMessage:"Feedback"},help:{id:"xHrhU3",defaultMessage:"Help"},language:{id:"ibhqsO",defaultMessage:"Language"},opensource:{id:"GLvQ6s",
defaultMessage:"Open source"},osslicenses:{id:"0+aggT",defaultMessage:"OSS licenses"},privacypolicy:{id:"fOrNyq",defaultMessage:"Privacy policy"},privacyAndLegal:{id:"uXDr/P",
defaultMessage:"Privacy and legal"},cookiepreferences:{id:"7jXtSs",defaultMessage:"Cookies & CCPA preferences"},helptipsandfeedback:{id:"mKANEf",defaultMessage:"Help, tips, and feedback"}})
;t.TipsButtonWithOmnibar=function(e){var t=e.runCommandById;return D.createElement(m.default,{id:"tipsbutton",onClick:function(){document.body.dispatchEvent(new Event("close-menu"));t("show_tips")}
},D.createElement(q,n.__assign({},z.tipsandTricks)))};t.FeedbackButtonWithOmnibar=function(e){var t=e.runCommandById;return D.createElement(m.default,{id:"feedbackbutton",onClick:function(){
document.body.dispatchEvent(new Event("close-menu"));t("show_feedback")}},D.createElement(q,n.__assign({},z.feedback)))};var K=function(e){n.__extends(a,e);function a(){
var a=null!==e&&e.apply(this,arguments)||this;a.assistMenuButton=D.createRef();a.assistMenuRef=D.createRef();a.state={currentTipId:null,lazyRender:!0,languageOpen:!1};a.handleMenuOpened=function(){
var e,t;T.trigger("question-mark-help-menu-opened");a.tipsSidebar&&a.tipsSidebar.ensurePrerendered()
;null===(t=null===(e=a.assistMenuRef.current)||void 0===e?void 0:e.querySelector("button"))||void 0===t||t.focus()};a.handleMenuClosed=function(){T.IntentionEvent.CloseAssistMenu.track()}
;a.getFeedbackPopupEl=function(){return D.createElement(C.ToastAndUnmountErrorBoundary,null,D.createElement(s.FeedbackPopup,{productType:a.props.productType,
getExtraFeedbackData:a.props.getExtraFeedbackData,isBinderPage:a.props.isBinderPage,localPadId:a.props.localPadId}))};a.onLanguageClicked=function(e){
document.body.dispatchEvent(new Event("close-menu"));a.setState({languageOpen:!0})};a.onLanguageClosed=function(){a.setState({languageOpen:!1})};a.onDebugClicked=function(e){
a.debugPanel?a.timers.setTimeout((function(){a.debugPanel.show()}),0):a.renderDebugPanelComponent(a.props.localPadId)};a.openMenu=function(e){var t;e.preventDefault();e.stopPropagation()
;null===(t=a.assistMenuButton.current)||void 0===t||t.open()};a.onNavigation=function(){return a.forceUpdate()};a.onPadNavigation=function(){
var e,t=null===(e=a.props.app)||void 0===e?void 0:e.getCurrentPadController();if(t&&a.debugPanel){var n=t.getPadId();a.renderDebugPanelComponent(n)}};a.renderTipsButtonWithCommand=function(e){
return D.createElement(t.TipsButtonWithOmnibar,n.__assign({},e))};a.renderFeedbackButtonWithCommand=function(e){return D.createElement(t.FeedbackButtonWithOmnibar,n.__assign({},e))}
;a.renderWhatsNewButtonWithCommand=function(e){var t;return D.createElement(U.WhatsNewMenuItemWithOmnibar,n.__assign({},e,{onboardingStore:a.context.stores.onboarding,
pageName:null===(t=a.props.app)||void 0===t?void 0:t.getCurrentPageName()}))};return a}a.prototype.handleMenuButtonClicked=function(){x.IntentionEvent.OpenAssistMenu.track()}
;a.prototype.componentDidMount=function(){
this.context.panels&&(P.default.consumeQueryParam("openTips")?this.context.panels.open("tips"):P.default.consumeQueryParam("openFeedback")&&this.context.panels.open("feedback"));this.bindEvents()}
;a.prototype.bindEvents=function(){var e,t=this;if(this.props.app){this.props.app.on("hp-after-navigate",this.onNavigation)
;null===(e=this.props.app.padLoader)||void 0===e||e.on("hp-pad-loaded",this.onPadNavigation)}this.events.on(window,"blur",(function(){t.timers.setTimeout((function(){
document.activeElement instanceof HTMLIFrameElement&&t.assistMenuButton.current&&t.assistMenuButton.current.close()}),0)}));f.WindowKeyEvents.define(l.AppHotkeys.QuestionMarkMenu,this.openMenu)}
;a.prototype.componentWillUnmount=function(){var e,t,a;null===(e=this.props.app)||void 0===e||e.off("hp-after-navigate",this.onNavigation)
;null===(a=null===(t=this.props.app)||void 0===t?void 0:t.padLoader)||void 0===a||a.off("hp-pad-loaded",this.onPadNavigation);f.WindowKeyEvents.off(l.AppHotkeys.QuestionMarkMenu,this.openMenu)}
;a.prototype.renderDebugPanelComponent=function(e){var t=this,a=D.createElement(_.default,{ref:function(e){return t.debugPanel=e},productType:this.props.productType,localPadId:e,
collabClient:this.props.collabClient}),n=document.getElementById("debug-panel");O.reactDomRender(D.createElement(C.ToastAndUnmountErrorBoundary,null,a),n)};a.prototype.renderMenu=function(){
var e,t,a,s,l,d,p=(0,w.isApollo)();if(!this.props.hideDebugButton&&(i.default.isAppAdmin||i.default.isDropboxer||i.default.canDebug)){e=D.createElement(b.HpMenuItem,null,D.createElement(m.default,{
id:"debugbutton",onClick:this.onDebugClicked},D.createElement("span",{className:"notranslate"},"Debug")));t=D.createElement(b.HpMenuItem,null,D.createElement(m.default,{id:"styleguidebutton",href:(0,
I.addPathPrefix)("/styleguide"),target:"_blank"},D.createElement("span",{className:"notranslate"},"Style guide")))}p&&(a=D.createElement(b.HpMenuItem,null,D.createElement(m.default,{
id:"pdskhelpbutton",href:"https://help.dropbox.com/files-folders/paper/paper-desktop-app"},D.createElement(q,n.__assign({},z.help)))))
;i.default.isSignedIn()&&(s=D.createElement(b.HpMenuItem,null,D.createElement(r.default,{commands:["show_feedback"],context:[]},this.renderFeedbackButtonWithCommand)))
;var f=this.props.hideLanguageButton?null:D.createElement(b.HpMenuItem,null,D.createElement(m.default,{id:"languagebutton",onClick:this.onLanguageClicked
},D.createElement(q,n.__assign({},z.language)))),_=!this.props.isBinderPage&&(0,
k.isPaperDesktopHelpMenuDownloadOptionEnabled)(),C=p?"/static/oss_desktop.pdf":"https://".concat(o.default.dropboxDomainWWW,"/open_source");if(!this.props.isBinderPage&&i.default.isSignedIn()){
l=D.createElement(b.HpMenuItem,null,D.createElement(r.default,{commands:["show_tips"],context:[]},this.renderTipsButtonWithCommand))
;d=B.shouldRenderWhatsNew?D.createElement(b.HpMenuItem,null,D.createElement(r.default,{commands:["show_whatsnew"],context:[]},this.renderWhatsNewButtonWithCommand)):null}
var S=D.createElement(m.default,{href:C,target:"_blank",rel:"noreferrer"},D.createElement(q,n.__assign({},z.opensource))),x=D.createElement(m.default,{id:"hp-app-legal-button",href:(0,
L.dropboxUrl)("/privacy"),target:"_blank",rel:"noopener"},D.createElement(q,n.__assign({},z.privacyAndLegal))),T=D.createElement(m.default,{href:"#manage-cookies",target:"_blank",onClick:function(e){
(0,W.maybeOpenCookiePrefs)(e);document.body.dispatchEvent(new Event("close-menu"))}
},D.createElement(q,n.__assign({},z.cookiepreferences))),P=V(z.helpButtonAria),N=D.createElement(q,n.__assign({},z.helptipsandfeedback)),A=(0,E.allowPaperNoir)(this.props.productType,!1)
;return D.createElement(v.default,{id:"hp-editor-exp-assist-buttons",className:"dmc-button-secondary",onClick:this.handleMenuButtonClicked,onOpen:this.handleMenuOpened,onClose:this.handleMenuClosed,
ref:this.assistMenuButton,lazyRender:this.state.lazyRender},D.createElement(h.default,{id:"hp-editor-help-button",variant:"transparent",isIcon:!0,hasPopup:!0,"aria-label":P,tooltip:{title:N,
placement:"top-end"}},D.createElement(M.UIIcon,{src:F.HelpLine,size:"large"})),D.createElement(g.default,{className:"hp-editor-assist-menu"},D.createElement("ul",{ref:this.assistMenuRef
},_?D.createElement(D.Fragment,null,D.createElement(c.default,null),D.createElement(y.HpMenuSeparator,null)):null,A?D.createElement(D.Fragment,null,D.createElement(u.default,null),D.createElement(y.HpMenuSeparator,null)):null,d,l,D.createElement(y.HpMenuSeparator,null),s,f,D.createElement(b.HpMenuItem,null,S),D.createElement(b.HpMenuItem,null,x),D.createElement(b.HpMenuItem,null,T),D.createElement(y.HpMenuSeparator,null),e,t,a)))
};a.prototype.renderTipsSidebar=function(){var e=null;!this.props.isBinderPage&&i.default.isSignedIn()&&(e=D.createElement(p.TipsSidebar,{initialTipId:this.state.currentTipId}));return e}
;a.prototype.renderFeedbackPopup=function(){var e=null;i.default.isSignedIn()&&(e=this.getFeedbackPopupEl());return e};a.prototype.render=function(){
return D.createElement(D.Fragment,null,this.renderMenu(),this.renderTipsSidebar(),this.renderFeedbackPopup(),B.shouldRenderWhatsNew&&D.createElement(R.WhatsNewSidebar,{
onboardingStore:this.context.stores.onboarding}),D.createElement(d.default,{open:this.state.languageOpen,onClose:this.onLanguageClosed}))};a.displayName="AssistHelpMenuButton";a.contextTypes={
stores:N.object,panels:N.object};return a=n.__decorate([S.default],a)}(D.PureComponent);t.default=K},373:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.hijackBackspace=t.disableBackspaceNavigation=void 0;var n=a(43);function o(){document.addEventListener("keydown",i)}t.disableBackspaceNavigation=o;function i(e){if(e.keyCode==n.KeyCode.BACKSPACE){
var t=e.target;"input"==t.tagName.toLowerCase()||"textarea"==t.tagName.toLowerCase()||t.getAttribute("contenteditable")||e.preventDefault()}}t.hijackBackspace=function(e){
var t=e.prototype.componentDidMount,a=e.prototype.componentWillUnmount;e.prototype.componentDidMount=function(){o();if(t)return t.apply(this,arguments)};e.prototype.componentWillUnmount=function(){
document.removeEventListener("keydown",i);if(a)return a.apply(this,arguments)};return e}},375:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.getTeamMembersToInvite=t.sendInvitations=void 0;var n=a(12);t.sendInvitations=function(e,t,a,o){n.post({url:"/invite-team-members/invite",data:{emails:JSON.stringify(e),variant:t},
analyticsTag:"invite-team-members",shardingKey:n.getStatelessShardingKey(),successHandler:a,errorHandler:o})};t.getTeamMembersToInvite=function(e,t,a){n.get({url:"/invite-team-members/get",data:{
limit:e},analyticsTag:"invite-team-members",shardingKey:n.getStatelessShardingKey(),successHandler:t,errorHandler:a})}},376:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.shouldSkipT7Banner=t.isT7BannerReady=t.shouldSkipT30Banner=t.isT30BannerReady=void 0;var n=a(8),o=a(7),i=a(41);t.isT30BannerReady=function(){
return(n.default.isPersonalDomainUser||!n.default.isPersonalDomainUser&&n.default.isDomainAdmin)&&n.default.pifsMigrationStatus==o.PiFSExternalMigrationStatus.Unmigrated&&n.default.pifsAutoMigrationDate&&n.default.pifsAutoMigrationDate.getTime()-30*i.Time.DAY<=Date.now()&&n.default.pifsAutoMigrationDate.getTime()-7*i.Time.DAY>Date.now()
};t.shouldSkipT30Banner=function(){
return n.default.pifsMigrationStatus==o.PiFSExternalMigrationStatus.Migrated||n.default.pifsMigrationStatus==o.PiFSExternalMigrationStatus.Migrating||n.default.isScheduledPifsMigration||n.default.pifsAutoMigrationDate&&Date.now()>n.default.pifsAutoMigrationDate.getTime()-7*i.Time.DAY
};t.isT7BannerReady=function(){
return(n.default.isPersonalDomainUser||!n.default.isPersonalDomainUser&&n.default.isDomainAdmin)&&n.default.pifsMigrationStatus==o.PiFSExternalMigrationStatus.Unmigrated&&n.default.pifsAutoMigrationDate&&n.default.pifsAutoMigrationDate.getTime()-7*i.Time.DAY<=Date.now()&&n.default.pifsAutoMigrationDate.getTime()>Date.now()
};t.shouldSkipT7Banner=function(){
return n.default.pifsMigrationStatus==o.PiFSExternalMigrationStatus.Migrated||n.default.pifsMigrationStatus==o.PiFSExternalMigrationStatus.Migrating||n.default.isScheduledPifsMigration||n.default.pifsAutoMigrationDate&&Date.now()>n.default.pifsAutoMigrationDate.getTime()
}},384:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(6),i=a(1606),r=a(1607),s=a(1610),l=a(833),d=a(232),c=a(75),u=a(83),p=a(11),m=a(4),h=a(0),f=function(e){
n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.omnibarRef=null;t.recentCommands=[];t.perfectMatches={};t.state={isOpen:!1,entries:[],query:""}
;t.handleCommandsChange=function(){t.state.activeCommand||t.setState({entries:t.getCommandList()})};t.handleKeydown=function(e){var a,n;if(c.OmnibarHotkeys.ToggleOmnibar.test(e)){e.preventDefault()
;e.stopPropagation();return t.toggleOmnibar()}if(t.state.isOpen){document.body.classList.remove("is-mousing");if(c.OmnibarHotkeys.CancelAndCloseOmnibar.test(e)){e.stopPropagation();e.preventDefault()
;e.stopImmediatePropagation();return t.handleOmnibarBack()}if(c.OmnibarHotkeys.FocusNextCommand.test(e))return t.focusNextCommand()
;if(c.OmnibarHotkeys.FocusPrevCommand.test(e))return t.focusPrevCommand();var i=(0,
d.isStringParameter)(null===(n=null===(a=t.state.activeCommand)||void 0===a?void 0:a.nextPendingParameter())||void 0===n?void 0:n.parameter)
;if(c.OmnibarHotkeys.SelectCommand.test(e)&&(i||t.state.focusedEntry)){e.stopPropagation();e.preventDefault();var r=void 0;t.state.focusedEntry?r=o.find(t.state.entries,(function(e){
return e.id===t.state.focusedEntry})):i&&(r={id:t.state.query});if(!r)throw new Error("Undefined parameter response");var s=e;return t.handleEntrySelect(r,{inNewTab:(0,u.shouldOpenInNewTab)(s),
inBackground:(0,u.shouldOpenInNewWindow)(s)})}}};t.handleShowEmojiPicker=function(){if(!t.state.isOpen){var e=t.getCommandList();t.setState({isOpen:!0,entries:e});var a=e.find((function(e){
return"insert_emoji"==e.id}));t.handleEntrySelect(a,{})}};t.handleOmnibarClose=function(){t.setState({isOpen:!1,entries:[],focusedEntry:void 0,query:"",activeCommand:void 0})}
;t.handleOmnibarBack=function(){
t.state.activeCommand?t.state.activeCommand.parametersWithResponse().length?t.state.activeCommand.unregisterResponse():t.unregisterActiveCommand():t.handleOmnibarClose()};t.lastPromise=0
;t.lastQuery="";t.handleInputChange=function(e){t.lastQuery=e.target.value;if(t.state.activeCommand){var a=t.state.activeCommand,n=++t.lastPromise;t.startLoading()
;a.refreshParameterValuesForQuery(t.lastQuery).then((function(){if(n==t.lastPromise){t.updateEntriesAndQueryForActiveCommand(t.lastQuery,a);t.stopLoading();t.lastPromise=0}}))
;t.updateEntriesAndQueryForActiveCommand(t.lastQuery,a)}else{var o=t.getCommandList(t.lastQuery),i=o[0]?o[0].id:void 0;t.setState({entries:o,focusedEntry:i,query:t.lastQuery})}}
;t.handlePasteLink=function(e){if(t.state.activeCommand||""!==t.state.query)return!1;if(-1===t.props.omnibar.getAvailableCommandIds().indexOf("create_link_text"))return!1
;var a=t.state.entries.find((function(e){return"create_link_text"===e.id}));if(!a)return!1;var n=new i.default(a,t.props.omnibar);t.setState({activeCommand:n,entries:n.nextParameterOptions(),query:e,
focusedEntry:void 0});return!0};t.handleEntrySelect=function(e,a){var n,o=t.state.activeCommand;if(o){m.IntentionEvent.SelectOmnibarParameter.track({context:m.AppContext.Omnibar,command:o.command.id,
commandParameter:null===(n=o.nextPendingParameter())||void 0===n?void 0:n.parameter.key});o.registerResponse([e])}else{o=new i.default(e,t.props.omnibar);t.registerActiveCommand(o)}
t.requestParamOrRun(o,a)};return t}t.prototype.componentDidMount=function(){this.props.omnibar.on("commandsChange",this.handleCommandsChange);this.events.on(document,"keydown",this.handleKeydown)
;this.events.on(document,"show-omnibar-emoji-picker",this.handleShowEmojiPicker);this.setState({entries:this.getCommandList()})};t.prototype.componentWillUnmount=function(){var e
;null===(e=this.props.omnibar)||void 0===e||e.off("commandsChange",this.handleCommandsChange)};t.prototype.componentDidUpdate=function(e,t){
this.state.isOpen!==t.isOpen&&this.omnibarRef&&(this.state.isOpen?this.omnibarRef.show():this.omnibarRef.hide())};t.prototype.toggleOmnibar=function(){
this.state.isOpen?this.handleOmnibarClose():this.setState({isOpen:!0,entries:this.getCommandList()})};t.prototype.focusNextCommand=function(){var e=this.state,t=e.entries,a=e.focusedEntry
;if(t&&t.length){var n=o.findIndex(t,(function(e){return e.id===a})),i=-1!=n?(n+1)%t.length:0;this.setState({focusedEntry:t[i].id})}};t.prototype.focusPrevCommand=function(){
var e=this.state,t=e.entries,a=e.focusedEntry;if(t&&t.length){var n=t.length,i=o.findIndex(t,(function(e){return e.id===a})),r=-1!=i?(i-1+n)%n:0;this.setState({focusedEntry:t[r].id})}}
;t.prototype.registerActiveCommand=function(e){m.IntentionEvent.SelectOmnibarCommand.track({context:m.AppContext.Omnibar,command:e.command.id});this.setState({activeCommand:e,query:"",
focusedEntry:void 0})};t.prototype.unregisterActiveCommand=function(){this.setState({query:"",activeCommand:void 0,entries:this.props.omnibar.getCommands()})}
;t.prototype.updateEntriesAndQueryForActiveCommand=function(e,t){var a=(0,l.filterSelectParamsByQuery)(e,t.nextParameterOptions()),n=a[0]?a[0].id:void 0;this.setState({entries:a,focusedEntry:n,query:e
})};t.prototype.startLoading=function(){this.state.isQueryLoading||this.setState({isQueryLoading:!0})};t.prototype.stopLoading=function(){this.state.isQueryLoading&&this.setState({isQueryLoading:!1})}
;t.prototype.getCommandList=function(e){void 0===e&&(e=this.state.query);var t=this.props.omnibar.getCommands(),a=this.props.omnibar.getAvailableCommandIds(),i=t.filter((function(e){
return o.includes(a,e.id)}));e&&(i=(0,l.filterCommandsByQuery)(e,i));var r=n.__spreadArray(n.__spreadArray([this.perfectMatches[e]],this.recentCommands,!0),e?[]:s.PROMOTED_COMMANDS,!0).filter(Boolean)
;return o.sortBy(i,(function(e){var t=r.indexOf(e.id);return-1==t?r.length:t}))};t.prototype.requestParamOrRun=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var a,i
;return n.__generator(this,(function(r){switch(r.label){case 0:if(e.hasPendingParameters()){a=e.nextParameterOptions();i=(null==a?void 0:a.length)?a[0].id:void 0;this.setState({
entries:e.nextParameterOptions(),query:"",focusedEntry:i});return[2]}this.recentCommands=o.uniq(n.__spreadArray([e.command.id],this.recentCommands,!0)).slice(0,10)
;this.perfectMatches[this.state.query]=e.command.id;return[4,e.run(t)];case 1:r.sent().preserveFocus&&this.omnibarRef&&this.omnibarRef.preventRestoreFocus();this.handleOmnibarClose();return[2]}}))}))}
;t.prototype.render=function(){var e=this;return h.createElement(r.default,{ref:function(t){return e.omnibarRef=t},entries:this.state.entries,focusedCommand:this.state.focusedEntry,
query:this.state.query,activeCommand:this.state.activeCommand,onClose:this.handleOmnibarClose,onInputChange:this.handleInputChange,onPasteLink:this.handlePasteLink,
onEntrySelect:this.handleEntrySelect,loading:this.state.isQueryLoading})};t.displayName="OmnibarManager";return t=n.__decorate([p.default,(0,m.withTrackContext)(m.AppContext.Omnibar)],t)
}(h.PureComponent);t.default=f},389:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.hasEmptyContent=t.shouldGrandfatherUserIntoWalkthrough=t.shouldHideWalkthrough=void 0
;var n=a(6),o=a(110),i=a(193),r=o.default.daysSince(new Date("March 7, 2016"));t.shouldHideWalkthrough=function(e,t){
return n.includes(i.ONBOARDING_PADTYPES,e)||n.includes(i.IMPORTED_PADTYPES,e)||t.isPadArchived()};t.shouldGrandfatherUserIntoWalkthrough=function(e){return e.accountAge>r}
;t.hasEmptyContent=function(e){return!e||!e.contents||e.contents.hasEmptyContent()}},392:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.AppProxyWrapper=void 0;var n=a(0)
;t.AppProxyWrapper=function(e){var t=e.appProxy,a=e.children,o=n.useState(t.getApp()),i=o[0],r=o[1],s=function(){r(t.getApp())};n.useEffect((function(){t.on("app-proxy-app-ready",s);return function(){
t.off("app-proxy-app-ready",s)}}),[]);return i?null==a?void 0:a(i):null};t.AppProxyWrapper.displayName="AppProxyWrapper"},459:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.AssistMenuSidebar=void 0;var n=a(1),o=a(75),i=a(21),r=a(3),s=a(197),l=a(15),d=a(30),c=a(2),u=a(11),p=a(264),m=a(66),h=a(77),f=a(117),g=a(0),v=a(16),b=a(119),y=(0,a(5).PaperIntlFactory)()._f,E=(0,
c.defineMessages)({closeSidebar:{id:"gBgPsl",defaultMessage:"Close sidebar"}}),k=parseInt(d.default.assist_menu_sidebar_width,10),_=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.state={style:{visibility:"hidden"},firstRender:!0,wasEverOpened:t.props.open};t.handleClose=function(e){t.props.onClose();e.preventDefault()}
;t.handleSpringUpdate=function(e){t.setState({style:e})};t.handleSpringAtRest=function(){var e={display:t.props.open?"":"none",transform:"none"};t.setState({style:e})};return t}
t.prototype.componentDidMount=function(){this.setState({firstRender:!1})};t.prototype.componentWillReceiveProps=function(e){!this.state.wasEverOpened&&e.open&&this.setState({wasEverOpened:!0})}
;t.prototype.ensurePrerendered=function(){this.setState({wasEverOpened:!0})};t.prototype.componentDidUpdate=function(e){var t=this
;e.open!=this.props.open&&(this.props.open?b.WindowKeyEvents.define(o.AppHotkeys.CloseHelpSidebar,this.handleClose):b.WindowKeyEvents.off(o.AppHotkeys.CloseHelpSidebar,this.handleClose))
;!this.props.open||e.open&&!this.props.shouldUpdate||this.timers.setTimeout((function(){t.setFocusOnSidebar()}),0)};t.prototype.setFocusOnSidebar=function(){if(this.sidebarEl){
this.sidebarEl.scrollTop=0;this.sidebarEl.focus()}};t.prototype.render=function(){var e=this;if(!this.state.wasEverOpened)return null;var t=this.props,a=t.open,o=t.onClose,d=a?{}:{"aria-hidden":!0
},c=r("hp-assist-menu-sidebar",{"hp-assist-menu-sidebar-open":a}),u=this.props.className,b=(0,m.isApollo)(),_=g.createElement(h.Layer,{isPortaled:!1},g.createElement(i.default,{
className:"hp-assist-menu-sidebar-button-close assist-menu-sidebar-button-close-dig",variant:"transparent",inverse:!!this.props.inverseCloseButton,isIcon:!0,onClick:o,"aria-label":y(E.closeSidebar)
},g.createElement(v.UIIcon,{src:this.props.sidebarToggleIcon?l.CollapseRightLine:l.CloseLine})));return g.createElement(f.default,null,g.createElement(s.default,{
onClickOutside:a&&(this.props.closeOnOutsideClick||b)?o:null},g.createElement("div",n.__assign({},d,{className:u}),g.createElement(p.HorizToggleSpring,{tension:80,friction:10,
atRest:this.state.firstRender,from:k,to:0,open:a,onUpdate:this.handleSpringUpdate,onAtRest:this.handleSpringAtRest}),g.createElement("div",{className:c,style:this.state.style
},b?null:_,g.createElement("div",{className:"assist-menu-sidebar-wrapper",ref:function(t){return e.sidebarEl=t},style:this.state.style,tabIndex:this.props.open?0:-1},this.props.children)))))}
;t.displayName="AssistMenuSidebar";return t=n.__decorate([u.default],t)}(g.PureComponent);t.AssistMenuSidebar=_},460:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.HotkeysSidebar=t.Hotkey=void 0;var n,o=a(1),i=a(75),r=a(459),s=a(119),l=a(535),d=a(607),c=a(4),u=a(17),p=a(16),m=a(15),h=a(23),f=a(0),g=a(2),v=a(5),b=a(36),y=(0,v.PaperIntlFactory)().F,E=(0,
g.defineMessages)({space:{id:"BvM6vx",defaultMessage:"Space"},enter:{id:"5o8Jz2",defaultMessage:"Enter"},bold:{id:"GeB0MO",defaultMessage:"Bold"},italic:{id:"Fhbi5U",defaultMessage:"Italic"},
underline:{id:"OXc6o+",defaultMessage:"Underline"},placeholder:{id:"7SEvoW",defaultMessage:"Placeholder"},strikethrough:{id:"qTuaaA",defaultMessage:"Strikethrough"},highlight:{id:"4dqSdb",
defaultMessage:"Highlight"},link:{id:"0FFwca",defaultMessage:"Link"},mentionperson:{id:"xbOHka",defaultMessage:"Mention person"},linktodoc:{id:"/KWtBy",defaultMessage:"Link to doc"},meetingNotes:{
id:"DcYK/3",defaultMessage:"Meeting Notes"},emoji:{id:"UJCp54",defaultMessage:"Emoji"},hashtag:{id:"493hT2",defaultMessage:"hashtag"},date:{id:"65pLwc",defaultMessage:"Date"},dates:{id:"hCt7XX",
defaultMessage:"Dates"},time:{id:"bILm3Y",defaultMessage:"Time"},times:{id:"Sw+RH2",defaultMessage:"Times"},notebox:{id:"4w8eTR",defaultMessage:"Note box"},table:{id:"GbeCZC",defaultMessage:"Table"},
timeline:{id:"5xrtrx",defaultMessage:"Timeline"},insertImage:{id:"APh20A",defaultMessage:"Insert image"},insertFromDropbox:{id:"JUV3OY",defaultMessage:"Insert Dropbox file"},insertMedia:{id:"pJfL86",
defaultMessage:"Insert media"},largeheader:{id:"mIfPhS",defaultMessage:"Large header"},mediumheader:{id:"06riZ7",defaultMessage:"Medium header"},smallheader:{id:"QDAJmJ",defaultMessage:"Small header"
},numberedlist:{id:"gpTqT3",defaultMessage:"Numbered list"},bulletedlist:{id:"3YcM/K",defaultMessage:"Bulleted list"},tasklist:{id:"kcQKva",defaultMessage:"Task list"},blockquote:{id:"Q2LBNA",
defaultMessage:"Blockquote"},codeblock:{id:"x70q/f",defaultMessage:"Code block"},code:{id:"5vsGIQ",defaultMessage:"code"},divider:{id:"kS/BRQ",defaultMessage:"Divider"},findandreplace:{id:"LGtAS/",
defaultMessage:"Find and replace"},findnext:{id:"7Oyu/h",defaultMessage:"Find next"},findprevious:{id:"elnDTb",defaultMessage:"Find previous"},checkuncheckcheckbox:{id:"gW+ZSN",
defaultMessage:"Check/uncheck checkbox"},indent:{id:"qs9CEy",defaultMessage:"Indent"},unindent:{id:"se38qY",defaultMessage:"Unindent"},movelineup:{id:"TNioOr",defaultMessage:"Move line up"},
movelinedown:{id:"leDgEE",defaultMessage:"Move line down"},addacomment:{id:"Phg2FU",defaultMessage:"Add a comment"},postcomment:{id:"kjI6dx",defaultMessage:"Post comment"},undo:{id:"OfxyEk",
defaultMessage:"Undo"},redo:{id:"RxuU1A",defaultMessage:"Redo"},createnewdoc:{id:"aUYGpi",defaultMessage:"Create new doc"},present:{id:"Tp96Me",defaultMessage:"Present"},share:{id:"CcpVyl",
defaultMessage:"Share"},searchdocs:{id:"6z7cKW",defaultMessage:"Search docs"},keyboardshortcuts:{id:"JmaVR5",defaultMessage:"Keyboard shortcuts"},questionmarkmenu:{id:"AbW9Lr",
defaultMessage:"Help menu"},formatting:{id:"hB+DKF",defaultMessage:"Formatting"},insert:{id:"lYAtqr",defaultMessage:"Insert"},markdownformatting:{id:"kl9Nps",defaultMessage:"Markdown formatting"},
blockformatting:{id:"Kg+9w4",defaultMessage:"Block formatting"},editing:{id:"O5uhol",defaultMessage:"Editing"},application:{id:"spG+uH",defaultMessage:"Application"}});!function(e){e.Bold="bold"
;e.Italic="italic";e.Underline="underline";e.Placeholder="placeholder";e.Strikethrough="strikethrough";e.Highlight="highlight";e.Link="link";e.MentionPerson="mention_person";e.LinkToDoc="link_to_doc"
;e.Emoji="emoji";e.Hashtag="hashtag";e.Date="date";e.Time="time";e.Note="note";e.Table="table";e.Timeline="timeline";e.InsertImage="insert_image";e.InsertFromDropbox="insert_from_dropbox"
;e.InsertMedia="insert_media";e.MarkdownLargeHeader="markdown_large_header";e.MarkdownMediumHeader="markdown_medium_header";e.MarkdownSmallHeader="markdown_small_header"
;e.MarkdownNumberedList="markdown_numbered_list";e.MarkdownBulletedList="markdown_bulleted_list";e.MarkdownTaskList="markdown_tasklist";e.MarkdownBlockquote="markdown_blockquote"
;e.MarkdownItalic="markdown_italic";e.MarkdownBold="markdown_bold";e.MarkdownStrikethrough="markdown_strikethrough";e.MarkdownCodeBlock="markdown_code_block";e.MarkdownCode="markdown_code"
;e.MarkdownDivider="markdown_divider";e.MarkdownLatex="markdown_latex";e.BlockLargeHeader="block_large_header";e.BlockMediumHeader="block_medium_header";e.BlockSmallHeader="block_small_header"
;e.BlockNumberedList="block_numbered_list";e.BlockBulletedList="block_bulleted_list";e.BlockTaskList="block_task_list";e.BlockBlockquote="block_blockquote";e.BlockCodeBlock="block_code_block"
;e.FindAndReplace="find_and_replace";e.FindNext="find_next";e.FindPrev="find_prev";e.ToggleCheckbox="toggle_checkbox";e.Indent="indent";e.Unindent="unindent";e.MoveLineUp="move_line_up"
;e.MoveLineDown="move_line_down";e.AddComment="add_comment";e.PostComment="post_comment";e.Undo="undo";e.Redo="redo";e.CreateNewDoc="create_new_doc";e.Present="present";e.Share="share"
;e.SearchDocs="search_docs";e.KeyboardShortcuts="keyboard_shortcuts";e.QuestionMarkMenu="question_mark_menu"}(n=t.Hotkey||(t.Hotkey={}))
;var k=f.createElement(y,o.__assign({},E.space)),_=f.createElement(y,o.__assign({},E.enter)),C=function(e){o.__extends(t,e);function t(){var t,a=null!==e&&e.apply(this,arguments)||this;a.state={
isOpen:!1};a.panelId="hotkeys";a.hotkeys=((t={})[n.Bold]={description:f.createElement("b",null,f.createElement(y,o.__assign({},E.bold))),hotkey:i.FormattingHotkeys.Bold},t[n.Italic]={
description:f.createElement("i",null,f.createElement(y,o.__assign({},E.italic))),hotkey:i.FormattingHotkeys.Italics},t[n.Underline]={
description:f.createElement("u",null,f.createElement(y,o.__assign({},E.underline))),hotkey:i.FormattingHotkeys.Underline},t[n.Placeholder]={description:f.createElement("span",{
className:"ace-feature-placeholders-v2"},f.createElement("span",{className:"template-placeholder"},f.createElement(y,o.__assign({},E.placeholder)))),hotkey:i.FormattingHotkeys.Placeholder},
t[n.Strikethrough]={description:f.createElement("span",{style:{textDecoration:"line-through"}},f.createElement(y,o.__assign({},E.strikethrough))),hotkey:i.FormattingHotkeys.Strikethrough},
t[n.Highlight]={description:f.createElement("span",{className:"highlight"},f.createElement(y,o.__assign({},E.highlight))),hotkey:i.FormattingHotkeys.Highlight},t[n.Link]={
description:f.createElement("span",{className:"hotkeys-fake-link"},f.createElement(y,o.__assign({},E.link))),hotkey:i.FormattingHotkeys.Link},t[n.MentionPerson]={
keyCombo:f.createElement("code",null,"@"),description:f.createElement("span",null,f.createElement(y,o.__assign({},E.mentionperson)),f.createElement("span",{className:"notranslate"
},"(",f.createElement("span",{className:"hotkeys-fake-link mention internal"},f.createElement("span",{className:"mention-trigger-character"},"@"),"Christina"),")"))},t[n.LinkToDoc]={
keyCombo:f.createElement("code",null,"+"),description:f.createElement("span",null,f.createElement(y,o.__assign({},E.linktodoc)),f.createElement("span",{className:"notranslate"
},"(",f.createElement("span",{className:"hotkeys-fake-link mention internal"},f.createElement("span",{className:"mention-trigger-character notranslate"
},"+"),f.createElement(y,o.__assign({},E.meetingNotes))),")"))},t[n.Emoji]={keyCombo:f.createElement("code",null,":"),
description:f.createElement("span",null,f.createElement(y,o.__assign({},E.emoji))," ",f.createElement("span",{className:"notranslate"},"ðŸ˜€"))},t[n.Hashtag]={
keyCombo:f.createElement("code",null,"#",f.createElement(y,o.__assign({},E.hashtag))),description:f.createElement("span",{className:"hotkeys-fake-link"},f.createElement("span",{className:"notranslate"
},"#"),f.createElement(y,o.__assign({},E.hashtag)))},t[n.Date]={description:f.createElement(y,o.__assign({},E.date)),inlineSlashCommands:["date","datetime"]},t[n.Time]={
description:f.createElement(y,o.__assign({},E.time)),inlineSlashCommands:["time"]},t[n.Note]={description:f.createElement(y,o.__assign({},E.notebox)),slashCommands:["note","note red"]},t[n.Table]={
description:f.createElement(y,o.__assign({},E.table)),slashCommands:["table","table 5x4"]},t[n.Timeline]={description:f.createElement(y,o.__assign({},E.timeline)),slashCommands:["timeline"]},
t[n.InsertImage]={description:f.createElement(y,o.__assign({},E.insertImage)),slashCommands:["image"]},t[n.InsertFromDropbox]={description:f.createElement(y,o.__assign({},E.insertFromDropbox)),
slashCommands:["dropbox"]},t[n.InsertMedia]={description:f.createElement(y,o.__assign({},E.insertMedia)),slashCommands:["media"]},t[n.MarkdownLargeHeader]={
keyCombo:f.createElement("span",null,f.createElement("code",null,"#")," ",f.createElement("kbd",null,k)),description:f.createElement("h1",null,f.createElement(y,o.__assign({},E.largeheader)))},
t[n.MarkdownMediumHeader]={keyCombo:f.createElement("span",null,f.createElement("code",null,"##")," ",f.createElement("kbd",null,k)),
description:f.createElement("h2",null,f.createElement(y,o.__assign({},E.mediumheader)))},t[n.MarkdownSmallHeader]={
keyCombo:f.createElement("span",null,f.createElement("code",null,"###")," ",f.createElement("kbd",null,k)),description:f.createElement("h3",null,f.createElement(y,o.__assign({},E.smallheader)))},
t[n.MarkdownNumberedList]={keyCombo:f.createElement("span",null,f.createElement("code",null,"1.")," ",f.createElement("kbd",null,k)),description:f.createElement("ol",{
className:"listtype-number listindent1 list-number1"},f.createElement("li",null,f.createElement(y,o.__assign({},E.numberedlist))))},t[n.MarkdownBulletedList]={
keyCombo:f.createElement("span",null,f.createElement("code",null,"*")," ",f.createElement("kbd",null,k)),description:f.createElement("ul",{className:"listtype-bullet listindent1 list-bullet1"
},f.createElement("li",null,f.createElement(y,o.__assign({},E.bulletedlist))))},t[n.MarkdownTaskList]={
keyCombo:f.createElement("span",null,f.createElement("code",null,"[]")," ",f.createElement("kbd",null,k)),description:f.createElement("span",{className:"ace-line"},f.createElement("ul",{
className:"listtype-taskdone listindent1"},f.createElement("li",null,f.createElement(y,o.__assign({},E.tasklist)))))},t[n.MarkdownBlockquote]={
keyCombo:f.createElement("span",null,f.createElement("code",null,">")," ",f.createElement("kbd",null,k)),description:f.createElement("span",{className:"ace-line"},f.createElement("ul",{
className:"listtype-quote listindent1"},f.createElement("li",null,f.createElement(y,o.__assign({},E.blockquote)))))},t[n.MarkdownItalic]={
keyCombo:f.createElement("span",null,f.createElement("code",null,"_",f.createElement(y,o.__assign({},E.italic)),"_")),description:f.createElement("i",null,f.createElement(y,o.__assign({},E.italic)))},
t[n.MarkdownBold]={keyCombo:f.createElement("span",null,f.createElement("code",null,"**",f.createElement(y,o.__assign({},E.bold)),"**")),
description:f.createElement("b",null,f.createElement(y,o.__assign({},E.bold)))},t[n.MarkdownStrikethrough]={
keyCombo:f.createElement("span",null,f.createElement("code",null,"~",f.createElement(y,o.__assign({},E.strikethrough)),"~")),
description:f.createElement("s",null,f.createElement(y,o.__assign({},E.strikethrough)))},t[n.MarkdownCodeBlock]={keyCombo:f.createElement("code",null,"```"),description:f.createElement("code",{
className:"listtype-code listindent1 list-code1"},f.createElement(y,o.__assign({},E.codeblock)))},t[n.MarkdownCode]={
keyCombo:f.createElement("code",null,"`",f.createElement(y,o.__assign({},E.code)),"`"),description:f.createElement("span",{className:"code"},f.createElement(y,o.__assign({},E.code)))},
t[n.MarkdownDivider]={keyCombo:f.createElement("code",null,"---"),description:f.createElement(y,o.__assign({},E.divider))},t[n.MarkdownLatex]={keyCombo:f.createElement("code",null,"$$\\LaTeX$$"),
description:f.createElement(d.default,{scale:.8})},t[n.BlockLargeHeader]={description:f.createElement("h1",null,f.createElement(y,o.__assign({},E.largeheader))),
hotkey:i.BlockFormattingHotkeys.HeadingOne},t[n.BlockMediumHeader]={description:f.createElement("h2",null,f.createElement(y,o.__assign({},E.mediumheader))),hotkey:i.BlockFormattingHotkeys.HeadingTwo},
t[n.BlockSmallHeader]={description:f.createElement("h3",null,f.createElement(y,o.__assign({},E.smallheader))),hotkey:i.BlockFormattingHotkeys.HeadingThree},t[n.BlockNumberedList]={
description:f.createElement("ol",{className:"listtype-number listindent1 list-number1"},f.createElement("li",null,f.createElement(y,o.__assign({},E.numberedlist)))),
hotkey:i.BlockFormattingHotkeys.NumberedList},t[n.BlockBulletedList]={description:f.createElement("ul",{className:"listtype-bullet listindent1 list-bullet1"
},f.createElement("li",null,f.createElement(y,o.__assign({},E.bulletedlist)))),hotkey:i.BlockFormattingHotkeys.BulletedList},t[n.BlockTaskList]={description:f.createElement("span",{
className:"ace-line"},f.createElement("ul",{className:"listtype-taskdone listindent1"},f.createElement("li",null,f.createElement(y,o.__assign({},E.tasklist))))),
hotkey:i.BlockFormattingHotkeys.Checklist},t[n.BlockBlockquote]={description:f.createElement("span",{className:"ace-line"},f.createElement("ul",{className:"listtype-quote listindent1"
},f.createElement("li",null,f.createElement(y,o.__assign({},E.blockquote))))),hotkey:i.BlockFormattingHotkeys.Blockquote},t[n.BlockCodeBlock]={description:f.createElement("code",{
className:"listtype-code listindent1 list-code1"},f.createElement(y,o.__assign({},E.codeblock))),hotkey:i.BlockFormattingHotkeys.CodeBlock},t[n.FindAndReplace]={
description:f.createElement(y,o.__assign({},E.findandreplace)),hotkey:i.PadHotkeys.FindAndReplace},t[n.FindNext]={description:f.createElement(y,o.__assign({},E.findnext)),hotkey:i.PadHotkeys.FindNext
},t[n.FindPrev]={description:f.createElement(y,o.__assign({},E.findprevious)),hotkey:i.PadHotkeys.FindPrev},t[n.ToggleCheckbox]={description:f.createElement(y,o.__assign({},E.checkuncheckcheckbox)),
hotkey:i.EditingHotkeys.ToggleCheckbox},t[n.Indent]={description:f.createElement(y,o.__assign({},E.indent)),hotkey:i.EditingHotkeys.Indent},t[n.Unindent]={
description:f.createElement(y,o.__assign({},E.unindent)),hotkey:i.EditingHotkeys.Unindent},t[n.MoveLineUp]={description:f.createElement(y,o.__assign({},E.movelineup)),
hotkey:i.EditingHotkeys.MoveLineUp},t[n.MoveLineDown]={description:f.createElement(y,o.__assign({},E.movelinedown)),hotkey:i.EditingHotkeys.MoveLineDown},t[n.AddComment]={
description:f.createElement(y,o.__assign({},E.addacomment)),hotkey:i.EditingHotkeys.AddComment},t[n.PostComment]={description:f.createElement(y,o.__assign({},E.postcomment)),
hotkey:i.EditingHotkeys.PostComment},t[n.Undo]={description:f.createElement(y,o.__assign({},E.undo)),hotkey:i.EditingHotkeys.Undo},t[n.Redo]={description:f.createElement(y,o.__assign({},E.redo)),
hotkey:i.EditingHotkeys.Redo},t[n.CreateNewDoc]={description:f.createElement(y,o.__assign({},E.createnewdoc)),hotkey:i.AppHotkeys.CreateDoc},t[n.Present]={
description:f.createElement(y,o.__assign({},E.present)),hotkey:i.PadHotkeys.Present},t[n.Share]={description:f.createElement(y,o.__assign({},E.share)),hotkey:i.PadHotkeys.Share},t[n.SearchDocs]={
description:f.createElement(y,o.__assign({},E.searchdocs)),hotkey:i.AppHotkeys.Search},t[n.KeyboardShortcuts]={description:f.createElement(y,o.__assign({},E.keyboardshortcuts)),
hotkey:i.AppHotkeys.Help},t[n.QuestionMarkMenu]={description:f.createElement("span",{style:{display:"flex",alignItems:"center"}},f.createElement(p.UIIcon,{src:m.HelpLine,size:"small"
}),f.createElement(y,o.__assign({},E.questionmarkmenu))),hotkey:i.AppHotkeys.QuestionMarkMenu},t);a.openHotkeysSidebar=function(e){null==e||e.preventDefault();a.setState({isOpen:!0})
;c.IntentionEvent.OpenHotkeysSidebar.track()};a.handleHotkeysSidebarClose=function(){a.setState({isOpen:!1});c.IntentionEvent.CloseHotkeysSidebar.track()};return a}
t.prototype.componentDidMount=function(){if(this.context.panels){this.context.panels.registerPanel(this);s.WindowKeyEvents.define(i.AppHotkeys.Help,this.openHotkeysSidebar)
;u.default.consumeQueryParam("openHotkeys")&&this.openPanel()}};t.prototype.componentWillUnmount=function(){if(this.context.panels){this.context.panels.unregisterPanel(this)
;s.WindowKeyEvents.off(i.AppHotkeys.Help,this.openHotkeysSidebar)}};t.prototype.openPanel=function(){this.state.isOpen||this.openHotkeysSidebar()};t.prototype.closePanel=function(){
this.state.isOpen&&this.handleHotkeysSidebarClose()};t.prototype.renderHotkey=function(e){
var t,a=this.props.hotkeyOverride&&this.props.hotkeyOverride.hasOwnProperty(e)?null===(t=this.props.hotkeyOverride)||void 0===t?void 0:t[e]:this.hotkeys[e]
;return a?f.createElement("tr",null,f.createElement("td",null,a.description),f.createElement("td",{className:"notranslate"},this.renderHint(a))):null};t.prototype.renderHint=function(e){var t,a
;if("hotkey"in e)return f.createElement(l.HotkeyComboLabel,{hotkey:null===(a=null===(t=e.hotkey)||void 0===t?void 0:t.keyCombos[0])||void 0===a?void 0:a.combo});if("slashCommands"in e){
var n=e.slashCommands.map((function(e){return f.createElement(f.Fragment,null,f.createElement("code",null,"/",e),f.createElement("kbd",null,_))}));return f.createElement("span",null,(0,
b.joinJSX)(n,f.createElement("br",null)))}if("inlineSlashCommands"in e){n=e.inlineSlashCommands.map((function(e){
return f.createElement(f.Fragment,null,f.createElement("code",null,"/",e),f.createElement("kbd",null,k))}));return f.createElement("span",null,(0,b.joinJSX)(n,f.createElement("br",null)))}
return e.keyCombo};t.prototype.render=function(){return f.createElement(c.TrackContext,{trackContext:c.AppContext.HotkeysSidebar},f.createElement(r.AssistMenuSidebar,o.__assign({},this.props,{
className:"hotkeys-sidebar",closeOnOutsideClick:this.props.closeOnOutsideClick,open:this.state.isOpen,onClose:this.handleHotkeysSidebarClose}),f.createElement("div",{
className:"hp-assist-menu-sidebar-content"},f.createElement("h1",{ref:function(e){return e&&e.focus()}
},f.createElement(y,o.__assign({},E.keyboardshortcuts))),f.createElement("h2",null,f.createElement(y,o.__assign({},E.formatting))),f.createElement("table",{className:"hp-hotkeys-section"
},f.createElement("tbody",null,this.renderHotkey(n.Bold),this.renderHotkey(n.Italic),this.renderHotkey(n.Underline),this.renderHotkey(n.Strikethrough),this.renderHotkey(n.Highlight),this.renderHotkey(n.Link))),f.createElement("h2",null,f.createElement(y,o.__assign({},E.insert))),f.createElement("table",{
className:"hp-hotkeys-section"
},f.createElement("tbody",null,this.renderHotkey(n.MentionPerson),this.renderHotkey(n.LinkToDoc),this.renderHotkey(n.Emoji),this.renderHotkey(n.Hashtag),this.renderHotkey(n.Date),this.renderHotkey(n.Time),this.renderHotkey(n.Note),this.renderHotkey(n.Timeline),this.renderHotkey(n.InsertImage),this.renderHotkey(n.InsertFromDropbox),this.renderHotkey(n.InsertMedia),this.renderHotkey(n.Table))),f.createElement("h2",null,f.createElement(y,o.__assign({},E.markdownformatting))),f.createElement("table",{
className:"hp-hotkeys-section"
},f.createElement("tbody",null,this.renderHotkey(n.MarkdownLargeHeader),this.renderHotkey(n.MarkdownMediumHeader),this.renderHotkey(n.MarkdownSmallHeader),this.renderHotkey(n.MarkdownNumberedList),this.renderHotkey(n.MarkdownBulletedList),this.renderHotkey(n.MarkdownTaskList),this.renderHotkey(n.MarkdownBlockquote),this.renderHotkey(n.MarkdownItalic),this.renderHotkey(n.MarkdownBold),this.renderHotkey(n.MarkdownStrikethrough),this.renderHotkey(n.MarkdownCodeBlock),this.renderHotkey(n.MarkdownCode),this.renderHotkey(n.MarkdownDivider),this.renderHotkey(n.MarkdownLatex))),f.createElement("h2",null,f.createElement(y,o.__assign({},E.blockformatting))),f.createElement("table",{
className:"hp-hotkeys-section"
},f.createElement("tbody",null,this.renderHotkey(n.BlockLargeHeader),this.renderHotkey(n.BlockMediumHeader),this.renderHotkey(n.BlockSmallHeader),this.renderHotkey(n.BlockNumberedList),this.renderHotkey(n.BlockBulletedList),this.renderHotkey(n.BlockTaskList),this.renderHotkey(n.BlockBlockquote),this.renderHotkey(n.BlockCodeBlock))),f.createElement("h2",null,f.createElement(y,o.__assign({},E.editing))),f.createElement("table",{
className:"hp-hotkeys-section"
},f.createElement("tbody",null,this.renderHotkey(n.FindAndReplace),this.renderHotkey(n.FindNext),this.renderHotkey(n.FindPrev),this.renderHotkey(n.ToggleCheckbox),this.renderHotkey(n.Indent),this.renderHotkey(n.Unindent),this.renderHotkey(n.MoveLineUp),this.renderHotkey(n.MoveLineDown),this.renderHotkey(n.AddComment),this.renderHotkey(n.PostComment),this.renderHotkey(n.Undo),this.renderHotkey(n.Redo))),f.createElement("h2",null,f.createElement(y,o.__assign({},E.application))),f.createElement("table",{
className:"hp-hotkeys-section"
},f.createElement("tbody",null,this.renderHotkey(n.CreateNewDoc),this.renderHotkey(n.Present),this.renderHotkey(n.Share),this.renderHotkey(n.SearchDocs),this.renderHotkey(n.KeyboardShortcuts),this.renderHotkey(n.QuestionMarkMenu))))))
};t.displayName="HotkeysSidebar";t.contextTypes={panels:h.object,themeService:h.object};return t}(f.Component);t.HotkeysSidebar=C},467:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.InviteTeamMemberEntry=t.InviteTeamMemberList=t.InviteTeamMembersWidget=t.InviteTeamMembersPage=t.versionToVariantMapping=t.MEMBERS_INVITE_LIMIT=void 0
;var n=a(1),o=a(8),i=a(6),r=a(465),s=a(375),l=a(10),d=a(102),c=a(202),u=a(32),p=a(52),m=a(4),h=a(0),f=a(2),g=a(86),v=a(7),b=(0,a(5).PaperIntlFactory)().F,y=(0,f.defineMessages)({themorethemerrier:{
id:"U7Tnrz",defaultMessage:"The more the merrier"},everyoneatteamNamehasaccesstoPaperfreefromDropbox:{id:"Vwzzj6",defaultMessage:"Everyone at {teamName} has access to Paper, free from Dropbox."},
everyoneatteamNamehasaccesstoPaperfreefromDropboxThewizardcelebrateswhenyouletpeopleknow:{id:"JG5n6K",
defaultMessage:"Everyone at {teamName} has access to Paper, free from Dropbox. The wizard celebrates when you let people know."},afreeDropboxaccountisallyouneedtotryPaper:{id:"LsthnQ",
defaultMessage:"A free Dropbox account is all you need to try Paper."},afreeDropboxaccountisallyouneedtotryPaperThewizardcelebrateswhenyouletpeopleknow:{id:"iPrBwH",
defaultMessage:"A free Dropbox account is all you need to try Paper. The wizard celebrates when you let people know."},letpeopleknowaboutPapernumberOfPeople:{id:"8XNGCK",
defaultMessage:"Let people know about Paper ({numberOfPeople})"},picksomeoneonyourteam:{id:"4hOck/",defaultMessage:"Pick someone on your team"},picksomeoneyouknow:{id:"mTPAtm",
defaultMessage:"Pick someone you know"},dothislater:{id:"4yWOzK",defaultMessage:"Do this later"},uncheckall:{id:"VU1yuQ",defaultMessage:"Uncheck all"},checkall:{id:"1pnwSS",defaultMessage:"Check all"}
});t.MEMBERS_INVITE_LIMIT=50;var E=["appreciation","thank-you","cool","fire-hand","fist-bump","hilarious","love-it","magic-ball","face-palm","mind-blown","shy","thumbs-up"]
;t.versionToVariantMapping={};t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v1]=v.InvitationEventVariants.InviteTeamMembersV1
;t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v2]=v.InvitationEventVariants.InviteTeamMembersV2
;t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v3]=v.InvitationEventVariants.InviteTeamMembersV3
;t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v4]=v.InvitationEventVariants.InviteTeamMembersV4
;t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v5]=v.InvitationEventVariants.InviteTeamMembersV5
;t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v6]=v.InvitationEventVariants.InviteTeamMembersV6
;t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v7]=v.InvitationEventVariants.InviteTeamMembersV7
;t.versionToVariantMapping[v.InviteTeamMembersPageVersion.v8]=v.InvitationEventVariants.InviteTeamMembersV8;var k=function(e){n.__extends(a,e);function a(t){var a=e.call(this,t)||this;a.state={
members:[]};return a}a.prototype.componentDidMount=function(){var e=this;(0,s.getTeamMembersToInvite)(t.MEMBERS_INVITE_LIMIT,(function(t){var a=[];t.forEach((function(e){a.push(e)}));e.setState({
members:a})}))};a.prototype.render=function(){return h.createElement(_,n.__assign({members:this.state.members},this.props))};a.displayName="InviteTeamMembersPage";return a}(h.PureComponent)
;t.InviteTeamMembersPage=k;var _=function(e){n.__extends(a,e);function a(a){var n=e.call(this,a)||this;n.changeLiveSticker=function(){n.setState({liveStickerIndex:(n.state.liveStickerIndex+1)%E.length
})};n.updateSelectedEmail=function(e,t){var a;n.setState({selectedEmails:r(n.state.selectedEmails,(a={},a[e]={$set:t},a))},(function(){n.setState({
numberOfSelectedEmails:Object.keys(n.state.selectedEmails).filter((function(e){return!!n.state.selectedEmails[e]})).length});t&&n.changeLiveSticker()}))};n.handleSendInvitation=function(){var e=[]
;Object.keys(n.state.selectedEmails).forEach((function(t){n.state.selectedEmails[t]&&e.push(t)}));(0,m.trackUi)("Click Invite on InviteTeamMemberPage",{
context:m.AppContext.Onboarding.InviteTeamMemberPage,numberOfEmailInvitationsSent:n.state.numberOfSelectedEmails});n.setState({sendingInvitation:!0});(0,
s.sendInvitations)(e,t.versionToVariantMapping[n.props.version],(function(e){n.setState({sendingInvitation:!1});n.props.onSendInvitation?n.props.onSendInvitation():n.navigateToHomeOrPad()}))}
;n.navigateToHomeOrPad=function(){
n.props.params&&"true"==n.props.params.from_home?n.getApp().navigateToUrl("/"):n.props.params&&n.props.params.id?n.getApp().navigateToUrl(u.relativePrettyPaperDocUrl(n.props.params.id)):n.getApp().createNewPad()
};n.handleSkipClicked=function(){(0,m.trackUi)("Click Skip on InviteTeamMemberPage",{context:m.AppContext.Onboarding.InviteTeamMemberPage});n.props.onClose?n.props.onClose():n.navigateToHomeOrPad()}
;n.handleUncheckAll=function(){(0,m.trackUi)("Click Uncheck all on InviteTeamMemberPage",{context:m.AppContext.Onboarding.InviteTeamMemberPage});n.setState({selectedEmails:{},numberOfSelectedEmails:0
})};n.handleCheckAll=function(){(0,m.trackUi)("Click Check all on InviteTeamMemberPage",{context:m.AppContext.Onboarding.InviteTeamMemberPage});var e={};n.props.members.forEach((function(t){
e[t.email]=!0}));var t=Object.keys(e).length;n.setState({selectedEmails:e,numberOfSelectedEmails:t});n.changeLiveSticker()};var o=n.preCheckAllMembersToInvite(a.members);n.state={liveStickerIndex:0,
sendingInvitation:!1,numberOfSelectedEmails:a.members.length,selectedEmails:o};return n}a.prototype.getApp=function(){return this.props.app};a.prototype.componentDidMount=function(){
document.body.classList.add("ob-invite-page");this.props.showSidebar||document.body.classList.add("ob-hide-sidebar");this.getApp().setPageTitle("");(0,m.trackUi)("View InviteTeamMemberPage",{
context:m.AppContext.Onboarding.InviteTeamMemberPage})};a.prototype.enter=function(){this.getApp().getLeftNavSidebar().setVisible(!1)};a.prototype.componentWillReceiveProps=function(e){
if(e.members.length>0&&0===this.props.members.length){var t=this.preCheckAllMembersToInvite(e.members);this.setState({selectedEmails:t,numberOfSelectedEmails:e.members.length})}}
;a.prototype.componentWillUnmount=function(){document.body.classList.remove("ob-invite-page");document.body.classList.remove("ob-hide-sidebar")};a.prototype.preCheckAllMembersToInvite=function(e){
var t={};e.forEach((function(e){t[e.email]=!0}));return t};a.prototype.render=function(){var e,t=h.createElement(b,n.__assign({},y.themorethemerrier))
;e=o.default.teamType!=v.DropboxTeamType.Unknown?this.props.members.length?h.createElement(b,n.__assign({values:{teamName:o.default.teamName}
},y.everyoneatteamNamehasaccesstoPaperfreefromDropboxThewizardcelebrateswhenyouletpeopleknow)):h.createElement(b,n.__assign({values:{teamName:o.default.teamName}
},y.everyoneatteamNamehasaccesstoPaperfreefromDropbox)):this.props.members.length?h.createElement(b,n.__assign({},y.afreeDropboxaccountisallyouneedtotryPaperThewizardcelebrateswhenyouletpeopleknow)):h.createElement(b,n.__assign({},y.afreeDropboxaccountisallyouneedtotryPaper))
;var a,i,r=E[this.state.liveStickerIndex],s=(0,p.default)("/static/img/ace/live-stickers/wizards/".concat(r,".gif")),d=(0,p.default)("/static/img/ace/live-stickers/wizards/".concat(r,"@2x.gif"))+" 2x"
;a=this.state.numberOfSelectedEmails>0?h.createElement(b,n.__assign({values:{numberOfPeople:this.state.numberOfSelectedEmails}
},y.letpeopleknowaboutPapernumberOfPeople)):o.default.teamType!=v.DropboxTeamType.Unknown?h.createElement(b,n.__assign({},y.picksomeoneonyourteam)):h.createElement(b,n.__assign({},y.picksomeoneyouknow))
;this.props.members.length&&(i=h.createElement(l.default,{primary:!0,id:"ob-invite-next-button",onClick:this.handleSendInvitation,
disabled:this.state.sendingInvitation||0==this.state.numberOfSelectedEmails},a));var u,m,f=h.createElement(l.default,{linky:!0,onClick:this.handleSkipClicked,className:"ob-invite-skip-button"
},h.createElement(b,n.__assign({},y.dothislater)));this.props.members.length>1&&this.state.numberOfSelectedEmails==this.props.members.length&&(u=h.createElement(l.default,{linky:!0,
onClick:this.handleUncheckAll,className:"ob-check-and-uncheck-all-top-right"},h.createElement(b,n.__assign({},y.uncheckall))))
;this.props.members.length>1&&this.state.numberOfSelectedEmails<this.props.members.length&&(m=h.createElement(l.default,{linky:!0,onClick:this.handleCheckAll,
className:"ob-check-and-uncheck-all-top-right"},h.createElement(b,n.__assign({},y.checkall))));return h.createElement("div",{className:"ob-invite-container"},h.createElement("div",{
className:"ob-invite-header"},h.createElement("div",{className:"ob-invite-logo-container"},h.createElement(c.default,null)),h.createElement("img",{className:"ob-invite-sticker",src:s,srcSet:d
}),h.createElement("h1",null,t),h.createElement("p",null,e)),h.createElement("div",{className:"ob-check-and-uncheck-all-top-right-container"},u,m),h.createElement(C,{members:this.props.members,
updateSelectedEmail:this.updateSelectedEmail,version:this.props.version,selectedEmails:this.state.selectedEmails}),h.createElement("div",{className:"ob-invite-button-group"
},h.createElement("div",null,i),h.createElement("div",{className:"ob-invite-skip-button-container"},f)))};a.displayName="InviteTeamMembersWidget";return a}(h.PureComponent);t.InviteTeamMembersWidget=_
;var C=function(e){var t=e.members.map((function(t){var a={name:t.fullName,pic:t.photoUrl,email:t.email,bgcolor:g.getColorForString(t.email)};return h.createElement(S,{
key:"InviteTeamMemberEntry-"+t.email,user:a,updateSelectedEmail:e.updateSelectedEmail,version:e.version,checked:i.has(e.selectedEmails,t.email)&&e.selectedEmails[t.email]})}))
;return h.createElement("div",{className:"ob-invite-list"},t)};t.InviteTeamMemberList=C;C.displayName="InviteTeamMemberList";var S=function(e){
var t="checkbox-"+e.user.email,a=h.createElement("span",null,h.createElement("input",{type:"checkbox",id:t,checked:e.checked,onChange:function(){return e.updateSelectedEmail(e.user.email,!e.checked)}
}),h.createElement("label",{htmlFor:t}));return h.createElement("div",{className:"ob-invite-entry ob-invite-entry-dig"},h.createElement("div",{className:"ob-invite-entry-avatar-container"
},h.createElement(d.default,{user:e.user,disableHoverTooltip:!0})),h.createElement("div",{className:"ob-invite-entry-user-info-container"},h.createElement("div",{
className:"ob-invite-entry-user-name notranslate"},e.user.name),h.createElement("div",{className:"ob-invite-entry-user-email notranslate"},e.user.email)),h.createElement("div",{
className:"ob-invite-entry-invite-container ob-invite-entry-invite-container-dig"},a))};t.InviteTeamMemberEntry=S;S.displayName="InviteTeamMemberEntry"},483:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(459),i=a(2),r=a(11),s=a(10),l=a(23),d=a(0),c=a(13),u=a(1730),p=a(4),m=a(17),h=(0,a(5).PaperIntlFactory)().F,f=(0,i.defineMessages)({
thingstodo:{id:"rJiQ49",defaultMessage:"Things to do"}}),g=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.panelId="tasklet";a.openTasklet=function(){a.setState({isOpen:!0,
wasEverOpened:!0});p.IntentionEvent.OpenTasklet.track()};a.handleTaskletButtonClick=function(){a.openTasklet()};a.handleTaskletClose=function(){a.setState({isOpen:!1})
;p.IntentionEvent.CloseTasklet.track()};a.state={isOpen:!1,wasEverOpened:!1};return a}t.prototype.openPanel=function(){this.state.isOpen||this.openTasklet()};t.prototype.closePanel=function(){
this.state.isOpen&&this.handleTaskletClose()};t.prototype.componentDidMount=function(){var e=this;this.context.panels&&this.context.panels.registerPanel(this)
;this.events.on(p.events,p.IntentionEvent.ToggleTask.canonicalName,(function(t){e.state.isOpen&&t.context!==p.AppContext.TaskletSidebar&&e.handleTaskletClose()}))
;m.default.consumeQueryParam("openTasklet")&&this.openTasklet()};t.prototype.componentWillUnmount=function(){this.context.panels&&this.context.panels.unregisterPanel(this)}
;t.prototype.render=function(){var e,t=d.createElement(h,n.__assign({},f.thingstodo)),a=this.props.hideEntryPoint?null:d.createElement(s.default,{secondary:!0,id:"hp-tasklet-button",
onClick:this.handleTaskletButtonClick,tooltipAbove:!0,tooltip:t},d.createElement(c.default,{name:"to-do"})),i=this.state.wasEverOpened?d.createElement(u.default,{app:this.props.app,
stores:this.props.stores,isOpen:this.state.isOpen,theme:null===(e=this.context.themeService)||void 0===e?void 0:e.getTheme()}):null
;return d.createElement("span",null,a,d.createElement(p.TrackContext,{trackContext:p.AppContext.TaskletSidebar},d.createElement(o.AssistMenuSidebar,{
className:"tasklet tasklet-sidebar selenium-tasklet-sidebar",shouldUpdate:!0,open:this.state.isOpen,closeOnOutsideClick:!0,onClose:this.handleTaskletClose,sidebarToggleIcon:!0},i)))}
;t.displayName="Tasklet";t.contextTypes={panels:l.object,themeService:l.object};return t=n.__decorate([r.default],t)}(d.Component);t.default=g},485:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(6),i=a(1737),r=a(134),s=a(4),l=a(639),d=a(286),c=a(3),u=a(8),p=a(7),m=a(54),h=a(11),f=a(12),g=a(276),v=a(1741),b=a(268),y=a(644),E=a(1800),k=a(28),_=a(647),C=a(932),S=a(648),w=a(493),I=a(1872),x=a(0),T=a(396),P=a(31),M=a(1885),F=a(965),N=a(422),D=a(17),A=a(657),L=a(1892),O=a(658),R=function(e){
n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleTocMount=function(e){t.toc&&t.toc.dispose();t.toc=e};t.handleResizeContents=function(){if(t.padPageContents){
var e=t.widthResizeObserver.getCurrentWidth(),a=document.body.classList.contains("hp-highlighting-comment")?"expanded":(0,d.getCommentsWidthForWidth)(e),n=(0,
d.getBreakpointForWidth)(e),o=t.getMainAceSilent();if(o){var i={editorContentsBreakpoint:n,commentsWidth:a,containerWidth:e,leftOffset:(0,d.getLeftOffsetForWidth)(e)};o.setEditorSizeState(i)}(0,
d.setBodyClassesForWidth)(e);n==t.state.editorContentsBreakpoint&&a==t.state.commentsWidth||t.setState({editorContentsBreakpoint:n,commentsWidth:a})}};t.handleMentionTooltipClick=function(e,a){
var n=t.getApp();if(a.data&&a.data.type&&n)if("user"==a.data.type){e.preventDefault();var o=a.data,i=o.email,r=o.userPic,s=o.secureUserId,l=o.name;n.trigger("hp-search",["",[{email:i,userPic:r,
secureUserId:s,name:l,type:"people"}]])}else if("special"==a.data.type)e.preventDefault();else if(!D.default.events.shouldOpenInNewTab(e)){e.preventDefault();App.navigateToUrl(a.identifier)}}
;t.getNextLightboxItem=function(e,a){var n=t.getMainAce();if(!n)return null;var o=n.media.findNextLightboxableElement(e.getElement(),a);return o?n.media.lightboxItemForElement(o):null}
;t.getMigrationLockState=function(){var e=t.padController.getPadId();!t.state.isPadLocked&&e&&f.get({url:"/ep/pad/migration",analyticsTag:"get-pad-migration-status",data:{localPadId:e},
shardingKey:f.getShardingKeyForPad(e),successHandler:function(e){e.isDocLockedForMigration&&t.setState({isPadLocked:e.isDocLockedForMigration})}})};t.aceAddons_=null;return t}
t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);this.registerComponentDidMountEventHandlers()};t.prototype.registerComponentDidMountEventHandlers=function(){
var e=this;if(this.padController){this.events.on(this.padController,"pad-meta-changed",(function(){var t,a=!!(null===(t=e.padController)||void 0===t?void 0:t.isPadArchived())
;e.state.isPadArchived!=a&&e.setState({isPadArchived:a})}));this.events.on(this.padController,p.DocEvents.TitleChanged,(function(t){
e.context.titleUpdateService&&e.context.titleUpdateService.titleChangedForPad(e.padController,t)}))}};t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this)
;var t=this.getMainAce();if(t){(0,C.unmountFileUploadSnackbar)();(0,N.unmountChooserPopup)(t)}};t.prototype.onAceCreated=function(t){e.prototype.onAceCreated.call(this,t);(0,
C.mountFileUploadSnackbar)(t);var a=t.observer;this.events.on(a,"open-comments-sidebar",this.handleResizeContents);this.events.on(a,"close-comments-sidebar",this.handleResizeContents)
;this.contentTypeRegistry=t.getContentTypeRegistry()};t.prototype.renderShiftingFolderSidebar=function(){var e=this;return x.createElement("div",{className:"left-sidebar-shifter"
},x.createElement(v.default,{app:this.props.app,setFolderSidebarIsOpen:this.setFolderSidebarIsOpen,ref:function(t){return e.setFolderSidebarWrapper(t)}}))}
;t.prototype.renderCommentsSidebar=function(){var e=this;if(!this.getMainAce()||!this.getMainAce().hasFeature("comments"))return null;var t=k.isPhone()?_.MobileCommentsUI:T.SidebarCommentsUI
;return x.createElement("div",{id:"comments-sidebar"},x.createElement(t,{mainAce:this.getMainAce(),stores:this.context.stores,comments:this.getMainAce().comments,ref:function(t){
t&&e.getMainAce().commentsController.linkCommentsUI(t);e.onMountCommentsUI(t)},onOpenLink:this.handleOpenLink.bind(this)}))};t.prototype.renderFindAndReplaceMenu=function(){var e
;return(null===(e=this.padController)||void 0===e?void 0:e.mainAce)?x.createElement(s.TrackContext,{trackContext:s.AppContext.FindAndReplace},x.createElement(g.FindAndReplaceMenu,{
key:"findAndReplaceMenu",editor:this.padController.mainAce,collabClient:this.padController.collabClient,stores:this.context.stores,replaceEnabled:!0})):null};t.prototype.renderPageHeader=function(){
return this.padController&&this.padController.isPadTemplate()?x.createElement(M.default,{folderSidebarWrapper:this.getFolderSidebarWrapper(),isSidebarOpen:this.state.isFolderSidebarOpen,
showSidebarButton:this.state.showSidebarButton,ref:"header",padController:this.state.renderHiddenThings?this.padController:null,app:this.getApp()}):x.createElement(w.default,{
folderSidebarWrapper:this.getFolderSidebarWrapper(),isSidebarOpen:this.state.isFolderSidebarOpen,showSidebarButton:this.state.showSidebarButton,app:this.getApp(),
padController:this.state.renderHiddenThings?this.padController:null,ref:"header"})};t.prototype.renderVersionHistoryButton=function(){
return this.state.renderHiddenThings&&this.padController?x.createElement(s.TrackContext,{trackContext:s.EditorContext.Footer},x.createElement("footer",null,x.createElement(A.default,{
controller:this.padController}))):null};t.prototype.getToc=function(){return this.toc};t.prototype.renderDocBanner=function(e){if(!this.state.renderHiddenThings||!this.padController)return null
;var t=[];!this.padController.isCloudDoc()&&P.isOnButDoNotLog("paper_migration_locking_banner")&&t.push(x.createElement(E.default,{padController:this.padController,isPadLocked:this.state.isPadLocked,
updateMigrationState:this.getMigrationLockState}));this.state.isPadArchived&&t.push(x.createElement(l.default,{onInterceptLink:this.handleOpenLink.bind(this),padController:this.padController,
stores:this.context.stores,style:e,hasMigrationDocBanner:P.isOnButDoNotLog("paper_migration_locking_banner")&&this.state.isPadLocked}));u.default.isDropboxer&&t.push(x.createElement(L.default,{
padController:this.padController}));return t};t.prototype.renderPageBody=function(e,t){var a=this,n=this.state,i=n.editorContentsBreakpoint,s=n.commentsWidth,l=c("pad-page-contents"),u=(0,
d.calculateEditorPageAndBannerStyles)(i,s),p=this.renderDocBanner(u.bannerStyle),h=c({"dialog-showing":this.state.mobileDialogShowing,"ace-archived":this.state.isPadArchived,
"has-archived-doc-banner":this.state.isPadArchived,"has-migration-doc-banner":this.state.isPadLocked&&P.isOnButDoNotLog("paper_migration_locking_banner")
}),f=!(i&&"collapse-margin"==i)?x.createElement(F.default,{ref:this.handleTocMount,editor:this.getMainAce(),contentTypeRegistry:this.contentTypeRegistry,editorContentsBreakpoint:i
}):null,g=this.getAceType_();return x.createElement("div",{className:"pad-page-wrapper"},this.renderShiftingFolderSidebar(),x.createElement("div",{className:l,ref:function(e){
return a.padPageContents=e}},x.createElement("div",{id:"padpage-banner"}),this.renderPageHeader(),p,x.createElement("div",{id:"padpage-container",className:h,ref:"padPageContainer",tabIndex:-1
},x.createElement(O.default,{onWidthResize:this.handleResizeContents,ref:function(e){return a.widthResizeObserver=e}}),x.createElement("div",{id:"padpage",style:u.padPageStyle},x.createElement("div",{
id:"padeditor",style:u.editorStyle},x.createElement(r.default,{id:this.editorId,className:"hp-editor",ref:e,onAceCreated:t,keyPerfMonitor:this.props.keyPerfMonitor,
editableState:m.EditableState.Readonly,padController:this.padController,enableCommentToolbar:!0,showContextualToolbar:!0,type:g,contentTypeRegistry:this.contentTypeRegistry,
padTypeSelector:this.showPadTypeSelector(),dueDates:!0,toolbar:"full"==g,showBottomInsertToolbar:"full"==g,notifPills:o.includes(b.GATED_FEATURES[g],"notification-pills"),contentEditable:!0,
scrollSelector:this.getAceScrollSelector_(),stores:this.context.stores,manuallyAttachAce:!0,serverRenderInfo:this.getServerRenderInfo(),padId:this.padController&&this.padController.getPadId(),
onMentionTooltipClick:this.handleMentionTooltipClick,disableHashtags:this.shouldDisableHashtags(),usingResizeObserver:!0,addons:this.getAceAddons()})),x.createElement(y.default,{
editor:this.state.mainAce,stores:this.context.stores,onOpenLink:this.handleOpenLink,getNextItem:this.getNextLightboxItem,defaultCollapsed:!0,commentButtonsWhenCollapsed:!0
}),this.renderCommentsSidebar(),this.state.mainAce&&x.createElement(I.QuickEmbedsPopup,{editor:this.state.mainAce}))),f,this.renderVersionHistoryButton(),this.renderFindAndReplaceMenu()))}
;t.prototype.getAceAddons=function(){this.aceAddons_||(this.aceAddons_=[P.isOnButDoNotLog("paper_afw_autocompose")&&new i.AceAutocompose].filter(Boolean));return this.aceAddons_}
;t.prototype.shouldDoDefaultFocus=function(){return!0};t.prototype.shouldDisableHashtags=function(){var e
;return!(!(null===(e=this.padController)||void 0===e?void 0:e.isCloudDoc())||!P.isOnButDoNotLog("paper_turn_hashtag_into_plaintext"))};t.prototype.showPadTypeSelector=function(){return!0}
;return t=n.__decorate([h.default],t)}(S.PadPageBase);t.default=R},487:function(e,t,a){var n=this;Object.defineProperty(t,"__esModule",{value:!0})
;t.filterFolderContents=t.useEventTracking=t.useGetFolderData=t.useUpdateTitle=t.getFolderName=t.isBinder=t.findAndUpdatePadTitle=t.getInitialNavigationFolderData=void 0
;var o=a(1),i=a(368),r=a(6),s=a(143),l=a(912),d=a(12),c=a(0),u=a(7),p=a(76);t.getInitialNavigationFolderData=function(){return{folderData:null,canEditFolder:!1,isLoading:!0,folderContents:[],
isExpanded:!0,hasError:!1,canAccess:!0}};t.findAndUpdatePadTitle=function(e,t,a){return a.map((function(a){return a.id.id!==e?a:o.__assign(o.__assign({},a),{title:t,sortValue:t})}))}
;t.isBinder=function(e){return""===e.split("binder").pop()};t.getFolderName=function(e){var t=e.pathDisplay;return(0,r.isUndefined)(t)?e.encryptedId:""===t?"/":t};t.useUpdateTitle=function(e){
var a=e.padController,n=e.currentPadDetails,o=e.updateNavigationFolderData,i=e.navigationFolderData,r=c.useState(null),s=r[0],l=r[1];c.useEffect((function(){if(n&&n.folderData&&null!==s){var e=(0,
t.getFolderName)(n.folderData.folder),r=i[e];if(a&&r){var d=a.getPadId(),c=r.folderContents,u=c.find((function(e){var t=e.id.id;"pad"===e.type&&(t=e.pad.localPadId);return t===d}));if(u&&u.title!==s){
var p=(0,t.findAndUpdatePadTitle)(d,s,c);o({folderName:e,data:{folderContents:p}});l(null)}}}}),[a,i,n,s,o]);return c.useCallback((function(e){
var t=e.padMeta,a=t.title,n=t.padType===u.PadType.customTemplate?"papert":"paper",o="".concat(a,".").concat(n);l(o)}),[])};var m=function(e){return o.__awaiter(n,void 0,Promise,(function(){
return o.__generator(this,(function(t){return[2,new Promise((function(t){e&&e.folder&&e.folder.dbxNsPath?d.get({url:"/cloud-docs/get-folder-is-editable",data:{folderPath:e.folder.pathDisplay},
hpAppLevel:!0,shardingKey:d.getStatelessShardingKey(),analyticsTag:"start-getting-permissions-for-folder",successHandler:function(e){e&&t(!!e.isEditable)},errorHandler:function(e){t(!1);return!0}
}):t(!1)}))]}))}))};t.useGetFolderData=function(e){
var a=e.padController,i=e.setIsLoading,l=e.setCurrentPadDetails,d=e.updateCurrentNavigationRoot,u=e.setNavigationFolderData,h=e.updateNavigationFolderData,f=e.updateInitialFolderPath,g=c.useCallback((function(e,c){
if(a){var v=function(e){return o.__awaiter(n,void 0,void 0,(function(){var t;return o.__generator(this,(function(a){switch(a.label){case 0:return[4,(0,
s.getFolderDataForCloudFolderPath)(e.pathDisplay)];case 1:t=a.sent();g(!1,t);return[2]}}))}))},b=function(r){return o.__awaiter(n,void 0,void 0,(function(){var n,l,c,g,b
;return o.__generator(this,(function(y){switch(y.label){case 0:if(e){d({root:r});!function(e,a,n,i){if(e){var r=o.__spreadArray([{name:"",pathDisplay:"/"}],e.parentFolders,!0)
;""===e.folder.name&&(r.length=0);r.slice().reverse().forEach((function(e){var o=(0,t.getFolderName)(e);n({folderName:o,data:(0,t.getInitialNavigationFolderData)(),keepExisitingContentIfExists:!0})
;a(e)}));r.push(e.folder);n({folderName:(0,t.getFolderName)(e.folder),data:(0,t.getInitialNavigationFolderData)(),keepExisitingContentIfExists:!0});i({folderPath:r})}}(r,v,u,f)}return[4,m(r)];case 1:
n=y.sent();l=(0,p.getFullFolderPath)(r);return(c=r.folder.dbxNsPath)?[4,(0,s.getFolderContentsForCloudDoc)(l,c,a.getPadId())]:[2,console.error("dbxNsPath does not exist")];case 2:g=y.sent();b=(0,
t.getFolderName)(r.folder);i(!1);if(!g.isLoaded)return[2,h({folderName:b,data:{folderData:r,canEditFolder:n,isLoading:!1,hasError:!0}})];if(null===g.entries)return[2,u({folderName:b,data:{
folderData:r,canEditFolder:n,folderContents:[],isExpanded:!1,isLoading:!1,canAccess:!1,hasError:!1}})];h({folderName:b,data:{folderData:r,canEditFolder:n,folderContents:g.entries.sort((function(e,t){
return t.type.localeCompare(e.type)||e.sortValue.localeCompare(t.sortValue)})),hasError:!1,isLoading:!1,canAccess:!0}});return[2]}}))}))};if(!c)return(0,
s.getPadDetailsForCloudDocAsync)(a,(function(e){return o.__awaiter(n,void 0,Promise,(function(){var t;return o.__generator(this,(function(a){l(e);if(t=null==e?void 0:e.folderData)return[2,b(t)]
;e&&!(0,r.isEmpty)(e.localPadId)&&i(!1);return[2]}))}))}));b(c)}}),[a,d,h,u]);return g};t.useEventTracking=function(e){
var t=e.padController,a=e.initialFolder,i=e.events,r=e.initialFolderPath,l=e.handlePadTitleChanged,d=e.getFolderData,p=c.useRef(r.length>0),m=c.useRef(!1);c.useEffect((function(){if(t){
var e=i.on(t,u.DocEvents.PadIdChanged,(function(){if(!p.current&&t.getPadId()){d(!0);p.current=!0}else p.current&&t.getPadId()&&d(m.current)})),r=function(){
return o.__awaiter(n,void 0,void 0,(function(){var a;return o.__generator(this,(function(n){switch(n.label){case 0:if(p.current||!t.getPadId())return[3,1];d(!0);p.current=!0;i.off(e);return[3,4]
;case 1:if(p.current||t.getPadId())return[3,3];p.current=!0;m.current=!0;return[4,(0,s.getFolderDataForCloudFolderPath)("/")];case 2:a=n.sent();d(!0,a);return[3,4];case 3:
p.current&&t.getPadId()&&d(!1);n.label=4;case 4:return[2]}}))}))};t.isInitialized()?r():i.once(t,u.DocEvents.PadInitialized,r);var c=i.on(t,u.DocEvents.TitleChanged,(function(e){l(t)
})),h=i.on(t.filesystemInfoStore,"change",(function(){return o.__awaiter(n,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return a?[4,(0,
s.getFolderDataForCloudFolderPath)(a)]:[3,2];case 1:e=t.sent();d(!1,e);t.label=2;case 2:d(!0);return[2]}}))}))}));return function(){i.off(c);i.off(e);i.off(h)}}}),[t,a,l,d])}
;t.filterFolderContents=function(e,t){if(!e)return t;for(var a={},n={},r=0,s=Object.keys(t);r<s.length;r++){var d=t[m=s[r]];a[m]=o.__assign(o.__assign({},d),{folderContents:[]})
;a[m].folderContents=o.__spreadArray([],d.folderContents,!0).filter((function(t){var a="dbx-folder"===t.type?t.title:(0,l.getDisplayTitle)(t),o=i(a,e)>0&&e.length/a.length>0
;"dbx-folder"===t.type&&(n[t.folderData.folder.pathDisplay]=o);return"file"!==t.type&&"pad"!==t.type||o}))}for(var c=function(e){
return a[e]&&a[e].folderContents.length&&!n[e]?a[e].folderContents.some((function(e){return"dbx-folder"!==e.type||c(e.folderData.folder.pathDisplay)})):n[e]},u=0,p=Object.keys(t);u<p.length;u++){
var m=p[u];(d=a[m]).folderContents=d.folderContents.filter((function(e){return"dbx-folder"!==e.type||c(e.folderData.folder.pathDisplay)}))}return a}},606:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),o=a(0),i=function(e){var t=e.badge,a=e.muted,i=e.children;return o.createElement("span",{className:"menu-badge-wrapper"
},o.createElement("span",{className:"menu-badge-content"},i),o.createElement("span",{className:n("menu-badge",{"menu-badge-muted":a})},t))};i.displayName="MenuBadge";t.default=i},607:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=function(e){var t=e.scale,a=void 0===t?1:t;return n.createElement("span",{className:"notranslate",style:{fontFamily:"KaTeX_Main",
fontSize:"".concat(19.36*a,"px")}},n.createElement("span",{style:{lineHeight:"".concat(23.323*a,"px")}},"L"),n.createElement("span",{style:{fontSize:"0.75em",margin:"0px 0px 0px -0.32em",
position:"relative",top:"-0.2em"}},"A"),n.createElement("span",{style:{margin:"0px 0px 0px -0.23em",lineHeight:"".concat(23.323*a,"px")}},"T"),n.createElement("span",{style:{
margin:"0px 0px 0px -0.1667em",lineHeight:"".concat(23.323*a,"px"),position:"relative",top:"0.2155em"}},"E"),n.createElement("span",{style:{margin:"0px 0px 0px -0.125em",
lineHeight:"".concat(23.323*a,"px")}},"X"))};o.displayName="LatexLogo";t.default=o},609:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(2),i=a(10),r=a(0),s=a(13),l=(0,
a(5).PaperIntlFactory)(),d=l.F,c=l._f,u=(0,o.defineMessages)({bugButton:{id:"+7RGph",defaultMessage:"Report a bug"},sendfeedback:{id:"xDGiYl",defaultMessage:"Send feedback"},
youarecurrentlyofflineSendfeedbackwhenyouarebackonline:{id:"d4DEwK",defaultMessage:"You are currently offline. Send feedback when you are back online."}}),p=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.handleBugButtonClick=function(e){if(!t.shouldBeDisabled()){e.preventDefault();document.body.dispatchEvent(new Event("close-menu"))
;t.bugButton.tooltipHide();t.props.openFeedbackFunc()}};return t}t.prototype.shouldBeDisabled=function(){var e
;return!!this.props.isDesktopBeta&&this.props.isOffline&&(null===(e=this.props.app.getNativeFeatureDetectionService())||void 0===e?void 0:e.isNativeSaveClientvarsEnabled())}
;t.prototype.render=function(){
var e=this,t=c(u.bugButton),a=r.createElement(d,n.__assign({},u.bugButton)),o=this.props.isDesktopBeta?r.createElement(d,n.__assign({},u.sendfeedback)):a,l=this.props.isDesktopBeta?r.createElement(s.default,{
name:"desktop-beta-tag"}):r.createElement(s.default,{name:"bug"}),p=this.props.isDesktopBeta?"hp-editor-desktop-beta-button":"hp-editor-bug-button",m=this.shouldBeDisabled()
;return r.createElement(i.default,{secondary:!0,className:"hp-icon-button",id:p,onClick:this.handleBugButtonClick,
href:"https://jira.dropboxer.net/secure/CreateIssue!default.jspa?selectedProjectId=10877",tooltipAbove:!0,disabled:m,showTooltipWhenDisabled:!0,
tooltip:m?r.createElement(d,n.__assign({},u.youarecurrentlyofflineSendfeedbackwhenyouarebackonline)):o,"aria-label":t,ref:function(t){return e.bugButton=t}},l)};t.displayName="BugButton";return t
}(r.PureComponent);t.default=p},610:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.KeyboardShortcutsButtonWithOmnibar=void 0
;var n=a(1),o=a(130),i=a(21),r=a(16),s=a(15),l=a(0),d=a(2),c=(0,a(5).PaperIntlFactory)(),u=c.F,p=c._f,m=(0,d.defineMessages)({hotkeysButtonAria:{id:"JmaVR5",defaultMessage:"Keyboard shortcuts"},
keyboardshortcuts:{id:"JmaVR5",defaultMessage:"Keyboard shortcuts"}});t.KeyboardShortcutsButtonWithOmnibar=function(e){
var t=e.runCommandById,a=p(m.hotkeysButtonAria),o=l.createElement(u,n.__assign({},m.keyboardshortcuts));return l.createElement(i.default,{id:"hp-editor-hotkeys-button",variant:"transparent",isIcon:!0,
onClick:function(){var a;t("show_hotkeys");null===(a=e.onClick)||void 0===a||a.call(e)},tooltip:{title:o,placement:"top"},"aria-label":a},l.createElement(r.UIIcon,{src:s.KeyboardLine,size:"large"}))}
;var h=function(e){n.__extends(a,e);function a(){var a=null!==e&&e.apply(this,arguments)||this;a.renderButtonWithCommand=function(e){
return l.createElement(t.KeyboardShortcutsButtonWithOmnibar,n.__assign({},e,{onClick:a.props.onClick}))};return a}a.prototype.render=function(){return l.createElement(o.default,{
commands:["show_hotkeys"],context:[]},this.renderButtonWithCommand)};a.displayName="KeyboardShortcutsButton";return a}(l.PureComponent);t.default=h},639:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.getLastEditInfo=t.getArchiveMessage=void 0
;var n=a(1),o=a(134),i=a(22),r=a(3),s=a(141),l=a(8),d=a(2),c=a(909),u=a(54),p=a(75),m=a(10),h=a(4),f=a(83),g=a(14),v=a(20),b=a(0),y=a(182),E=a(166),k=a(84),_=a(226),C=a(119),S=(0,
g.MsgFactory)("pad"),w=S.defineMessages,I=S.F,x=S.IntlMessageFormat,T=w({reasonPlaceholderForDoc:{msg:"Have any parting thoughts about this doc?",
description:"Placeholder for input where user can explain why a file was archived."},reasonPlaceholderForTemplate:{msg:"Have any parting thoughts about this template?",
description:"Placeholder for input where user can explain why a file was archived."},archivedbyyoudate:{msg:"Archived by you {date}",description:"Relative date. As in 'Archived by you 5 days ago'."},
archivedbypersondate:{msg:"Archived by {person} {date}",description:"Relative date. As in 'Archived by John Smith 5 days ago'."},lastediteddatebyperson:{msg:"Last edited {date} by {person}",
description:"Relative date. As in 'Last edited 7 months ago by John Smith'. Describes when a document was last edited and by who"},showmore:{msg:"Show more"},showless:{msg:"Show less"},post:{
msg:"Post",description:"Post a comment"},cancel:{msg:"Cancel",description:"Cancel process of posting a comment"},editnote:{msg:"Edit note",description:"Modify a note explaining why a doc was archived"
},addanote:{msg:"Add a note",description:"Add a note explaining why a doc was archived"}});(0,d.defineMessages)({reasonPlaceholderForDoc:{id:"ATnkxN",
defaultMessage:"Have any parting thoughts about this doc?"},reasonPlaceholderForTemplate:{id:"Dysjo9",defaultMessage:"Have any parting thoughts about this template?"},archivedbyyoudate:{id:"L1UCwL",
defaultMessage:"Archived by you {date}"},archivedbypersondate:{id:"ehK1+w",defaultMessage:"Archived by {person} {date}"},lastediteddatebyperson:{id:"0ReUWY",
defaultMessage:"Last edited {date} by {person}"},showmore:{id:"JZEdSO",defaultMessage:"Show more"},showless:{id:"TIUrJt",defaultMessage:"Show less"},post:{id:"MWbDDm",defaultMessage:"Post"},cancel:{
id:"pS/e7n",defaultMessage:"Cancel"},editnote:{id:"+wx8gq",defaultMessage:"Edit note"},addanote:{id:"O1k8l/",defaultMessage:"Add a note"}});function P(e,t,a){var o=b.createElement(k.TimeAgo,{
className:"archived-timestamp",date:t,pastOnly:!0});return e===l.default.secureUserId?b.createElement(I,n.__assign({values:{date:o}},T.archivedbyyoudate)):b.createElement(I,n.__assign({values:{date:o,
person:a}},T.archivedbypersondate))}t.getArchiveMessage=P;function M(e,t){return b.createElement("span",null,b.createElement("span",{className:"notranslate"},"Â â€¢Â "),b.createElement(I,n.__assign({
values:{date:b.createElement(k.TimeAgo,{className:"archived-timestamp",date:e,pastOnly:!0}),person:t}},T.lastediteddatebyperson)))}t.getLastEditInfo=M;var F=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.contentTypeRegistry=(0,s.default)("commententry");t.state={isEditing:!1,isReasonCollapsed:!1};t.handleEditReason=function(e){e.preventDefault()
;t.setState({isEditing:!0,isReasonCollapsed:!0});h.IntentionEvent.StartArchiveReason.track({padType:t.props.padController.getPadType()})};t.handleCancelReason=function(e){e.preventDefault()
;t.setState({isEditing:!1});h.IntentionEvent.CancelArchiveReason.track({padType:t.props.padController.getPadType()})};t.handlePostReason=function(e){e.preventDefault();var a
;t.ace.execute("trimTrailingWhitespace",(function(){(0,_.trimTrailingWhitespace)(t.ace);a=t.ace.contents.exportHand()}));var n={atext:{text:a.text(),attribs:a.attribs()},apool:a.pool(),
lastModifiedTime:new Date,authorName:l.default.userName,secureAuthorId:l.default.secureUserId};t.setState({content:n,isEditing:!1});t.postReason(n);h.IntentionEvent.PostArchiveReason.track({
padType:t.props.padController.getPadType()})};t.handleExpandReason=function(){t.setState({isReasonCollapsed:!1})};t.handleCollapseReason=function(){t.setState({isReasonCollapsed:!0})}
;t.handleAceCreated=function(e){t.ace=e;t.ace.focus()};t.interceptLinkClicks=function(e){t.props.onInterceptLink&&(0,f.interceptLinkClicks)(e,t.props.onInterceptLink,(0,f.shouldOpenInNewTab)(e))}
;return t}t.prototype.componentDidMount=function(){var e=this.getCurrentReason();e&&this.setState({content:{atext:e.atext,apool:e.apool,lastModifiedTime:e.lastModifiedTime,
secureAuthorId:e.secureAuthorId,authorName:e.authorName},isEditing:!1})};t.prototype.componentDidUpdate=function(){
this.state.isEditing?C.WindowKeyEvents.define(p.EditingHotkeys.PostComment,this.handlePostReason):C.WindowKeyEvents.off(p.EditingHotkeys.PostComment,this.handlePostReason)}
;t.prototype.componentWillUnmount=function(){C.WindowKeyEvents.off(p.EditingHotkeys.PostComment,this.handlePostReason)};t.prototype.hasContent=function(e){return!(!e||!e.atext.text.trim().length)}
;t.prototype.getObjectStore=function(){return this.props.padController.getObjectStore()};t.prototype.getCurrentReason=function(){var e
;return null===(e=this.getObjectStore())||void 0===e?void 0:e.getObject(this.getReasonId())};t.prototype.getReasonId=function(){return"archiveNote_"+this.props.padController.localPadId}
;t.prototype.postReason=function(e){var t=this.getObjectStore();if(t){var a=this.getCurrentReason(),o={atext:e.atext,apool:e.apool.toJsonableNoCloning()},i=t.queueOperation({
path:"/archive-reason/save",args:o});if(a){var r=n.__assign(n.__assign(n.__assign({},a||{}),o||{}),{rev:a.rev+1});t.addObjectEdit(i,a.id,r)}else{r=n.__assign({id:this.getReasonId(),type:"archiveNote",
createdTime:new Date,lastModifiedTime:new Date,secureAuthorId:l.default.secureUserId,authorName:l.default.userName,rev:0},o||{});t.addLocalObject(i,r)}}};t.prototype.renderCollapsedReason=function(e){
var t,a={maxChars:140,maxLines:1,renderContext:E.thisBrowserRenderContext(),locale:l.default.userLocale},o=y.renderEditorStaticHtml(e.zatext,e.apool,"commententry",a,this.contentTypeRegistry)
;o.isTruncated&&(t=b.createElement("span",{className:"comment-expand"},b.createElement(m.default,{onClick:this.handleExpandReason},b.createElement(I,n.__assign({},T.showmore)))))
;return b.createElement("div",{className:r("editor-archiving-reason","selenium-archive-note-text")},b.createElement("div",{dangerouslySetInnerHTML:{__html:o.html}}),t)}
;t.prototype.renderExpandedReason=function(e){
var t="editor-archiving-reason",a=r("comment-entry","selenium-archive-note-editor",t),s="."+t,d=this.props.padController.isPadTemplate()?T.reasonPlaceholderForTemplate:T.reasonPlaceholderForDoc,c=new x(d,l.default.userLocale).format()||d.msg,p=this.state.isEditing?u.EditableState.Editable:u.EditableState.Readonly,h=e&&e.zatext&&e.zatext.text[v.Position.ROOT_ZONE]||"",f=h.length,g=(i.splitTextLines(h)||[]).length,y=!this.state.isReasonCollapsed&&(g>1||f>140)?b.createElement("span",{
className:"comment-expand"},b.createElement(m.default,{onClick:this.handleCollapseReason},b.createElement(I,n.__assign({},T.showless)))):null
;return b.createElement("div",null,b.createElement(o.default,{id:t,onAceCreated:this.handleAceCreated,className:a,editableState:p,content:e,contentTypeRegistry:this.contentTypeRegistry,
type:"commententry",placeholder:c,toolbar:!1,scrollSelector:s,stores:this.props.stores}),y)};t.prototype.renderActions=function(){return b.createElement("div",{className:"archive-note-actions"
},b.createElement(m.default,{className:"selenium-archive-note-post-button",onClick:this.handlePostReason},b.createElement(I,n.__assign({},T.post))),b.createElement("span",{className:"notranslate"
},"Â â€¢Â "),b.createElement(m.default,{className:"selenium-archive-note-cancel-button",onClick:this.handleCancelReason},b.createElement(I,n.__assign({},T.cancel))))};t.prototype.renderReason=function(){
if(!this.hasContent(this.state.content)&&!this.state.isEditing)return null;var e=this.state.content?{zatext:i.atextToZatext(this.state.content.atext),apool:this.state.content.apool}:null,t=null
;t=this.state.isEditing||!this.state.isReasonCollapsed?this.renderExpandedReason(e):this.renderCollapsedReason(e);var a=b.createElement("div",{className:"comment-entry-wrapper"
},t,this.state.isEditing?this.renderActions():null);return this.state.isEditing?a:b.createElement("span",{onClick:this.interceptLinkClicks},a)};t.prototype.renderLastEditInfo=function(){
return this.hasContent(this.state.content)&&this.state.content.secureAuthorId!==l.default.secureUserId?M(this.state.content.lastModifiedTime,this.state.content.authorName):null}
;t.prototype.render=function(){var e=this.state.isEditing?null:b.createElement(m.default,{id:"add-archive-note-button",className:r("expand-note","selenium-archive-doc-banner-note-button"),
onClick:this.handleEditReason
},this.hasContent(this.state.content)?b.createElement(I,n.__assign({},T.editnote)):b.createElement(I,n.__assign({},T.addanote))),t=this.props.padController.padMeta,a=P(t.archiver.secureUserId,t.archivedDate,t.archiver.name),o=b.createElement("span",null,a,this.renderLastEditInfo())
;return b.createElement(c.default,{className:r("hp-archived-doc-banner","selenium-archived-doc-banner"),header:o,headerRight:e,style:this.props.style,
hasMigrationDocBanner:this.props.hasMigrationDocBanner},this.renderReason())};t.displayName="ArchivedDocBanner";return t}(b.Component);t.default=F},643:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.FolderSidebarFiledHeader=void 0;var n=a(33),o=a(30),i=a(60),r=a(1774),s=a(200),l=a(77),d=a(14),c=a(0),u=a(78),p=(0,d.MsgFactory)("app"),m=p._f,h=(0,
p.defineMessages)({backToDropboxHome:{msg:"Back to Dropbox home",description:"Label to help identify what the Dropbox button does"}});t.FolderSidebarFiledHeader=function(e){
var t=e.folderData,a=e.onLinkClicked,d=e.onFolderLinkClicked,p=e.padAndFolderApi,f=null,g=p.shouldShowBreadcrumbsAboveTitle(),v=p.getRootBreadcrumbUiFolder(t)
;(t.parentFolders.length>0||v)&&(f=c.createElement(r.FolderBreadcrumbs,{folderData:t,onLinkClicked:a,onFolderLinkClicked:d,padAndFolderApi:p,shouldDisplayIconSuffix:g,rootBreadcrumbUiFolder:v}))
;var b=p.getFolderName(t),y=p.getFolderUrl(t),E=c.createElement("span",{dir:"auto",className:"notranslate"},b),k=c.createElement(s.default,{folderData:t,useDecoratedIcon:!0}),_=c.useMemo((function(){
return m(h.backToDropboxHome)}),[]),C=t&&t.parentFolders.length>0?null:p.getFolderPermissionDescription(t),S=g?c.createElement("div",{className:"folder-sidebar-header__subheader"},f):null
;return c.createElement("div",{className:"folder-sidebar-header"},S,c.createElement("span",{className:"folder-sidebar-header__title notranslate"},k,c.createElement("div",{
className:"folder-sidebar-header__title-only"},c.createElement(l.LayerContext.Provider,{value:{zIndex:o.default.zindex_pad_folder}},c.createElement(u.Tooltip,{title:E,placement:"right"
},c.createElement(n.Button,{href:y,"aria-label":_,className:"dig-Title--size-standard folder-sidebar-header__dig-title",target:"_blank",rel:"noreferrer","track-title":"open folder from title",
variant:"transparent",hasNoUnderline:!0},c.createElement("div",{className:"folder-sidebar-header__title-link__contents"},c.createElement(i.default,{str:b}))))))),c.createElement("div",{
className:"folder-sidebar-header__subheader"},g?null:f,C))};t.FolderSidebarFiledHeader.displayName="FolderSidebarFiledHeader"},644:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n,o=a(1),i=a(6),r=a(21),s=a(15),l=a(3),d=a(18),c=a(30),u=a(2),p=a(1781),m=a(1782),h=a(4),f=a(11),g=a(1794),v=a(10),b=a(439),y=a(66),E=a(28),k=a(43),_=a(77),C=a(1795),S=a(1796),w=a(775),I=a(1797),x=a(1798),T=a(117),P=a(0),M=a(63),F=a(930),N=a(4),D=a(16),A=a(1799),L=a(5),O=parseInt(c.default.lightbox_transition_time,10),R=(0,
L.PaperIntlFactory)(),U=R._f,B=R.F,H=(0,u.defineMessages)({closeButton:{id:"ywynV2",defaultMessage:"Close lightbox"},nextButton:{id:"vJgZg+",defaultMessage:"Next"},previousButton:{id:"UPlChr",
defaultMessage:"Previous"},openSidebar:{id:"JNIZkF",defaultMessage:"Open sidebar"},closeSidebar:{id:"Gggj0N",defaultMessage:"Close sidebar"},zoomFull:{id:"2c+tEE",defaultMessage:"Zoom to actual size"
},zoomFit:{id:"voZqjo",defaultMessage:"Zoom to fit"},createComment:{id:"fTdk5C",defaultMessage:"Add comment"},addAnnotation:{id:"W/00Qk",defaultMessage:"Comment on specific areas"},pageIndicator:{
id:"fDw1ZV",defaultMessage:"{current} of {total}"},ariaLabel:{id:"ksqKw1",defaultMessage:"Full screen preview"},showComments:{id:"gfzOcp",defaultMessage:"Show comments"},hideComments:{id:"NZwTrB",
defaultMessage:"Hide comments"},close:{id:"u/p3Pl",defaultMessage:"Close"}});!function(e){e[e.LEFT=0]="LEFT";e[e.RIGHT=1]="RIGHT"}(n||(n={}));var W=function(e){o.__extends(t,e);function t(t){
var a=e.call(this,t)||this;a.mainAce=null;a.editabilityTimeout=null;a.removeLightboxTimeout=null;a.openLightboxStartTime=null;a.hideArrowsTimeout=null;a.editableStateBeforeLightbox=null
;a.lightboxCommentsUI=null;a.currentItem=null;a.itemToLeft=null;a.itemToRight=null;a.toggleCollapse=function(){a.setState({isCollapsed:!a.state.isCollapsed})};a.expandSidebar=function(){a.setState({
isCollapsed:!1})};a.onMobileFooterModeChange=function(e){a.setState({mobileFooterMode:e})};a.clearArrowTimeout=function(){if(a.hideArrowsTimeout){clearTimeout(a.hideArrowsTimeout)
;a.hideArrowsTimeout=null}};a.showArrows=function(){a.clearArrowTimeout();a.setState({showMobileArrows:!0});a.hideArrowsTimeout=a.timers.setTimeout((function(){return a.setState({showMobileArrows:!1})
}),1e3)};a.hideArrows=function(){a.clearArrowTimeout();a.setState({showMobileArrows:!1})};a.closeMobileFooter=function(){return a.onMobileFooterModeChange(x.MobileFooterMode.CLOSED)}
;a.onKeyDownWithinFilePreviewIframe=function(e){return a.lightboxKeyDownHandler(e,!0)};a.lightboxKeyDownHandler=function(e,t){void 0===t&&(t=!1)
;var o=a.lightboxCommentsUI,i=o&&o.getHighlightThread(),r=i&&(i.isFocused()||o.highlightNewThreadHasEdits()||i.isEditingComment());if(!(!(e.target&&!!(0,
d.closest)(e.target,".ace-type-lightboxCaption"))&&!r))return!0;switch(e.which){case k.KeyCode.ESCAPE:a._removeLightbox("escape");return!1;case k.KeyCode.SPACE:a._removeLightbox("space");return!1
;case k.KeyCode.LEFT:a.moveToAdjacentItem(n.LEFT,"left");return!1;case k.KeyCode.RIGHT:a.moveToAdjacentItem(n.RIGHT,"right");return!1;case k.KeyCode.UP:a.moveToAdjacentItem(n.LEFT,"up");return!1
;case k.KeyCode.DOWN:a.moveToAdjacentItem(n.RIGHT,"down");return!1}if(a.currentItem&&a.currentItem.handleKeyEvent&&!t){return!a.currentItem.handleKeyEvent(e)}return!0}
;a.lightBoxClickHandler=function(e){(0,d.closest)(e.target,".lightbox-arrow")||a.hideArrows();if((0,d.closest)(e.target,".ace-lightbox-item")&&a.currentItem&&a.currentItem.handleClick(e)){
e.preventDefault();return!0}(0,d.closest)(e.target,".lightbox-clickable")||(0,d.closest)(e.target,".gallery-annotation-point")||(0,
d.closest)(e.target,".ace-lightbox-item-container")&&a._removeLightbox("click")};a.setAnnotationsEnabled=function(e){a.setState({annotationsEnabled:e})};a.loadLeftRightItemsIfNeeded=function(){
if(!a.itemToRight){if(n=a.getNextItemAndRenderItem()){var e=n.lightboxItem,t=n.renderedLightboxItem;a.itemToRight=e;a.setState({rightRenderedLightboxItem:t})}}if(!a.itemToLeft){var n
;if(n=a.getNextItemAndRenderItem(!0)){e=n.lightboxItem,t=n.renderedLightboxItem;a.itemToLeft=e;a.setState({leftRenderedLightboxItem:t})}}};a.onGalleryUpdate=function(){
a.currentItem&&!a.currentItem.stillExists()&&a._removeLightbox("element-disappeared")};a.handleLightbox=function(e){var t=e[0],n=e[1];if(!a.removeLightboxTimeout&&!a.isDisplayingEquivalentItem(t)){
M.isOnButDoNotLog("paper_fix_editable_state_change_events")&&(a.editableStateBeforeLightbox=a.mainAce.contents.getEditableState());var i=o.__assign({type:"Unknown",context:h.EditorContext.Gallery
},t.trackingData);h.IntentionEvent.OpenLightbox.track(i);a._removeLightbox("onLightbox");document.body.classList.add("pad-lightbox-open");a.setLightboxItem(t,null);a.setState({
isCollapsed:!!a.props.defaultCollapsed,isOpen:!0});a.openLightboxStartTime=Date.now();document.activeElement.blur();a.lightboxCommentsUI&&n&&a.lightboxCommentsUI.highlightThreadAtNode(n)
;a.timers.setTimeout((function(){a.keydownHandlerEvent=a.events.on(document,"keydown",a.lightboxKeyDownHandler);a.clickHandlerEvent=a.events.on(document,"click",a.lightBoxClickHandler)
;a.lightboxContainerElement.focus()}),0)}};a.prerender=function(e){var t=a.getLightboxItemRenderParams(null),n=e.getReactComponent(t);a.setAnnotationsEnabled(e.annotationsEnabledOnLoad());a.setState({
preloadedLightboxItem:e,renderedLightboxItem:n})};a.toggleZoom=function(){var e=a.state.zoomLevel==w.LightboxZoomLevel.Fit?w.LightboxZoomLevel.OriginalSize:w.LightboxZoomLevel.Fit;a.setState({
zoomLevel:e})};a.handleRequestAnnotation=function(e){a.currentItem&&a.currentItem.promptAnnotationCreation(e)};a.handleCancelAnnotation=function(){
a.currentItem&&a.currentItem.cancelAnnotationCreation()};a.handleDetachAnnotation=function(e){a.currentItem&&a.currentItem.detachAnnotation(e)};a.handlePostAnnotation=function(e,t){
a.currentItem&&a.currentItem.finalizeAnnotation(e,t)};a.handleCommentButtonClick=function(e){a.lightboxCommentsUI&&a.lightboxCommentsUI.onPlaceholderClick(e)}
;a.handleAnnotationButtonClick=function(e){a.lightboxCommentsUI&&a.lightboxCommentsUI.onAnnotationPlaceholderClick(e)};a.onSwipeLeft=function(){return a.moveToAdjacentItem(n.RIGHT,"swipe")}
;a.onSwipeRight=function(){return a.moveToAdjacentItem(n.LEFT,"swipe")};a.highlightedAnnotationStore=new g.default;a.state={renderedLightboxItem:null,leftRenderedLightboxItem:null,
rightRenderedLightboxItem:null,preloadedLightboxItem:void 0,leftDisabled:!1,rightDisabled:!1,isCollapsed:!!t.defaultCollapsed,zoomLevel:w.LightboxZoomLevel.Fit,annotationsEnabled:!1,isOpen:!1,
showMobileArrows:!1,isEditorLoaded:!1,mobileFooterMode:x.MobileFooterMode.DEFAULT};return a}t.prototype.initWithAce=function(e){var t;if(!this.props.deviceInfo.isMobile){this.mainAce=e;this.setState({
isEditorLoaded:!0});var a=null===(t=this.mainAce)||void 0===t?void 0:t.observer;this.events.on(a,"lightbox",this.handleLightbox);this.events.on(a,"lightbox-prerender",this.prerender)
;this.events.on(a,"change-debounced",this.onGalleryUpdate);this.events.on(a,"editable-state-changed",this.onEditableUpdate)}};t.prototype.componentDidMount=function(){
this.props.editor&&!this.state.isEditorLoaded&&this.initWithAce(this.props.editor)};t.prototype.componentWillUnmount=function(){this.dispose()};t.prototype.componentWillReceiveProps=function(e){
if(e.editor!=this.props.editor){if(this.props.editor)throw new Error("Lightbox is already initialized, should never get here.");this.initWithAce(e.editor)}};t.prototype.dispose=function(){
document.body.classList.remove("pad-lightbox-open");var e=document.querySelector(".lightbox-current-line");e&&e.classList.remove("lightbox-current-line");this.mainAce=null;this.clearArrowTimeout()}
;t.prototype._removeLightbox=function(e){var t=this;if(!this.removeLightboxTimeout&&this.currentItem&&this.mainAce){h.IntentionEvent.CloseLightbox.track(o.__assign({context:h.EditorContext.Gallery,
reason:e||"unknown",durationOpen:Date.now()-this.openLightboxStartTime},this.currentItem.trackingData));this.lightboxMessaging&&this.lightboxMessaging.clearAllMessages();var a=function(){t.setState({
renderedLightboxItem:null,leftRenderedLightboxItem:null,rightRenderedLightboxItem:null,preloadedLightboxItem:void 0,isOpen:!1,mobileFooterMode:x.MobileFooterMode.DEFAULT})
;t.events.off(t.keydownHandlerEvent);t.events.off(t.clickHandlerEvent);document.body.classList.remove("pad-lightbox-open");t.editabilityTimeout&&clearTimeout(t.editabilityTimeout)
;if(null!=t.editableStateBeforeLightbox){t.mainAce.contents.setEditable(t.editableStateBeforeLightbox);t.editableStateBeforeLightbox=null}t.mainAce.selection.internalUpdateSelectionFromRep(!0)
;t.setState({zoomLevel:w.LightboxZoomLevel.Fit});t.removeLightboxTimeout=null};this.lightboxCommentsUI&&this.lightboxCommentsUI.clearHighlightThread();var n=this.currentItem.exit(null)
;this.currentItem=null;this.itemToLeft=null;this.itemToRight=null;if(n){var i=Math.min(Date.now()-this.openLightboxStartTime,O);this.removeLightboxTimeout=this.timers.setTimeout(a,i)}else a()}}
;t.prototype.setStateOfLeftRightPaddles=function(){var e,t;if(this.currentItem){t=this.props.getNextItem(this.currentItem,!1);e=this.props.getNextItem(this.currentItem,!0)}this.setState({
leftDisabled:!e,rightDisabled:!t})};t.prototype.onEditableUpdate=function(){this.currentItem&&(this.editableStateBeforeLightbox=this.mainAce.contents.getEditableState())}
;t.prototype.moveToAdjacentItem=function(e,t){if(this.currentItem){var a=this.props.getNextItem(this.currentItem,e==n.LEFT);if(a){this.setLightboxItem(a,this.currentItem);(0,
N.trackUi)("Navigate Lightbox",{reason:t})}}};t.prototype.getAnnotationsEnabled=function(){return this.state.annotationsEnabled&&!this.props.deviceInfo.isPhone}
;t.prototype.getLightboxItemRenderParams=function(e){return{mainAce:this.mainAce,highlightedAnnotationStore:this.highlightedAnnotationStore,toggleAnnotations:this.setAnnotationsEnabled,
annotationsEnabled:this.getAnnotationsEnabled(),lightboxMessaging:this.lightboxMessaging,previousItem:e,zoomLevel:this.state.zoomLevel,
onKeyDownWithinFilePreviewIframe:this.onKeyDownWithinFilePreviewIframe}};t.prototype.getNextItemAndRenderItem=function(e){var t=this.props.getNextItem(this.currentItem,e);return t?{lightboxItem:t,
renderedLightboxItem:t.getReactComponent(this.getLightboxItemRenderParams(this.currentItem))}:null};t.prototype.setLightboxItem=function(e,t){
this.lightboxMessaging&&this.lightboxMessaging.clearAllMessages();t&&!this.isLightboxSwipeable()&&t.exit(e)
;var a=e.equals(this.state.preloadedLightboxItem),n=this.isLightboxSwipeable()?this.loadLeftRightItemsIfNeeded:null,o=e.equals(this.itemToLeft),i=e.equals(this.itemToRight);if((i||o)&&n){
var r=function(e){return P.cloneElement(e,{previousItem:t})};if(i){this.itemToLeft.exit(e);this.itemToLeft=this.currentItem;this.currentItem=this.itemToRight;this.itemToRight=null
;this.setState((function(e){return{leftRenderedLightboxItem:e.renderedLightboxItem,renderedLightboxItem:r(e.rightRenderedLightboxItem),rightRenderedLightboxItem:null}}))}else{this.itemToRight.exit(e)
;this.itemToRight=this.currentItem;this.currentItem=this.itemToLeft;this.itemToLeft=null;this.setState((function(e){return{leftRenderedLightboxItem:null,
renderedLightboxItem:r(e.leftRenderedLightboxItem),rightRenderedLightboxItem:e.renderedLightboxItem}}))}n();a=!0}else{this.currentItem=a?this.state.preloadedLightboxItem:e;this.itemToRight=null
;this.itemToLeft=null}this.currentItem.willEnter(t);if(a)this.setState({preloadedLightboxItem:void 0},n);else{var s=this.getLightboxItemRenderParams(t),l=this.currentItem.getReactComponent(s)
;this.setAnnotationsEnabled(this.currentItem.annotationsEnabledOnLoad());this.setState({preloadedLightboxItem:void 0,renderedLightboxItem:l},n)}this.props.deviceInfo.isPhone&&this.showArrows()
;this.setStateOfLeftRightPaddles()};t.prototype.isDisplayingEquivalentItem=function(e){return!!this.currentItem&&this.currentItem.equals(e)};t.prototype.currentItemIsImage=function(){
return this.currentItem&&this.currentItem instanceof b.ImageLightboxItem};t.prototype.renderZoomToggle=function(){var e,t,a;if(this.state.zoomLevel==w.LightboxZoomLevel.OriginalSize){
e=s.FullscreenExitLine;t=P.createElement(B,o.__assign({},H.zoomFit));a=U(H.zoomFit)}else{e=s.FullscreenLine;t=P.createElement(B,o.__assign({},H.zoomFull));a=U(H.zoomFull)}
return P.createElement(r.default,{className:"ace-pad-lightbox-zoom-toggle lightbox-clickable",variant:"transparent",isIcon:!0,onClick:this.toggleZoom,key:"zoom-toggle",tooltip:{title:t},"aria-label":a
},P.createElement(D.UIIcon,{src:e}))};t.prototype.renderCaption=function(e){return this.currentItem?P.createElement(C.default,{hasHeader:e,stores:this.props.stores,mainAce:this.mainAce,
lightboxPreview:this.currentItem.getLightboxPreview()}):null};t.prototype.isLightboxSwipeable=function(){return this.state.zoomLevel==w.LightboxZoomLevel.Fit&&(0,
E.isPhone)()&&this.props.deviceInfo.isPhone&&!i.isUndefined(this.props.numberOfLightboxItems)&&this.props.numberOfLightboxItems>=3};t.prototype.renderLightboxBody=function(){
var e=this,t=this.state,a=t.renderedLightboxItem,n=t.leftRenderedLightboxItem,r=t.rightRenderedLightboxItem,s=t.zoomLevel,d={disableAnimations:!0,annotationsEnabled:!1},c=[d,null,d].map((function(t){
return o.__assign({zoomLevel:s,annotationsEnabled:e.getAnnotationsEnabled()},t)})),u=i.zip(c,[n,a,r]).map((function(e){var t=e[0],a=e[1];return a&&P.cloneElement(a,t)
})),p=this.state.mobileFooterMode==x.MobileFooterMode.DEFAULT,m=l("center-children",{"mobile-footer-is-default":p,"lightbox-clickable":this.props.deviceInfo.isPhone})
;return P.createElement(F.default,{className:m,onSwipeLeft:!this.state.leftDisabled&&this.onSwipeLeft,onSwipeRight:!this.state.rightDisabled&&this.onSwipeRight,onSwipeUp:p&&this.closeMobileFooter,
onSwipeDown:function(){return e._removeLightbox("swipe down")},onTap:p&&this.closeMobileFooter,disabled:!this.isLightboxSwipeable(),animationEnabled:!0},u)}
;t.prototype.getLightboxPagination=function(){if(this.mainAce&&this.mainAce.media&&this.currentItem){var e=this.mainAce.media.getAllLightboxableElements();return{
current:e.indexOf(this.currentItem.getElement())+1,total:e.length}}return null};t.prototype.render=function(){
var e,t=this,a=this.props.deviceInfo.isPhone,i=this.state.isCollapsed?P.createElement(B,o.__assign({},H.showComments)):P.createElement(B,o.__assign({},H.hideComments)),d=U(H.openSidebar),u=U(H.closeSidebar),h=this.state.isCollapsed?d:u,f=this.state.isCollapsed?s.ExpandLeftLine:s.CollapseRightLine,g=P.createElement("div",{
className:"toggle-collapse-container-dig"},P.createElement(r.default,{isIcon:!0,variant:"transparent",onClick:this.toggleCollapse,tooltip:{title:i,placement:"left"},"aria-label":h
},P.createElement(D.UIIcon,{src:f})));this.currentItemIsImage()&&(e=this.renderZoomToggle())
;var b,E=this.currentItem&&this.currentItem.getUIRenderer(),k=E&&E.renderActionButtons(a),C=E&&E.renderHeading(),M=this.renderCaption(!!C),F=a?null:C,A=a?P.createElement(x.default,{
mode:this.state.mobileFooterMode,onModeChange:this.onMobileFooterModeChange
},C,M):null,L=this.state.annotationsEnabled&&!this.props.deviceInfo.isMobile,O=this.currentItem&&this.currentItem.getLightboxPreview()
;if(this.props.commentButtonsWhenCollapsed&&this.state.isCollapsed&&!a){var R=void 0;if(L){var W=U(H.addAnnotation);R=P.createElement(r.default,{isIcon:!0,variant:"transparent",
className:"sidebar-annotation-button",onClick:this.handleAnnotationButtonClick,tooltip:{title:W,placement:"left"},"aria-label":W},P.createElement(D.UIIcon,{src:s.AddCommentLine}))}
var j=U(H.createComment);b=P.createElement("div",{className:"sidebar-comment-button-container"},P.createElement(r.default,{isIcon:!0,variant:"transparent",className:"sidebar-comment-button",
onClick:this.handleCommentButtonClick,tooltip:{title:j,placement:"left"},"aria-label":j},P.createElement(D.UIIcon,{src:s.CommentLine})),R)}
var q=a||this.props.hideSidebarUI?null:P.createElement("div",{id:"lightbox-sidebar"},g,b,P.createElement("div",{className:"lightbox-sidebar-content"
},F,this.state.isCollapsed?null:M,P.createElement("div",{id:"comments-lightbox"},this.state.isEditorLoaded&&this.props.editor.comments?P.createElement(m.DraftManagedCommentsUI,{
editor:this.props.editor,onCommentsUIRef:function(e){return t.lightboxCommentsUI=e},lightboxPreview:O,currItem:this.currentItem,onOpenLink:this.props.onOpenLink,stores:this.props.stores,
onRequestAnnotation:this.handleRequestAnnotation,onHighlight:this.expandSidebar,onCancelAnnotation:this.handleCancelAnnotation,onDetachAnnotation:this.handleDetachAnnotation,
onPostAnnotation:this.handlePostAnnotation,annotationsEnabled:this.getAnnotationsEnabled(),canAttachAnnotations:L,highlightedAnnotationStore:this.highlightedAnnotationStore,
forceLoggedOutView:this.props.forceLoggedOutView}):null))),V=U(H.nextButton),z=U(H.previousButton),K=U(H.closeButton),G=l({"ace-pad-lightbox":!0,"lightbox-sidebar-collapsed":this.state.isCollapsed,
"lightbox-zoom-original":this.state.zoomLevel==w.LightboxZoomLevel.OriginalSize,"lightbox-zoom-fit":this.state.zoomLevel==w.LightboxZoomLevel.Fit,"show-arrows":this.state.showMobileArrows
}),Y=l("ace-lightbox-item",{"ace-lightbox-item-mobile":a}),Z=P.createElement(S.default,{editor:this.mainAce
}),Q=this.state.isOpen&&(this.props.deviceInfo.isMobile||this.currentItem&&this.currentItem.hasScrollingContent),J=function(e){e();t.clearArrowTimeout()
},X=this.getLightboxPagination(),$=[P.createElement(r.default,{variant:"transparent",isIcon:!0,key:"left",className:"lightbox-clickable lightbox-arrow lightbox-left",onClick:function(){
return J((function(){return t.moveToAdjacentItem(n.LEFT,"left-arrow")}))},disabled:this.state.leftDisabled,"aria-label":z},P.createElement(D.UIIcon,{src:s.ChevronLeftLine})),X?P.createElement("div",{
className:"lightbox-page-indicator",key:"pagination-value"},P.createElement(B,o.__assign({},H.pageIndicator,{values:X}))):null,P.createElement(r.default,{variant:"transparent",isIcon:!0,key:"right",
className:"lightbox-clickable lightbox-arrow lightbox-right",onClick:function(){return J((function(){return t.moveToAdjacentItem(n.RIGHT,"right-arrow")}))},disabled:this.state.rightDisabled,
"aria-label":V},P.createElement(D.UIIcon,{src:s.ChevronRightLine}))],ee=(0,y.isApollo)()?P.createElement(v.default,{className:"lightbox-close lightbox-close-apollo","aria-label":K,onClick:function(){
t._removeLightbox("x-button")}},P.createElement(B,o.__assign({},H.close))):P.createElement(r.default,{isIcon:!0,variant:"transparent",className:"lightbox-close","aria-label":K,onClick:function(){
t._removeLightbox("x-button")}},P.createElement(D.UIIcon,{src:s.CloseLine}));return P.createElement(N.TrackContext,{trackContext:N.AppContext.Lightbox
},P.createElement(T.default,null,P.createElement(_.LayerContext.Provider,{value:{zIndex:c.default.zindex_above_lightbox_content}},P.createElement("div",{id:"AcePadLightbox",className:G
},P.createElement("div",{className:"ace-lightbox-container",ref:function(e){t.lightboxContainerElement=e},tabIndex:-1,"aria-label":U(H.ariaLabel),role:"region"},P.createElement("div",{
className:"ace-lightbox-item-container"},P.createElement("div",{className:"lightbox-header"},ee,!a&&$,k,e),P.createElement("div",{className:Y
},this.renderLightboxBody(),Z,a&&$,A),P.createElement(I.default,{ref:function(e){return t.lightboxMessaging=e}})),q),Q?P.createElement(p.default,null):null))))};t.displayName="Lightbox"
;return t=o.__decorate([f.default],t)}(P.PureComponent);t.default=(0,A.withDeviceInfo)(W)},655:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(2),i=a(54),r=a(11),s=a(0),l=(0,a(5).PaperIntlFactory)().F,d=(0,o.defineMessages)({editingtemplate:{id:"bT1SIy",defaultMessage:"Editing template"},commentingontemplate:{id:"PNcPxP",
defaultMessage:"Commenting on template"}}),c=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.setEditableState=function(){a.props.mainAce&&a.setState({
editableState:a.props.mainAce.contents.getEditableState()})};a.state={editableState:i.EditableState.Readonly};return a}t.prototype.componentDidUpdate=function(e,t){
!e.mainAce&&this.props.mainAce&&this.events.on(this.props.mainAce.observer,"editable-state-changed",this.setEditableState)};t.prototype.render=function(){var e,t=this.state.editableState
;t==i.EditableState.Editable?e=s.createElement(l,n.__assign({},d.editingtemplate)):t==i.EditableState.CommentOnly&&(e=s.createElement(l,n.__assign({},d.commentingontemplate)))
;return s.createElement("div",{className:"main-header-center template-logged-in-center-header"},s.createElement("h1",null,e))};t.displayName="TemplateLoggedInCenterHeader"
;return t=n.__decorate([r.default],t)}(s.Component);t.default=c},656:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(4),i=a(21),r=a(3),s=a(53),l=a(2),d=a(7),c=a(11),u=a(83),p=a(0),m=a(159),h=a(48),f=a(29),g=(0,a(5).PaperIntlFactory)().F,v=(0,l.defineMessages)({couldntcreatedoc:{id:"bMplXN",
defaultMessage:"Couldn't create doc"},createdoc:{id:"9+xz+G",defaultMessage:"Create doc"},youarecurrentlyofflineCreateanewdocfromthistemplatewhenyouarebackonline:{id:"57M7E+",
defaultMessage:"You are currently offline. Create a new doc from this template when you are back online."}}),b=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this
;a.createDocFromTemplate=function(e){if(!a.state.buttonDisabledFromClick){a.setState({buttonDisabledFromClick:!0});var t,i=a.props.localPadId;u.shouldOpenInNewTab(e)&&(t=(0,
f.unsafeWindowOpen)("about:blank"));m.createDocFromTemplate({templateId:i,templateType:d.TemplateType.custom,trackContext:o.AppContext.PadHeader.toString(),successHandler:function(e){if(t&&!t.closed){
t.location.replace(a.props.app.constructUrl(s.default.PAD,{id:e.padId,suffix:"?createFromTemplate=1"}));a.setState({buttonDisabledFromClick:!1})}else{e.cloudDocId?a.props.app.navigateToPad({
id:e.padId,suffix:"?createFromTemplate=1",cloudDocId:e.cloudDocId}):a.props.app.navigateToPad({id:e.padId,suffix:"?createFromTemplate=1"});a.timers.setTimeout((function(){a.setState({
buttonDisabledFromClick:!1})}),1e3)}return!0},errorHandler:function(e){a.setState({buttonDisabledFromClick:!1});h.default.show(p.createElement(h.default,{autoDismiss:!0,autoDismissDelayMs:5e3
},p.createElement(g,n.__assign({},v.couldntcreatedoc))));return!0}})}};a.state={buttonDisabledFromClick:!1};return a}t.prototype.render=function(){
var e=this.state.buttonDisabledFromClick,t=this.props,a=t.desktopStyle,o=t.isOffline,s=p.createElement(g,n.__assign({},v.createdoc)),l=r("use-template-button",{"desktop-style":!!a
}),d=o?p.createElement(g,n.__assign({},v.youarecurrentlyofflineCreateanewdocfromthistemplatewhenyouarebackonline)):void 0,c=o?{title:d}:void 0;return p.createElement(i.default,{
inverse:!this.props.desktopStyle,className:r(l,"use-template-button-dig"),onClick:this.createDocFromTemplate,variant:"outline",disabled:o||e,isLoading:e,tooltip:c},s)}
;t.displayName="UseTemplateButton";return t=n.__decorate([c.default],t)}(p.PureComponent);t.default=b},657:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(6),i=a(3),r=a(26),s=a(8),l=a(2),d=a(11),c=a(4),u=a(1891),p=a(10),m=a(28),h=a(75),f=a(248),g=a(0),v=a(63),b=a(84),y=a(17),E=a(492),k=a(119),_=a(353),C=a(7),S=(0,
a(5).PaperIntlFactory)().F,w=(0,l.defineMessages)({waiting:{id:"NlC1em",defaultMessage:"Waitingâ€¦"},noworriesnameautosavesyourworkkawaiiFace:{id:"c8hruh",
defaultMessage:"No worries! {name} auto-saves your work. {kawaiiFace}"},commentresolveddate:{id:"rxWrcc",defaultMessage:"Comment resolved {date}"},noresolvedcomments:{id:"oyuPoG",
defaultMessage:"No resolved comments"},countpluraloneselectedwordotherselectedwords:{id:"Ho8vAi",defaultMessage:"{count, plural, one {1 selected word} other {# selected words}}"},
countpluralonewordotherwords:{id:"KK5/kU",defaultMessage:"{count, plural, one {1 word} other {# words}}"},updatedrelativeTime:{id:"BZ5vmi",defaultMessage:"Updated {relativeTime}"},offlinemode:{
id:"zlhcut",defaultMessage:". Offline mode."}}),I=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.cmdSaveTimeout_=null;t.hasSeenSaveMsg=!1;t.timesCmdSaved=0
;t.imePauseTimer=null;t.state={cmdSave:!1,collabPausedForIME:!1,docFocused:!1,mode:"segments",extraRevision:x(t.props.controller),shouldHideForContextualBottomInsertToolbar:!1}
;t.onOpenClicked=function(){if(t.props.controller.isPadEditable()&&!t.props.isOffline){var e={controller:t.props.controller,mode:t.state.mode,onUpdateModeCallback:t.onUpdateMode,
disableUndo:t.props.disableUndo,trackContext:t.getTrackContext()};E.open(e)}};t.onUpdateMode=function(e){t.setState({mode:e})};t.handleFocus=function(){t.timers.setTimeout((function(){t.setState({
docFocused:!0})}),0)};t.handleBlur=function(){t.setState({docFocused:!1})};t.forceUpdateThrottled=o.debounce(t.forceUpdate,100);t.onSaveCallback=function(e){clearTimeout(t.cmdSaveTimeout_)
;t.state.cmdSave||t.timesCmdSaved++;t.setState({cmdSave:!0});var a=t.hasSeenSaveMsg?2e3:5e3;t.hasSeenSaveMsg=!0;t.cmdSaveTimeout_=t.timers.setTimeout((function(){t.setState({cmdSave:!1})}),a)
;e.stopPropagation();e.preventDefault()};t.onSaveCallbackDeprecated=function(){clearTimeout(t.cmdSaveTimeout_);t.state.cmdSave||t.timesCmdSaved++;t.setState({cmdSave:!0})
;var e=t.hasSeenSaveMsg?2e3:5e3;t.hasSeenSaveMsg=!0;t.cmdSaveTimeout_=t.timers.setTimeout((function(){t.setState({cmdSave:!1})}),e);return!1};t.handleCompositionstart=function(){
clearTimeout(t.imePauseTimer);t.imePauseTimer=t.timers.setTimeout((function(){t.setState({collabPausedForIME:!0})}),5e3)};t.handleCompositionend=function(){clearTimeout(t.imePauseTimer)
;t.imePauseTimer=t.timers.setTimeout((function(){t.setState({collabPausedForIME:!1})}),500)};return t}t.prototype.componentDidMount=function(){var e=this,t=this.props.controller
;this.events.on(t,"rep-change",(function(){e.forceUpdateThrottled()}));this.events.on(t,"focus",this.handleFocus);this.events.on(t,"inner-zone-focus",this.handleFocus)
;this.events.on(t,"blur",this.handleBlur);this.events.on(t,"inner-zone-blur",this.handleBlur);this.events.on(t,"document-changed",(function(){e.forceUpdateThrottled()}))
;this.events.on(t.padConnectionStatus,"change",(function(){e.forceUpdateThrottled()}));this.events.on(c.events,"ace-bottom-insert-toolbar-hide",(function(){e.setState({
shouldHideForContextualBottomInsertToolbar:!1})}));this.events.on(c.events,"ace-bottom-insert-toolbar-show",(function(){window.innerWidth<1400&&e.setState({
shouldHideForContextualBottomInsertToolbar:!0})}));this.events.on(t,"initialized",(function(){var t,a=null===(t=e.props.controller)||void 0===t?void 0:t.mainAce
;e.events.on(null==a?void 0:a.observer,"compositionstart",e.handleCompositionstart);e.events.on(null==a?void 0:a.observer,"compositionend",e.handleCompositionend)}))
;k.WindowKeyEvents.define(h.PadHotkeys.Save,this.onSaveCallback);y.default.consumeQueryParam(f.QueryParamNames.OPEN_VERSION_HISTORY)&&this.onOpenClicked()};t.prototype.componentWillUnmount=function(){
k.WindowKeyEvents.off(h.PadHotkeys.Save,this.onSaveCallback)};t.prototype.renderText=function(){
if(this.state.collabPausedForIME)return g.createElement("span",null,g.createElement(S,n.__assign({},w.waiting)));if(this.state.cmdSave)return g.createElement("span",null,g.createElement(S,n.__assign({
values:{name:r.default.siteName,kawaiiFace:this.getSavemoji(this.timesCmdSaved)}},w.noworriesnameautosavesyourworkkawaiiFace)));switch(this.state.mode){case"comments":
var e=this.props.controller.mainAce.comments.getAllThreads().filter((function(e){return e.resolvedDateTime}));if(e&&e.length){var t=e.sort((function(e,t){
return new Date(t.resolvedDateTime).getTime()-new Date(e.resolvedDateTime).getTime()}))[0];return g.createElement("span",null,g.createElement(S,n.__assign({values:{date:g.createElement(b.TimeAgo,{
tooltipAbove:!0,date:t.resolvedDateTime})}},w.commentresolveddate)))}return g.createElement("span",null,g.createElement(S,n.__assign({},w.noresolvedcomments)));case"counts":
var a=this.props.controller.mainAce;if(a){var o=this.state.docFocused&&a.selection.getStart()&&(!a.selection.isCollapsed()||a.managers.getLineManagerWithSpecialSelection()),i=_.getWordCount(a,o)
;return g.createElement("span",null,o?g.createElement(S,n.__assign({values:{count:i}},w.countpluraloneselectedwordotherselectedwords)):g.createElement(S,n.__assign({values:{count:i}
},w.countpluralonewordotherwords)))}return;default:return g.createElement("span",null,g.createElement(S,n.__assign({values:{relativeTime:g.createElement(b.TimeAgo,{tooltipAbove:!0,
date:this.props.controller.lastEditedTime})}},w.updatedrelativeTime)))}};t.prototype.getSavemoji=function(e){return e<3?"^_^":e<4?"à² _à² ":e<5?"(â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»":e<6?"â”¬â”€â”€â”¬â—¡ï¾‰(Â° -Â°ï¾‰)":"Â¯\\_(ãƒ„)_/Â¯"}
;t.prototype.render=function(){if(!this.props.controller.lastEditedTime||m.isMobile()||this.state.shouldHideForContextualBottomInsertToolbar)return null
;var e=this.props.isOffline,t=this.props.controller.getPadType()==C.PadType.binderPage,a=i("hp-versions-button",{"csi-visible":v.isOnButDoNotLog("paper_csi_menu"),
"bug-button-visible":s.default.isDropboxer&&!t,"more-discoverable-sidebars":!this.props.desktopStyle&&!t}),o=this.state.extraRevision?g.createElement(u.default,{target:".hp-versions-button",
extraRevision:this.state.extraRevision,padId:this.props.controller.getPadId()}):null;return g.createElement("div",null,g.createElement(p.default,{onClick:this.onOpenClicked,
disabled:!this.props.controller.isPadEditable()||this.props.isOffline,secondary:!0,className:a,"track-title":"Version History","track-type":this.state.mode,
role:this.props.controller.isPadEditable()?"button":"presentation"},g.createElement("div",null,this.renderText(),e?g.createElement(S,n.__assign({},w.offlinemode)):"")),o)}
;t.displayName="VersionHistoryButton";return t=n.__decorate([d.default,c.trackContextDecorator],t)}(g.Component);function x(e){if(!e)return null;var t=e.getObjectStore();if(!t)return null
;var a=t.getObjectsMatchingQuery({type:"extraRevision",seen:!1,secureAuthorId:s.default.secureUserId});if(a.length>0){for(var n=a[0],o=1;o<a.length;o++)a[o].createdTime>n.createdTime&&(n=a[o])
;return n}return null}t.default=I},658:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(761),i=a(0),r=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.handleResize=function(){var e=t.getCurrentWidth();if(null!==e&&e!=t.width){t.width=e;t.props.onWidthResize(e)}};return t}
t.prototype.componentDidMount=function(){if(o.ResizeObserver){this.observer=new o.ResizeObserver(this.handleResize);this.widthElement&&this.observer.observe(this.widthElement)}}
;t.prototype.componentWillUnmount=function(){if(this.observer){this.observer.disconnect();this.observer=null}};t.prototype.getCurrentWidth=function(){
return this.widthElement?this.widthElement.clientWidth:null};t.prototype.render=function(){var e=this;return i.createElement("div",{className:"width-resize-observer",ref:function(t){
return e.widthElement=t}})};t.displayName="WidthResizeObserver";return t}(i.Component);t.default=r},848:function(e,t,a){var n;Object.defineProperty(t,"__esModule",{value:!0});t.FeedbackPopup=void 0
;var o=a(1),i=a(6),r=a(33),s=a(3),l=a(26),d=a(8),c=a(2),u=a(209),p=a(7),m=a(12),h=a(1500),f=a(73),g=a(14),v=a(43),b=a(108),y=a(7),E=a(23),k=a(0),_=a(1501),C=a(13),S=a(122),w=a(41),I=a(4),x=a(17),T=(0,
g.MsgFactory)("modals"),P=T.defineMessages,M=T.IntlMessageFormat,F=T.F,N=P({subjectPlaceholder:{description:"Placeholder for feedback subject text box",msg:"Brief description"},
defaultFeedbackPlaceholder:{description:"Placeholder for default feedback message",msg:"What's on your mind?"},bugFeedbackPlaceholder:{
description:"Placeholder for feedback message when submitting bug",msg:"Please provide steps to help us reproduce the bug and include screenshots if possible!"},successAltText:{
description:"Alt text for feedback success image (checkmark)",msg:"Success!"},subjectPlaceholderNew:{description:"Placeholder for feedback subject text box",msg:"Brief description"},
bugFeedbackPlaceholderNew:{msg:"Tell us about the issue. Please describe the steps that led to the problem, so we can reproduce it. Add a screenshot, if possible.",
description:"Placholder for feedback message when submitting bug"},featureFeedbackPlaceholderNew:{
msg:"Please describe what would make {productName} better. Feel free to include where or how the feature would be accessed.",description:"Placeholder for feedback message when submitting bug"},
externalFeedbackPlaceholder:{msg:"Give us a brief description of your issue or idea.",description:"Placeholder for feedback message when submitting bug"},externalFeedbackForFileTransfersPlaceholder:{
msg:"Report a problem, request a feature, or give general feedback.",description:"Placeholder for feedback message when submitting bug"},stepsToReproducePlaceholder:{
msg:"What led to the unwanted result? Add a link to the doc or page where you observed the problem.",description:"Placeholder for bug feedback step to reproduce bug text box"},
expectedResultsPlaceholder:{msg:"What did you expect to happen?",description:"Placeholder for bug feedback expected results text box"},actualResultsPlaceholder:{msg:"What actually happened?",
description:"Placeholder for bug feedback actual results text box"},reportProblemPlaceholder:{msg:"Report a problem",description:"Placeholder for the category select menu"},categoryPlaceholder:{
msg:"Choose category",description:"Placeholder for the category select menu"},bugreport:{msg:"Bug report"},featurerequest:{msg:"Feature request"},feedback:{msg:"Feedback"},reportaproblem:{
msg:"Report a problem"},shareanidea:{msg:"Share an idea"},somethingelse:{msg:"Something else"},choosecategory:{msg:"Choose category"},accountmanagement:{msg:"Account management"},binder:{msg:"Binder"
},commenting:{msg:"Commenting"},deletingandarchiving:{msg:"Deleting and archiving"},desktop:{msg:"Desktop"},editingandformattingtext:{msg:"Editing and formatting text"},folders:{msg:"Folders"},
foldersidebar:{msg:"Folder sidebar"},googleandconnectedapps:{msg:"Google and connected apps"},imagesandvideos:{msg:"Images and videos"},notificationsandemail:{msg:"Notifications and email"},
onboarding:{msg:"Onboarding"},presentationmode:{msg:"Presentation mode"},privacy:{msg:"Privacy"},search:{msg:"Search"},sharing:{msg:"Sharing"},tables:{msg:"Tables"},templates:{msg:"Templates"},
timelines:{msg:"Timelines"},tipsandtutorials:{msg:"Tips and tutorials"},todos:{msg:"To-dos"},other:{msg:"Other"},updatesNotifications:{msg:"Updates & Notifications"},content:{msg:"Content"},
navigation:{msg:"Navigation"},paperDocs:{msg:"Paper Docs"},people:{msg:"People"},membershipAPIs:{msg:"Membership APIs"},settings:{msg:"Settings"},spacesHome:{msg:"Spaces Home"},spaceOverview:{
msg:"Space Overview"},tasks:{msg:"Tasks"},meetings:{msg:"Meetings"},meetingsApp:{msg:"Meetings App"},clientsandRequests:{msg:"Clients and Requests"},selectafeedbackcategory:{
msg:"Select a feedback category.",description:"Error message to select from the feedback dropdown."},feedbackInternal:{msg:"Feedback (Internal)"},sendusfeedback:{msg:"Send us feedback"},
sendtoDropbox:{msg:"Send to Dropbox"},send:{msg:"Send"},cancel:{msg:"Cancel"},stepstoreproduce:{msg:"Steps to reproduce"},expectedresults:{msg:"Expected results"},actualresults:{msg:"Actual results"},
pleaseletusknowinslackLinkonSlackinstead:{msg:"Please let us know in {slackLink} on Slack instead."},pleaseemailusinsteadatlineBreaksupportEmailAddress:{
description:"Message in feedback modal encouraging the user to contact support",msg:"Please email us instead, at {lineBreak} {supportEmailAddress}"},therewasaproblemsendingyourfeedback:{
msg:"There was a problem sending your feedback."},done:{msg:"Done"},thankyouIfyoureportedaproblemwemayaskformoreinformationtogettothebottomofit:{
msg:"Thank you! If you reported a problem, we may ask for more information to get to the bottom of it. "},thanksforlettingusknowWellgettothebottomofthis:{
msg:"Thanks for letting us know. Weâ€™ll get to the bottom of this."},thanksforyouridea:{msg:"Thanks for your idea!"},thankyou:{msg:"Thank you."},clickheretoviewyourticket:{
description:"Provides internal users a link for them to view their feedback in Jira",msg:"Click here to view your ticket"}}),D=((0,c.defineMessages)({subjectPlaceholder:{id:"cVJwKU",
defaultMessage:"Brief description"},defaultFeedbackPlaceholder:{id:"u5G9mc",defaultMessage:"What's on your mind?"},bugFeedbackPlaceholder:{id:"nak3BV",
defaultMessage:"Please provide steps to help us reproduce the bug and include screenshots if possible!"},successAltText:{id:"VfUzSy",defaultMessage:"Success!"},subjectPlaceholderNew:{id:"cVJwKU",
defaultMessage:"Brief description"},bugFeedbackPlaceholderNew:{id:"DRijIg",
defaultMessage:"Tell us about the issue. Please describe the steps that led to the problem, so we can reproduce it. Add a screenshot, if possible."},featureFeedbackPlaceholderNew:{id:"MS2liC",
defaultMessage:"Please describe what would make {productName} better. Feel free to include where or how the feature would be accessed."},externalFeedbackPlaceholder:{id:"bIr+uE",
defaultMessage:"Give us a brief description of your issue or idea."},externalFeedbackForFileTransfersPlaceholder:{id:"wvLg7f",
defaultMessage:"Report a problem, request a feature, or give general feedback."},stepsToReproducePlaceholder:{id:"T2UCFj",
defaultMessage:"What led to the unwanted result? Add a link to the doc or page where you observed the problem."},expectedResultsPlaceholder:{id:"pLz/3H",defaultMessage:"What did you expect to happen?"
},actualResultsPlaceholder:{id:"mHweWl",defaultMessage:"What actually happened?"},reportProblemPlaceholder:{id:"7BhVE0",defaultMessage:"Report a problem"},categoryPlaceholder:{id:"VPlEVA",
defaultMessage:"Choose category"},bugreport:{id:"Wn7lrM",defaultMessage:"Bug report"},featurerequest:{id:"lN3Dlh",defaultMessage:"Feature request"},feedback:{id:"yNdnfh",defaultMessage:"Feedback"},
reportaproblem:{id:"JPP1Le",defaultMessage:"Report a problem"},shareanidea:{id:"mSFQbA",defaultMessage:"Share an idea"},somethingelse:{id:"SPiKwy",defaultMessage:"Something else"},choosecategory:{
id:"oj7/cW",defaultMessage:"Choose category"},accountmanagement:{id:"82C4Ti",defaultMessage:"Account management"},binder:{id:"zyb2nV",defaultMessage:"Binder"},commenting:{id:"AcTLHd",
defaultMessage:"Commenting"},deletingandarchiving:{id:"ps9DPQ",defaultMessage:"Deleting and archiving"},desktop:{id:"Uyxn/h",defaultMessage:"Desktop"},editingandformattingtext:{id:"XOF0H6",
defaultMessage:"Editing and formatting text"},folders:{id:"Ga3Ee+",defaultMessage:"Folders"},foldersidebar:{id:"WpGxYH",defaultMessage:"Folder sidebar"},googleandconnectedapps:{id:"Q7GJ0H",
defaultMessage:"Google and connected apps"},imagesandvideos:{id:"JCpPbc",defaultMessage:"Images and videos"},notificationsandemail:{id:"c2FZIL",defaultMessage:"Notifications and email"},onboarding:{
id:"jUngZa",defaultMessage:"Onboarding"},presentationmode:{id:"Jt0fQ4",defaultMessage:"Presentation mode"},privacy:{id:"zwFIH2",defaultMessage:"Privacy"},search:{id:"vOBkFB",defaultMessage:"Search"},
sharing:{id:"eHebre",defaultMessage:"Sharing"},tables:{id:"GT2vE3",defaultMessage:"Tables"},templates:{id:"8ltwDt",defaultMessage:"Templates"},timelines:{id:"Ap6KCv",defaultMessage:"Timelines"},
tipsandtutorials:{id:"C9dEbP",defaultMessage:"Tips and tutorials"},todos:{id:"bOCNa+",defaultMessage:"To-dos"},other:{id:"bmpvII",defaultMessage:"Other"},updatesNotifications:{id:"8rmVWF",
defaultMessage:"Updates & Notifications"},content:{id:"T5vgV/",defaultMessage:"Content"},navigation:{id:"zwPPLp",defaultMessage:"Navigation"},paperDocs:{id:"c9fjgy",defaultMessage:"Paper Docs"},
people:{id:"s3VU9p",defaultMessage:"People"},membershipAPIs:{id:"Jfxl79",defaultMessage:"Membership APIs"},settings:{id:"x/c7tU",defaultMessage:"Settings"},spacesHome:{id:"NaSyAj",
defaultMessage:"Spaces Home"},spaceOverview:{id:"kq+nKN",defaultMessage:"Space Overview"},tasks:{id:"CQ7F9W",defaultMessage:"Tasks"},meetings:{id:"sjoZOH",defaultMessage:"Meetings"},meetingsApp:{
id:"dP8hC3",defaultMessage:"Meetings App"},clientsandRequests:{id:"wWmhOc",defaultMessage:"Clients and Requests"},selectafeedbackcategory:{id:"dKDpY6",defaultMessage:"Select a feedback category."},
feedbackInternal:{id:"+jsJjQ",defaultMessage:"Feedback (Internal)"},sendusfeedback:{id:"Cteye/",defaultMessage:"Send us feedback"},sendtoDropbox:{id:"ode68M",defaultMessage:"Send to Dropbox"},send:{
id:"m8JXXD",defaultMessage:"Send"},cancel:{id:"d9/SE1",defaultMessage:"Cancel"},stepstoreproduce:{id:"Gvc4gy",defaultMessage:"Steps to reproduce"},expectedresults:{id:"oqghA3",
defaultMessage:"Expected results"},actualresults:{id:"hCUPkO",defaultMessage:"Actual results"},pleaseletusknowinslackLinkonSlackinstead:{id:"VzaJIx",
defaultMessage:"Please let us know in {slackLink} on Slack instead."},pleaseemailusinsteadatlineBreaksupportEmailAddress:{id:"UCDH1d",
defaultMessage:"Please email us instead, at {lineBreak} {supportEmailAddress}"},therewasaproblemsendingyourfeedback:{id:"pWwArM",defaultMessage:"There was a problem sending your feedback."},done:{
id:"6bRQ0U",defaultMessage:"Done"},thankyouIfyoureportedaproblemwemayaskformoreinformationtogettothebottomofit:{id:"Ducrnx",
defaultMessage:"Thank you! If you reported a problem, we may ask for more information to get to the bottom of it. "},thanksforlettingusknowWellgettothebottomofthis:{id:"x1FF39",
defaultMessage:"Thanks for letting us know. Weâ€™ll get to the bottom of this."},thanksforyouridea:{id:"yHNzs9",defaultMessage:"Thanks for your idea!"},thankyou:{id:"F0U0xr",defaultMessage:"Thank you."
},clickheretoviewyourticket:{id:"7AsMmH",defaultMessage:"Click here to view your ticket"}}),String(new Date)),A={bug:k.createElement(F,o.__assign({},N.bugreport)),
feature:k.createElement(F,o.__assign({},N.featurerequest)),feedback:k.createElement(F,o.__assign({},N.feedback))},L={bug:k.createElement(F,o.__assign({},N.reportaproblem)),
feature:k.createElement(F,o.__assign({},N.shareanidea)),feedback:k.createElement(F,o.__assign({},N.somethingelse))
},O=((n={})[p.FeedbackCategories.Unknown]=k.createElement(F,o.__assign({},N.choosecategory)),n[p.FeedbackCategories.Account]=k.createElement(F,o.__assign({},N.accountmanagement)),
n[p.FeedbackCategories.Binder]=k.createElement(F,o.__assign({},N.binder)),n[p.FeedbackCategories.Comments]=k.createElement(F,o.__assign({},N.commenting)),
n[p.FeedbackCategories.DocActions]=k.createElement(F,o.__assign({},N.deletingandarchiving)),n[p.FeedbackCategories.Desktop]=k.createElement(F,o.__assign({},N.desktop)),
n[p.FeedbackCategories.EditorGeneral]=k.createElement(F,o.__assign({},N.editingandformattingtext)),n[p.FeedbackCategories.Folders]=k.createElement(F,o.__assign({},N.folders)),
n[p.FeedbackCategories.FolderSidebar]=k.createElement(F,o.__assign({},N.foldersidebar)),n[p.FeedbackCategories.Integrations]=k.createElement(F,o.__assign({},N.googleandconnectedapps)),
n[p.FeedbackCategories.Embeds]=k.createElement(F,o.__assign({},N.imagesandvideos)),n[p.FeedbackCategories.Notifs]=k.createElement(F,o.__assign({},N.notificationsandemail)),
n[p.FeedbackCategories.Onboarding]=k.createElement(F,o.__assign({},N.onboarding)),n[p.FeedbackCategories.Presentation]=k.createElement(F,o.__assign({},N.presentationmode)),
n[p.FeedbackCategories.Privacy]=k.createElement(F,o.__assign({},N.privacy)),n[p.FeedbackCategories.Search]=k.createElement(F,o.__assign({},N.search)),
n[p.FeedbackCategories.Sharing]=k.createElement(F,o.__assign({},N.sharing)),n[p.FeedbackCategories.Tables]=k.createElement(F,o.__assign({},N.tables)),
n[p.FeedbackCategories.Templates]=k.createElement(F,o.__assign({},N.templates)),n[p.FeedbackCategories.Timelines]=k.createElement(F,o.__assign({},N.timelines)),
n[p.FeedbackCategories.Tutorials]=k.createElement(F,o.__assign({},N.tipsandtutorials)),n[p.FeedbackCategories.Tasks]=k.createElement(F,o.__assign({},N.todos)),
n[p.FeedbackCategories.General]=k.createElement(F,o.__assign({},N.other)),n),R=o.__assign({},O);function U(e){return e===y.ProductType.Spaces?function(){var e,t=(e={},
e[p.SpacesCategories.Unknown]=k.createElement(F,o.__assign({},N.choosecategory)),e[p.SpacesCategories.Updates]=k.createElement(F,o.__assign({},N.updatesNotifications)),
e[p.SpacesCategories.Content]=k.createElement(F,o.__assign({},N.content)),e[p.SpacesCategories.Navigation]=k.createElement(F,o.__assign({},N.navigation)),
e[p.SpacesCategories.Onboarding]=k.createElement(F,o.__assign({},N.onboarding)),e[p.SpacesCategories.PaperDocs]=k.createElement(F,o.__assign({},N.paperDocs)),
e[p.SpacesCategories.People]=k.createElement(F,o.__assign({},N.people)),e[p.SpacesCategories.MembershipAPIs]=k.createElement(F,o.__assign({},N.membershipAPIs)),
e[p.SpacesCategories.Search]=k.createElement(F,o.__assign({},N.search)),e[p.SpacesCategories.Settings]=k.createElement(F,o.__assign({},N.settings)),
e[p.SpacesCategories.Home]=k.createElement(F,o.__assign({},N.spacesHome)),e[p.SpacesCategories.Overview]=k.createElement(F,o.__assign({},N.spaceOverview)),
e[p.SpacesCategories.Tasks]=k.createElement(F,o.__assign({},N.tasks)),e[p.SpacesCategories.Meetings]=k.createElement(F,o.__assign({},N.meetings)),
e[p.SpacesCategories.MeetingsApp]=k.createElement(F,o.__assign({},N.meetingsApp)),e[p.SpacesCategories.Clients]=k.createElement(F,o.__assign({},N.clientsandRequests)),e)
;d.default.isDropboxer&&(t[p.SpacesCategories.Desktop]=k.createElement(F,o.__assign({},N.desktop)));return t}():d.default.isComposerTeam?R:O}var B,H={status:p.FeedbackFormStatuses.Default,
lastOpen:new Date,type:p.FeedbackTypes.Bug,category:p.FeedbackCategories.Unknown,subject:"",message:"",likertValue:null,screenshotUrl:null,missingCategory:!1,stepsToReproduceMsg:"",
expectedResultsMsg:"",actualResultsMsg:"",jiraTicketUrl:null};!function(e){e[e.Internal=1]="Internal";e[e.External=2]="External";e[e.ExternalForFileTransfers=3]="ExternalForFileTransfers"}(B||(B={}))
;var W=function(e){o.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.state=o.__assign({},H);a.close=function(){var e;null===(e=a.context.panels)||void 0===e||e.closeAll()
;var t,n=a.state,o=n.status,i=n.lastOpen,r=new Date;t=o==p.FeedbackFormStatuses.Success||r.getTime()-i.getTime()>5*w.Time.MINUTE?H:{status:p.FeedbackFormStatuses.Default};a.setState(t)}
;a.handleScreenshotAttached=function(e){a.setState({screenshotUrl:e})};a.onClose=function(){a.setState({lastOpen:new Date,status:p.FeedbackFormStatuses.Default})};a.handleTypeSelect=function(e){
a.setState({type:e})};a.handleCategorySelect=function(e){a.setState({category:e,missingCategory:!1})};a.handleFieldKeyDown=function(e){
if(a.isInputValid()&&e.which==v.KeyCode.ENTER&&x.default.events.testAccelKey(e)){e.preventDefault();a.handleSubmit()}else;};a.handleSubjectChange=function(e){a.setState({subject:e.currentTarget.value
})};a.handleMessageChange=function(e){a.setState({message:e.currentTarget.value})};a.handleStepsToReproduceChange=function(e){a.setState({stepsToReproduceMsg:e.currentTarget.value})}
;a.handleExpectedResultsChange=function(e){a.setState({expectedResultsMsg:e.currentTarget.value})};a.handleActualResultsChange=function(e){a.setState({actualResultsMsg:e.currentTarget.value})}
;a.handleSubmit=function(){return o.__awaiter(a,void 0,void 0,(function(){var e,t,a,n,i,r,s,l,d,c,u,m,h,f,g,v;return o.__generator(this,(function(b){switch(b.label){case 0:e=this.getModalVersion()
;t=this.state,a=t.type,n=t.category,i=t.subject,r=t.message,s=t.screenshotUrl,l=t.stepsToReproduceMsg,d=t.expectedResultsMsg,c=t.actualResultsMsg
;e===B.ExternalForFileTransfers&&this.state.likertValue&&(r="Satisfaction: ".concat(this.state.likertValue,"\n\n").concat(r));u=this.props.productType,m=void 0===u?y.ProductType.Paper:u
;if(n==p.FeedbackCategories.Unknown&&e==B.Internal){this.setState({missingCategory:!0});return[2]}
e==B.Internal&&a==p.FeedbackTypes.Bug&&(r=r||"Steps to reproduce: \n".concat(l," \nExpected results: \n").concat(d," \nActual results: \n").concat(c," \n"));50
;e===B.Internal||i||(i=r&&r.length>50?r.substr(0,50)+"...":r)
;h=n==p.FeedbackCategories.Unknown?"".concat(i," â€” ").concat(A[a].props.msg):"".concat(i," â€” ").concat(U(m)[n].props.msg," ")+"".concat(A[a].props.msg.toLowerCase());this.setState({
status:p.FeedbackFormStatuses.Sending});(0,I.track)("feedback-submit");f={};if(!this.props.getExtraFeedbackData)return[3,4];b.label=1;case 1:b.trys.push([1,3,,4])
;return[4,this.props.getExtraFeedbackData()];case 2:f=b.sent();(0,I.trackEng)("Successfully got extra feedback data");return[3,4];case 3:g=b.sent();(0,
I.trackEng)("Failed to get extra feedback data",g);return[3,4];case 4:v=o.__assign({feedback:r,feedbackType:a,feedbackCategory:n,padId:window.App&&App.getCurrentPadId(),subject:h,pageOpened:D,
screenshotUrl:s,sourceMapVersions:JSON.stringify(window.sourceMapVersions),feedbackContext:this.props.feedbackContext,clientUrl:m===y.ProductType.Spaces?document.URL:void 0},f);this.submitFeedback(v)
;return[2]}}))}))};a.submitFeedback=function(e){m.post({url:"/ep/feedback",data:e,analyticsTag:"submit-feedback",shardingKey:m.getStatelessShardingKey(),successHandler:function(e){var t=e.taskUrl
;a.setState({status:p.FeedbackFormStatuses.Success,jiraTicketUrl:t})},errorHandler:function(){a.setState({status:p.FeedbackFormStatuses.Failure})}})};return a}t.prototype.render=function(){
var e=s("hp-feedback-popup",{"hp-file-transfer-feedback-popup":this.getModalVersion()===B.ExternalForFileTransfers});return k.createElement(I.TrackContext,{trackContext:I.AppContext.App
},k.createElement(u.DigModalWrapper,{panelId:"feedback",className:e,onClose:this.onClose,isCentered:!0},k.createElement(g.IntlProvider,{locale:d.default.userLocale},k.createElement("div",{
className:"hp-popup-content hp-feedback-popup-content"},this.renderBody()))))};t.prototype.allowScreenshot=function(){return this.props.productType===y.ProductType.Paper||this.props.isBinderPage}
;t.prototype.renderBody=function(){var e=this.getModalVersion(),t=this.props.productType,a=void 0===t?y.ProductType.Paper:t,n=this.state,l=n.status,c=n.type,u=n.subject,m=n.message,f=n.missingCategory
;switch(l){case p.FeedbackFormStatuses.Sending:return this.renderSending();case p.FeedbackFormStatuses.Failure:return this.renderFailure();case p.FeedbackFormStatuses.Success:
return this.renderSuccess()}var g,v,E,C=this.allowScreenshot()?k.createElement(_.default,{onScreenshotAttached:this.handleScreenshotAttached,tabIndex:6,isBinderFeedbackForm:this.props.isBinderPage,
localPadId:this.props.localPadId}):null,w={},I={};switch(e){case B.Internal:w=L;I=U(a);g=N.bugFeedbackPlaceholderNew;E=N.defaultFeedbackPlaceholder;v=N.featureFeedbackPlaceholderNew;break
;case B.External:g=v=E=N.externalFeedbackPlaceholder;break;case B.ExternalForFileTransfers:g=v=E=N.externalFeedbackForFileTransfersPlaceholder}var x,T=i.map(w,(function(e,t){
return k.createElement(S.Select.Option,{value:t,key:t},e)})),P=i.map(I,(function(e,t){return k.createElement(S.Select.Option,{value:t,key:t},e)
})),D=new M(N.subjectPlaceholder,d.default.userLocale).format();switch(c){case p.FeedbackTypes.Bug:x=g;break;case p.FeedbackTypes.Feature:x=v;break;case p.FeedbackTypes.Feedback:default:x=E}
var A,O=this.props.isBinderPage?"Binder":(0,h.getProductNameFromProductType)(a),R=new M(x,d.default.userLocale).format({productName:O
}),H=new M(N.categoryPlaceholder,d.default.userLocale).format(),W=k.createElement(S.Select,{id:"select-default",placeholder:H,className:s({"hp-feedback-categories-error":f}),tabIndex:2,
onChange:this.handleCategorySelect},P);f&&(A=k.createElement("div",{className:"hp-feedback-user-error"},k.createElement(F,o.__assign({},N.selectafeedbackcategory))))
;var j=k.createElement(F,o.__assign({},N.feedback));switch(e){case B.Internal:j=k.createElement(F,o.__assign({},N.feedbackInternal));break;case B.External:
j=k.createElement(F,o.__assign({},N.sendusfeedback));break;case B.ExternalForFileTransfers:j="Give us feedback"}
var q,V=new M(N.reportProblemPlaceholder,d.default.userLocale).format(),z=e===B.Internal?k.createElement("div",{className:s("hp-feedback-categories",{notranslate:e===B.Internal})
},k.createElement(S.Select,{id:"select-default",placeholder:V,tabIndex:1,onChange:this.handleTypeSelect},T),k.createElement("br",null),W):null,K=e===B.Internal?k.createElement(S.TextInput,{
className:"notranslate",placeholder:D,value:u,tabIndex:2,onKeyDown:this.handleFieldKeyDown,onChange:this.handleSubjectChange}):null,G=k.createElement(S.TextArea,{tabIndex:3,
className:"hp-feedback-message notranslate",value:m,placeholder:R,onKeyDown:this.handleFieldKeyDown,onChange:this.handleMessageChange,resizable:"vertical"
}),Y=e===B.Internal&&c===p.FeedbackTypes.Bug?this.renderInternalModalBody(O):G;switch(e){case B.Internal:case B.External:q=k.createElement(F,o.__assign({},N.sendtoDropbox));break
;case B.ExternalForFileTransfers:q="Submit"}var Z=s({"feedback-popup-with-screenshot":this.allowScreenshot(),"feedback-external-facing":e!==B.Internal,
"feedback-for-file-transfer":e===B.ExternalForFileTransfers});return k.createElement("div",{className:Z},k.createElement(b.Modal.Header,{hasBottomSpacing:"title-standard"
},k.createElement(b.Modal.Title,{tagName:"h1"},j)),k.createElement(b.Modal.Body,{hasVerticalSpacing:!0},z,K,Y,C,A),k.createElement(b.Modal.Footer,null,k.createElement(r.Button,{tabIndex:8,
variant:"outline",onClick:this.close},k.createElement(F,o.__assign({},N.cancel))),k.createElement(r.Button,{tabIndex:7,variant:"primary",disabled:!this.isInputValid(),onClick:this.handleSubmit},q)))}
;t.prototype.renderInternalModalBody=function(e){
var t=this.state,a=t.stepsToReproduceMsg,n=t.expectedResultsMsg,i=t.actualResultsMsg,r=new M(N.stepsToReproducePlaceholder,d.default.userLocale).format({productName:e
}),s=new M(N.expectedResultsPlaceholder,d.default.userLocale).format({productName:e}),l=new M(N.actualResultsPlaceholder,d.default.userLocale).format({productName:e
}),c=k.createElement(F,o.__assign({},N.stepstoreproduce)),u=k.createElement(F,o.__assign({},N.expectedresults)),p=k.createElement(F,o.__assign({},N.actualresults)),m=k.createElement("div",{
className:"hp-feedback-textbox-title"},c),h=k.createElement(S.TextArea,{tabIndex:3,className:"hp-feedback-steps-to-reproduce notranslate",value:a,placeholder:r,onKeyDown:this.handleFieldKeyDown,
onChange:this.handleStepsToReproduceChange,resizable:"vertical"}),f=k.createElement("div",{className:"hp-feedback-textbox-title"},u),g=k.createElement(S.TextArea,{tabIndex:4,
className:"hp-feedback-expected-results notranslate",value:n,placeholder:s,onKeyDown:this.handleFieldKeyDown,onChange:this.handleExpectedResultsChange,resizable:"vertical"}),v=k.createElement("div",{
className:"hp-feedback-textbox-title"},p),b=k.createElement(S.TextArea,{tabIndex:5,className:"hp-feedback-actual-results notranslate",value:i,placeholder:l,onKeyDown:this.handleFieldKeyDown,
onChange:this.handleActualResultsChange,resizable:"vertical"});return k.createElement("div",null,m,h,f,g,v,b)};t.prototype.renderSending=function(){return k.createElement("div",{
className:"hp-feedback-sending"},k.createElement("div",{className:"awesome-spinner"}))};t.prototype.renderFailure=function(){var e;e=this.getModalVersion()==B.Internal?k.createElement(F,o.__assign({
values:{slackLink:k.createElement("a",{href:"https://dropbox.slack.com/messages/C02SWDCJF"},"#paper")}},N.pleaseletusknowinslackLinkonSlackinstead)):k.createElement(F,o.__assign({values:{
lineBreak:k.createElement("br",null),supportEmailAddress:k.createElement("a",{href:"mailto:".concat(l.default.supportEmailAddress)},l.default.supportEmailAddress)}
},N.pleaseemailusinsteadatlineBreaksupportEmailAddress));return k.createElement("div",{className:"hp-feedback-response"},k.createElement(b.Modal.Header,{hasBottomSpacing:"title-standard"
},k.createElement(C.default,{name:"warning"})),k.createElement(b.Modal.Body,{hasVerticalSpacing:!0
},k.createElement("p",null,k.createElement("b",null,k.createElement(F,o.__assign({},N.therewasaproblemsendingyourfeedback))),k.createElement("br",null),e,k.createElement("br",null))),k.createElement(b.Modal.Footer,null,k.createElement(r.Button,{
variant:"outline",size:"large",onClick:this.close},k.createElement(F,o.__assign({},N.done)))))};t.prototype.getModalVersion=function(){
return d.default.isDropboxer?B.Internal:"showcase_file_transfer"===this.props.feedbackContext?B.ExternalForFileTransfers:B.External};t.prototype.getSuccessMessageExternal=function(){
return k.createElement(F,o.__assign({},N.thankyouIfyoureportedaproblemwemayaskformoreinformationtogettothebottomofit))};t.prototype.getSuccessMessageInternal=function(e){switch(e){
case p.FeedbackTypes.Bug:return k.createElement(F,o.__assign({},N.thanksforlettingusknowWellgettothebottomofthis));case p.FeedbackTypes.Feature:
return k.createElement(F,o.__assign({},N.thanksforyouridea));case p.FeedbackTypes.Feedback:default:return k.createElement(F,o.__assign({},N.thankyou))}};t.prototype.renderSuccess=function(){
var e,t,a=this.state,n=a.type,i=a.jiraTicketUrl,s=this.getModalVersion();switch(s){case B.Internal:e=this.getSuccessMessageInternal(n);t=k.createElement("p",null,k.createElement(r.Button,{
id:"hp-jira-ticket-link-button",variant:"transparent",href:i,target:"_blank",rel:"noreferrer"},k.createElement(F,o.__assign({},N.clickheretoviewyourticket))));break;case B.External:
case B.ExternalForFileTransfers:e=this.getSuccessMessageExternal()}var l=new M(N.successAltText,d.default.userLocale).format();return k.createElement("div",{className:"hp-feedback-response"
},k.createElement(b.Modal.Header,{hasBottomSpacing:"title-standard"},k.createElement(f.default,{alt:l,src:"/static/img/composer/success.png"})),k.createElement(b.Modal.Body,{hasVerticalSpacing:!0
},e,t),k.createElement(b.Modal.Footer,null,k.createElement(r.Button,{variant:"outline",size:"large",onClick:this.close},k.createElement(F,o.__assign({},N.done)))))}
;t.prototype.isInputValid=function(){
var e=""!=(this.state.message||"").trim(),t=""!=(this.state.stepsToReproduceMsg||"").trim()&&""!=(this.state.expectedResultsMsg||"").trim()&&""!=(this.state.actualResultsMsg||"").trim(),a=!!this.state.likertValue
;return e||a||t};t.contextTypes={panels:E.object};t.displayName="FeedbackPopup";return t}(k.Component);t.FeedbackPopup=W},849:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(3),i=a(8),r=a(1513),s=a(226),l=a(844),d=a(12),c=a(100).freakout,u=a(154),p=a(10),m=a(29),h=a(38),f=a(1515),g=a(157),v=a(7),b=a(23),y=a(0),E=a(26),k=a(1516),_=a(48),C=a(1518),S=a(249),w=a(197),I=a(25),x=a(1519),T=a(18),P=a(4),M=a(1520),F=(0,
I.createReactClass)({displayName:"DebugPanel",contextTypes:{onboardingStore:b.instanceOf(g.default).isRequired},handleClickOutside:function(){this.state.hidden||this.setState({hidden:!0})
;if(this.state.isDirty){var e=this.state.mostRecentFeatureMap;setTimeout((function(){(0,m.locationReload)("debug_panel-handleClickOutside");App.trigger("debug-overrides-changed",e)}),0)
;this.setState({isDirty:!1,mostRecentFeatureMap:null})}},show:function(){this.setState({hidden:!1})},onPauseCollabToggled:function(){this.setState({collabPaused:!this.state.collabPaused})
;this.props.collabClient&&(this.state.collabPaused?this.props.collabClient.socket.unpause("debug unpause"):this.props.collabClient.socket.pause("debug pause"))},onPauseAceToggled:function(){
window.acePausedForDebug=!window.acePausedForDebug;this.setState({acePaused:window.acePausedForDebug})},getInitialState:function(){return{tab:"stormcrow",aceInspect:!!window.aceInspectionForDebug,
acePaused:!!window.acePausedForDebug,collabPaused:!1,hidden:!1,omnibarDebug:!1,mostRecentFeatureMap:null,userSurveyOverride:C.userSurveyDevTool.getOverrideConfig()}},handleDebugOmnibar:function(){
this.setState({omnibarDebug:!this.state.omnibarDebug})},onAceInspect:function(){window.aceInspectionForDebug=!window.aceInspectionForDebug;this.setState({aceInspect:window.aceInspectionForDebug})
;this.refs.inspect.style.display=window.aceInspectionForDebug?"block":"none"
;window.aceInspectionForDebug?document.addEventListener("mousemove",this.handleMousemove):document.removeEventListener("mousemove",this.handleMousemove)},handleMousemove:function(e){
var t=App.getMainAce();if(t&&!t.isDisposed()){var a=(0,T.closest)(e.target,".ace-line");a&&(this.refs.inspect.textContent=(0,s.dump)(t,a))}},enableWhyDidYouRender:function(){M(y,{
trackAllPureComponents:!0,logOwnerReasons:!0,collapseGroups:!0});_.default.show(y.createElement(_.default,{autoDismiss:!0},"Enabling WhyDidYouRender..."));this.setState({hidden:!0})},
componentWillUnmount:function(){var e=document.getElementById("modaloverlay");e&&(e.style.display="none");if(this.state.isDirty){var t=this.state.mostRecentFeatureMap;setTimeout((function(){(0,
m.locationReload)("debug_panel-componentWillUnmount");App.trigger("debug-overrides-changed",t)}),0);this.setState({isDirty:!1,mostRecentFeatureMap:null})}},setMostRecentFeatureMap:function(e){
this.setState({isDirty:!0,mostRecentFeatureMap:e})},setDirty:function(){this.state.isDirty=!0},selectTab_:function(e){this.setState({tab:e.target.dataset.tabid})},onResetClicked:function(e){
var t=this.context.onboardingStore;(t=t||new g.default(i.default,this.props.productType)).clearCompleted((function(){(0,m.locationReload)("debug_panel-resetGroundhogDay")}),(function(){}))},
onClientException_:function(){throw Error("Manually generated client exception")},onRandomClientException_:function(){throw Error("Manually generated client exception: "+h.getStandardLengthRandomId())
},onServerException_:function(){d.post({url:E.default.instancePathPrefix+"/internal/exceptions/force-server-exception",analyticsTag:null,shardingKey:null})},onRandomServerException_:function(){
d.post({url:E.default.instancePathPrefix+"/internal/exceptions/force-server-exception",data:{random:!0},analyticsTag:null,shardingKey:null})},onFreakout_:function(){
c("wheeeee! debug panel test freakout!")},onOverrideUserIdForUserSurvey_:function(){C.userSurveyDevTool.setNonDropboxerOverride();C.userSurveyDevTool.setUserIdOverride();this.setState({
userSurveyOverride:C.userSurveyDevTool.getOverrideConfig()})},onResetOverrideForUserSurvey_:function(){C.userSurveyDevTool.resetOverrides();this.setState({
userSurveyOverride:C.userSurveyDevTool.getOverrideConfig()})},wipeEmojisTable_:function(){(new l.default).clearRealEmojis();console.log("Congrats! You just cleared all the emojis from IDB.")},
duplicateEmojisTable_:function(){var e=new l.default;e.query({omitCustom:!0}).then((function(t){return e.storeRealEmojis(t)}));console.log("Congrats! Now you have duplicated all the real emojis.")},
resetWhatsNew_:function(){var e=this.context.onboardingStore||new g.default(i.default,this.props.productType),t=n.__spreadArray(n.__spreadArray([],S.WhatsNewFeatureItems.map((function(e){
return e.featureId})),!0),[v.TourStopNames.WhatsNewSidebarCallout,"whats-new-tour-group/".concat((0,S.getMostRecentlyLaunchedFeatureId)())],!1);e.clearCompleted((function(){return(0,
m.locationReload)("debug_panel-resetWhatsNew")}),(function(){}),t)},getTabContents_:function(e){switch(e){case"stormcrow":return y.createElement(k.default,{editedCallback:this.setMostRecentFeatureMap
});case"debug-tools":return y.createElement(r.default,{debugToolsEditedCallback:this.setDirty});case"springs":return y.createElement(x.default,null);case"misc":
var t=E.default.appVersion.indexOf("Devbox")>-1;return y.createElement("div",{className:"hp-debug-panel-misc"},t?y.createElement("h3",null,"Onboarding"):null,t?y.createElement(p.default,{secondary:!0,
onClick:this.onResetClicked},"Reset Onboarding State"):null,y.createElement("h3",null,"OT"),y.createElement(p.default,{disabled:!this.props.collabClient,secondary:!0,onClick:this.onPauseCollabToggled
},this.state.collabPaused?"Resume collab":"Pause collab"),y.createElement("h3",null,"Ace"),y.createElement(p.default,{secondary:!0,onClick:this.onPauseAceToggled
},this.state.acePaused?"Resume Ace":"Pause Ace"),"(Pause incorporateUserChanges)",y.createElement("br",null),y.createElement(p.default,{secondary:!0,onClick:this.onAceInspect
},this.state.aceInspect?"Stop inspecting":"Inspect Ace"),y.createElement("h3",null,"Omnibar"),y.createElement(p.default,{secondary:!0,onClick:this.handleDebugOmnibar
},this.state.omnibarDebug?"Stop debugging Omnibar":"Debug Omnibar"),y.createElement("h3",null,"React performance"),y.createElement(p.default,{secondary:!0,onClick:this.enableWhyDidYouRender
},"Enable WhyDidYouRender"),y.createElement("h3",null,"Exceptions"),y.createElement(p.default,{secondary:!0,onClick:this.onClientException_
},"Trigger client exception"),y.createElement("br",null),y.createElement(p.default,{secondary:!0,onClick:this.onRandomClientException_
},"Trigger random client exception"),y.createElement("br",null),y.createElement(p.default,{secondary:!0,onClick:this.onServerException_
},"Trigger server exception"),y.createElement("br",null),y.createElement(p.default,{secondary:!0,onClick:this.onRandomServerException_
},"Trigger random server exception"),y.createElement("br",null),y.createElement(p.default,{secondary:!0,onClick:this.onFreakout_
},"FREAK OUT"),y.createElement("h3",null,"UserSurvey"),"Current UserId Override: ",this.state.userSurveyOverride.userIdOverride||"no override",y.createElement("br",null),"(You'd also need to manually delete localstorage under usersurvey.dropbox.com)",y.createElement("br",null),y.createElement(p.default,{
secondary:!0,onClick:this.onOverrideUserIdForUserSurvey_},"Override UserId"),y.createElement("br",null),y.createElement(p.default,{secondary:!0,onClick:this.onResetOverrideForUserSurvey_
},"Reset Override of UserId"),y.createElement("h3",null,'Emojis IDB "Poltergeist"'),y.createElement(p.default,{secondary:!0,onClick:this.wipeEmojisTable_
},"Wipe 'emojis' table"),y.createElement("br",null),y.createElement(p.default,{secondary:!0,onClick:this.duplicateEmojisTable_
},"Duplicate entries in 'emojis' table"),y.createElement("h3",null,"What's New on Paper"),y.createElement(p.default,{secondary:!0,onClick:this.resetWhatsNew_},'Reset "What\'s new"'))}},
render:function(){
var e,t=this.props.localPadId,a="/admin/padinspector2?localPadIdOrScl=".concat(t),n=E.default.isProductionProduction?"https://admin-paper.dropbox.com".concat(a):a,r="".concat(window.location.protocol,"//").concat((0,
u.getDropboxWebDomain)(),"/paper/doc/").concat(t,"?redirect=").concat(null===(e=window.parent)||void 0===e?void 0:e.location.href);return y.createElement(P.TrackContext,{
trackContext:P.AppContext.DebugPanel},y.createElement(w.default,{onClickOutside:this.handleClickOutside},y.createElement("div",{className:"hp-debug notranslate"
},this.state.omnibarDebug?y.createElement(f.default,{app:App}):null,y.createElement("div",{className:"ace-inspection",ref:"inspect"}),y.createElement("div",{className:o("hp-ui-popover",{
"hp-debug-hidden":this.state.hidden})},y.createElement("h2",null,"Debug console"),t?y.createElement("div",null,"(",y.createElement("small",null,y.createElement("a",{href:r,target:"_blank",
rel:"noreferrer"},t),i.default.isAppAdmin?y.createElement("a",{title:"Open Pad Inspector",href:n,rel:"noreferrer",target:"_blank"},"â†—"):null),")"):null,y.createElement("div",{
className:"modaldialog-innerX hp-debug-panel"},y.createElement("ul",{className:"hp-debug-panel-tabs"},y.createElement("li",{"data-tabid":"stormcrow",onClick:this.selectTab_,
className:"stormcrow"==this.state.tab?"hp-debug-active":""},"Stormcrow"),y.createElement("li",{"data-tabid":"debug-tools",onClick:this.selectTab_,
className:"debug-tools"==this.state.tab?"hp-debug-active":""},"Debug Tools"),y.createElement("li",{"data-tabid":"springs",onClick:this.selectTab_,
className:"springs"==this.state.tab?"hp-debug-active":""},"Springs"),y.createElement("li",{"data-tabid":"misc",onClick:this.selectTab_,className:"misc"==this.state.tab?"hp-debug-active":""
},"Misc")),this.getTabContents_(this.state.tab))))))}});t.default=F},850:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.scoreBy=void 0;var n=a(6),o=a(368)
;t.scoreBy=function(e,t,a){void 0===a&&(a=n.identity);if(!(t=(t||"").trim()))return n.sortBy(e,(function(e){return a(e).toLowerCase()}));var i=e.map((function(e){return{item:e,score:o(a(e),t)}
})).filter((function(e){return e.score>.1}));return n.orderBy(i,"score","desc").map((function(e){return e.item}))}},851:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.whatsNewItemContent=t.whatsNewItemTitle=t.whatsNewItemDescription=t.whatsNewItemDescriptionList=t.whatsNewItemHeaderBadge=t.whatsNewMenuButtonContent=t.whatsNewItemHeaderWrapper=t.whatsNewDetails=t.whatsNewSidebarItemsContainer=t.whatsNewSidebarHeader=t.whatsNewSidebarHeaderContainer=void 0
;a(1523);t.whatsNewSidebarHeaderContainer="_whatsNewSidebarHeaderContainer_uy9ou_1";t.whatsNewSidebarHeader="_whatsNewSidebarHeader_uy9ou_1"
;t.whatsNewSidebarItemsContainer="_whatsNewSidebarItemsContainer_uy9ou_23";t.whatsNewDetails="_whatsNewDetails_uy9ou_28";t.whatsNewItemHeaderWrapper="_whatsNewItemHeaderWrapper_uy9ou_49"
;t.whatsNewMenuButtonContent="_whatsNewMenuButtonContent_uy9ou_50";t.whatsNewItemHeaderBadge="_whatsNewItemHeaderBadge_uy9ou_60";t.whatsNewItemDescriptionList="_whatsNewItemDescriptionList_uy9ou_65"
;t.whatsNewItemDescription="_whatsNewItemDescription_uy9ou_65";t.whatsNewItemTitle="_whatsNewItemTitle_uy9ou_75";t.whatsNewItemContent="_whatsNewItemContent_uy9ou_79";t.default={
whatsNewSidebarHeaderContainer:"_whatsNewSidebarHeaderContainer_uy9ou_1",whatsNewSidebarHeader:"_whatsNewSidebarHeader_uy9ou_1",whatsNewSidebarItemsContainer:"_whatsNewSidebarItemsContainer_uy9ou_23",
whatsNewDetails:"_whatsNewDetails_uy9ou_28",whatsNewItemHeaderWrapper:"_whatsNewItemHeaderWrapper_uy9ou_49",whatsNewMenuButtonContent:"_whatsNewMenuButtonContent_uy9ou_50",
whatsNewItemHeaderBadge:"_whatsNewItemHeaderBadge_uy9ou_60",whatsNewItemDescriptionList:"_whatsNewItemDescriptionList_uy9ou_65",whatsNewItemDescription:"_whatsNewItemDescription_uy9ou_65",
whatsNewItemTitle:"_whatsNewItemTitle_uy9ou_75",whatsNewItemContent:"_whatsNewItemContent_uy9ou_79"}},882:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(8),i=a(385),r=a(37),s=a(110),l=a(7),d=new Date("June 15, 2018"),c=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}
t.prototype.shouldSkip=function(){return o.default.accountAge>s.default.daysSince(d)};t.defaultProps={name:l.TourGroupNames.Context,rateLimitingBucket:r.RateLimitingBucket.NotRateLimited};return t
}(i.default);t.default=c},897:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(1),i=a(65),r=a(2),s=a(4),l=a(40),d=a(0),c=a(37),u=a(7),p=a(4),m=a(389),h=(0,
a(5).PaperIntlFactory)().F,f=(0,r.defineMessages)({helpwhenyouneedit:{id:"1RY22t",defaultMessage:"Help when you need it"},seeTipsandTrickstoaddtablesanimatedstickersandmediatoyourdocs:{id:"WuQ7L+",
defaultMessage:"See Tips and Tricks to add tables, animated stickers, and media to your docs."}});!function(e){e[e.Complete=1]="Complete";e[e.Dismiss=2]="Dismiss"}(n||(n={}));var g=function(e){
o.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={closed:!1,action:n.Dismiss};t.assistBtn="#hp-editor-help-button";t.targetNode="#tipsbutton"
;t.handleCalloutClose=function(){t.setState({closed:!0})};t.handleCalloutAtRest=function(){if(t.state.closed)switch(t.state.action){case n.Dismiss:t.dismiss();break;case n.Complete:t.complete();break
;default:t.dismiss()}};return t}t.prototype.componentDidUpdate=function(t,a){e.prototype.componentDidUpdate.call(this,t,a);if(this.props.isCurrent&&!t.isCurrent){
var n=document.querySelector(this.assistBtn);null==n||n.click()}};t.prototype.checkReady=function(){if(!this.props.padController)return!1
;var e=m.shouldHideWalkthrough(this.props.padController.getPadType(),this.props.padController);return!(!this.props.editor||!this.props.currentUserIsPadCreator||e)};t.prototype.bindEvents=function(){
var e=this;if(this.props.isCurrent){document.querySelector(this.targetNode)||this.events.on(p.events,"question-mark-help-menu-opened",(function(){e.forceUpdate()}))
;this.events.on(p.events,s.IntentionEvent.OpenTipsSidebar.canonicalName,(function(){e.setState({closed:!0,action:n.Complete})}))
;this.events.on(p.events,s.IntentionEvent.CloseAssistMenu.canonicalName,(function(){e.setState({closed:!0})}))}};t.prototype.render=function(){return this.props.isCurrent?d.createElement(i.default,{
onboarding:!0,closeButton:!0,overlay:!1,target:this.targetNode,onClose:this.handleCalloutClose,onAtRest:this.handleCalloutAtRest,close:this.state.closed,attachment:"middle right",
targetAttachment:"middle left"
},d.createElement("h1",null,d.createElement(h,o.__assign({},f.helpwhenyouneedit))),d.createElement("p",null,d.createElement(h,o.__assign({},f.seeTipsandTrickstoaddtablesanimatedstickersandmediatoyourdocs)))):null
};t.displayName="PaperGuideCallout";t.defaultProps={name:u.TourStopNames.PaperGuideCallout,rateLimitingBucket:c.RateLimitingBucket.NotRateLimited};return t=o.__decorate([l.default],t)}(c.default)
;t.default=g},902:function(e,t,a){var n;Object.defineProperty(t,"__esModule",{value:!0});t.GeneralWalkthroughGuide=t.titleArgs=t.messages=void 0
;var o=a(1),i=a(1704),r=a(4),s=a(8),l=a(14),d=a(157),c=a(23),u=a(0),p=a(15),m=a(244),h=a(37),f=a(7),g=a(4),v=a(16),b=a(389),y=a(386),E=(0,l.MsgFactory)("onboarding"),k=E.defineMessages,_=E.F,C=E._f
;t.messages=k({pageTitle:{msg:"{emoji} My Paper doc",description:"Title and subtitle for newly created doc"},pageContent:{msg:"Type something to get started",
description:"Subtitle for newly created doc"},formattingthatflows:{msg:"Formatting that flows"},selectsometextinyourdoctoseeoptions:{msg:"Select some text in your doc to see options."},
onablanklineaddatablewiththemenu:{msg:"On a blank line, add a table with the menu."},typecolonSignandchooseafunemojilikepizzaordogorsmiley:{
msg:"Type {colonSign} and choose a fun emoji, like {pizza} or {dog} or {smiley}.",description:"Text to encourage users to add emojis by typing ':'."},livelinkstophotosvideos:{
msg:"Live links to photos, videos"},onablanklineclickAddmediaorpastealink:{msg:'On a blank line, click "Add media" or paste a link.'},onablanklineselectAddmediaorpastealink:{
msg:'On a blank line, select "Add media" or paste a link.'},onablanklineselectInsertDropboxfiles:{msg:'On a blank line, select "Insert Dropbox files."'},draginmultiplephotostocreateaninstantgallery:{
msg:"Drag in multiple photos to create an instant gallery."},toolsforworkingtogether:{msg:"Tools for working together"},invitepeopletocommentcreatetodosaddduedates:{
msg:"Invite people to comment, create to-dos, add due dates."},selecttextorphotochoosethebubbletocomment:{msg:"Select text or photo, choose the bubble to comment."},
sendaninvitetoletsomeonevieworedityourdoc:{msg:"Send an invite to let someone view or edit your doc."},draganddropphotos:{msg:"Drag and drop photos"},addmorefilesfromDropbox:{
msg:"Add more files from Dropbox"},addmediafromapps:{msg:"Add media from apps"},includesomeoneelse:{msg:"Include someone else"},discovermore:{msg:"Discover more"}});t.titleArgs={emoji:"ðŸ˜ƒ"}
;var S=function(){function e(){}e.Format="walkthrough-guide-format";e.Photos="walkthrough-guide-photo";e.Embeds="walkthrough-guide-embeds";e.AddFiles="walkthrough-guide-add-files"
;e.AddMedia="walkthrough-guide-add-media";e.Invite="walkthrough-guide-invite";e.ToDo="walkthrough-guide-todo";return e}(),w=((n={})[S.Format]={
title:u.createElement(_,o.__assign({},t.messages.formattingthatflows)),icon:u.createElement(v.UIIcon,{src:p.TextBoxLine}),
caption:u.createElement(_,o.__assign({},t.messages.selectsometextinyourdoctoseeoptions)),src:"/static/img/composer/onboarding/walkthrough-guide/formatting.mp4",skip2x:!0,carouselMetadata:[{
caption:u.createElement(_,o.__assign({},t.messages.selectsometextinyourdoctoseeoptions)),src:"/static/img/composer/onboarding/walkthrough-guide/formatting.mp4",skip2x:!1},{
caption:u.createElement(_,o.__assign({},t.messages.onablanklineaddatablewiththemenu)),src:"/static/img/composer/onboarding/walkthrough-guide/adding-a-table.mp4",skip2x:!1},{
caption:u.createElement(_,o.__assign({values:{colonSign:u.createElement("code",null,":"),pizza:"ðŸ•",dog:"ðŸ¶",smiley:"ðŸ˜€"}},t.messages.typecolonSignandchooseafunemojilikepizzaordogorsmiley)),
src:"/static/img/composer/onboarding/walkthrough-guide/emojis.mp4",skip2x:!1}]},n[S.Embeds]={title:u.createElement(_,o.__assign({},t.messages.livelinkstophotosvideos)),icon:u.createElement(v.UIIcon,{
src:p.PlayLine}),caption:u.createElement(_,o.__assign({},t.messages.onablanklineclickAddmediaorpastealink)),src:"/static/img/product/feature_rich_integrations_2x.mp4",skip2x:!0,carouselMetadata:[{
caption:u.createElement(_,o.__assign({},t.messages.onablanklineclickAddmediaorpastealink)),src:"/static/img/product/feature_rich_integrations_2x.mp4",skip2x:!1},{
caption:u.createElement(_,o.__assign({},t.messages.onablanklineselectInsertDropboxfiles)),src:"/static/img/composer/onboarding/walkthrough-guide/add-dropbox-file.mp4",skip2x:!1},{
caption:u.createElement(_,o.__assign({},t.messages.draginmultiplephotostocreateaninstantgallery)),src:"/static/img/composer/onboarding/walkthrough-guide/image-gallery.mp4",skip2x:!1}]},n[S.ToDo]={
title:u.createElement(_,o.__assign({},t.messages.toolsforworkingtogether)),icon:u.createElement(v.UIIcon,{src:p.PersonMultipleLine}),
caption:u.createElement(_,o.__assign({},t.messages.invitepeopletocommentcreatetodosaddduedates)),src:"/static/img/composer/onboarding/walkthrough-guide/todo.mp4",skip2x:!0,carouselMetadata:[{
caption:u.createElement(_,o.__assign({},t.messages.invitepeopletocommentcreatetodosaddduedates)),src:"/static/img/composer/onboarding/walkthrough-guide/todo.mp4",skip2x:!1},{
caption:u.createElement(_,o.__assign({},t.messages.selecttextorphotochoosethebubbletocomment)),src:"/static/img/composer/onboarding/walkthrough-guide/add-comment.mp4",skip2x:!1},{
caption:u.createElement(_,o.__assign({},t.messages.sendaninvitetoletsomeonevieworedityourdoc)),src:"/static/img/composer/onboarding/walkthrough-guide/share-doc.mp4",skip2x:!1}]},n[S.Photos]={
title:u.createElement(_,o.__assign({},t.messages.draganddropphotos)),src:"/static/img/composer/onboarding/walkthrough-guide/photo-gallery.gif",skip2x:!0},n[S.AddFiles]={
title:u.createElement(_,o.__assign({},t.messages.addmorefilesfromDropbox)),src:"/static/img/composer/onboarding/walkthrough-guide/adding-a-dropbox-file.png",skip2x:!1},n[S.AddMedia]={
title:u.createElement(_,o.__assign({},t.messages.addmediafromapps)),src:"/static/img/composer/onboarding/walkthrough-guide/adding-media.png",skip2x:!1},n[S.Invite]={
title:u.createElement(_,o.__assign({},t.messages.includesomeoneelse)),src:"/static/img/composer/onboarding/walkthrough-guide/inviting-people-to-doc.png",skip2x:!1},
n),I=[S.Format,S.Embeds,S.ToDo],x=function(e){o.__extends(a,e);function a(t){var a=e.call(this,t)||this;a.getCompletedSteps=function(e){a.context.onboardingStore.getCompleted((function(t){e(t)}))}
;a.onInitializationComplete=function(){a.state.hasPrepopulatedDocContent||a.prepopulateDocTitleAndContent();a.setState({initialized:!0})};a.onStepComplete=function(e,t,n){
g.IntentionEvent.CompleteOnboardingEducation.track({type:e,tourStop:a.props.name});a.context.onboardingStore.markCompleted(e,t,n)};a.state={initialized:!1,hasPrepopulatedDocContent:!1};return a}
a.prototype.prepopulateDocTitleAndContent=function(){var e=this;if(!s.default.numPadCreated){var a=C(t.messages.pageTitle,t.titleArgs),n=C(t.messages.pageContent);return new Promise((function(t){(0,
i.addTitleAndContentInNewUserPad)(e.props.app.getMainAce(),"tour-based-onboarding-v3",a,n);t()})).then((function(){e.setState({hasPrepopulatedDocContent:!0})}))}this.setState({
hasPrepopulatedDocContent:!0})};a.prototype.shouldSkip=function(){return b.shouldGrandfatherUserIntoWalkthrough(s.default)};a.prototype.checkReady=function(){if(!this.props.padController)return!1
;var e=b.shouldHideWalkthrough(this.props.padController.getPadType(),this.props.padController);return!(!this.props.editor||!this.props.currentUserIsPadCreator||e||!this.state.initialized)}
;a.prototype.render=function(){var e=u.createElement(_,o.__assign({},t.messages.discovermore));return u.createElement(r.TrackContext,{trackContext:r.AppContext.Onboarding.WalkthroughGuide
},u.createElement(y.WalkthroughGuideWidget,{app:this.props.app,darkMode:!0,getCompletedSteps:this.getCompletedSteps,guideStepContents:w,completeOnClose:!1,
onInitializationComplete:this.onInitializationComplete,onStepComplete:this.onStepComplete,onComplete:this.complete,stepNames:I,show:!!this.props.isCurrent,header:e,hasCarousel:this.props.hasCarousel
}))};a.defaultProps={name:f.TourStopNames.WalkthroughGuide,rateLimitingBucket:h.RateLimitingBucket.NotRateLimited,hasCarousel:!1};a.contextTypes={onboardingStore:c.instanceOf(d.default).isRequired,
tourMachine:c.instanceOf(m.default).isRequired};return a}(h.default);t.GeneralWalkthroughGuide=x},903:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(6),i=a(4),r=a(53),s=a(8),l=a(110),d=a(2),c=a(10),u=a(193),p=a(1705),m=a(70),h=a(40),f=a(0),g=a(13),v=a(1707),b=a(37),y=a(7),E=a(1709),k=(0,a(5).PaperIntlFactory)(),_=k.F,C=k._f,S=(0,
d.defineMessages)({closeButtonAriaLabel:{id:"T8kyaT",defaultMessage:"Close the modal"},watchintrovideo:{id:"/oyoun",defaultMessage:"Watch intro video"},getstarted:{id:"kOQNUE",
defaultMessage:"Get started"}}),w=new Date("November 3, 2018"),I={"da-DK":"da",en:"en-US",es:"es-419","nl-NL":"nl","nb-NO":"no","sv-SE":"sv","uk-UA":"uk","th-TH":"th","zh-CN":"zh-Hans",
"zh-TW":"zh-Hant"},x=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={hasPlayed:!1,showFullScreenVideo:!1,videoLoaded:!1,videoProgress:{seconds:0,
percent:0,duration:0}};t.addSubtitlesToVideo=function(){var e,a,n=s.default.userLocale
;o.includes(["en","en-GB","ja"],n)||null===(a=null===(e=t.video)||void 0===e?void 0:e.contentWindow)||void 0===a||a.postMessage({method:"enableTextTrack",value:{language:I[n]||n}},t.video.src)}
;t.startListeningVideoProgress=function(){var e,a;null===(a=null===(e=t.video)||void 0===e?void 0:e.contentWindow)||void 0===a||a.postMessage({method:"addEventListener",value:"timeupdate"
},t.video.src);window.addEventListener("message",t.onVideoProgressUpdate)};t.updateVideoProgressThrottled=o.throttle((function(e){var a;if("string"==typeof e){var n=JSON.parse(e)
;if("playProgress"!==n.event||!n.data)return;a=n.data}else{if("timeupdate"!==e.event||!e.data)return;a=e.data}a.percent>t.state.videoProgress.percent&&t.setState({videoProgress:a})}),5e3)
;t.onVideoProgressUpdate=function(e){e&&"https://player.vimeo.com"===e.origin&&e.data&&t.updateVideoProgressThrottled(e.data)};t.onPopupClose=function(){if(t.state.hasPlayed){
window.removeEventListener("message",t.onVideoProgressUpdate);i.IntentionEvent.WatchOnboardingVideo.track({time:t.state.videoProgress.seconds,percentage:t.state.videoProgress.percent,
duration:t.state.videoProgress.duration});t.complete()}else t.dismiss()};t.onGetStartedClick=function(){var e;null===(e=t.popup)||void 0===e||e.close()};t.showFullScreenVideo=function(){t.setState({
hasPlayed:!0,showFullScreenVideo:!0})};t.bindVideo=function(e){t.video=e;t.video&&(t.video.onload=function(){var e;t.setState({videoLoaded:!0});if(t.state.showFullScreenVideo){t.addSubtitlesToVideo()
;t.startListeningVideoProgress();null===(e=t.video)||void 0===e||e.focus()}})};return t}t.prototype.componentDidUpdate=function(t,a){e.prototype.componentDidUpdate.call(this,t,a)
;!t.isCurrent&&this.props.isCurrent&&this.popup&&this.popup.open()};t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);this.teamMembersOnPaperStore=new v.default
;this.teamMembersOnPaperStore.load(4)};t.prototype.shouldSkip=function(){return s.default.accountAge>l.default.daysSince(w)};t.prototype.checkReady=function(){
return!(this.props.currentPageName!=r.default.PAD||!this.props.editor||!this.props.padController||o.includes(u.IMPORTED_PADTYPES,this.props.padController.padType)||o.includes(u.TEAMSPACE_PADTYPES,this.props.padController.padType))
};t.prototype.getVideoUrl=function(){var e=s.default.userLocale
;return"ja"==e?"https://player.vimeo.com/video/282930152":o.includes(["es","pt-BR","ko","en","id","ms","th-TH","uk-UA"],e)?"https://player.vimeo.com/video/284830298":"https://player.vimeo.com/video/284832199"
};t.prototype.renderFullScreenVideo=function(){var e;return f.createElement(p.default,{width:1102,height:620,videoUrl:"".concat(this.getVideoUrl(),"?autoplay=1"),
onClose:null===(e=this.popup)||void 0===e?void 0:e.close,darcula:!0,bindVideo:this.bindVideo})};t.prototype.render=function(){var e=this;if(!this.props.isCurrent)return null
;var t=C(S.closeButtonAriaLabel);return f.createElement(i.TrackContext,{trackContext:i.AppContext.Onboarding.WelcomeModal
},this.state.showFullScreenVideo&&this.renderFullScreenVideo(),f.createElement(m.default,{ref:function(t){return e.popup=t},className:"welcome-messages-modal",onClose:this.onPopupClose
},f.createElement(c.default,{className:"welcome-messages-close",onClick:this.onGetStartedClick,"aria-label":t},f.createElement(g.default,{name:"close-large"
})),f.createElement(E.WelcomeModalExistingTeamsCarousel,{teamMembersOnPaperStore:this.teamMembersOnPaperStore}),f.createElement("div",{
className:"welcome-messages-modal-footer welcome-messages-modal-footer-white"},f.createElement(c.default,{className:"welcome-messages-modal-cta",secondary:!0,onClick:this.showFullScreenVideo,
"track-title":"Play video"},f.createElement(_,n.__assign({},S.watchintrovideo))),f.createElement(c.default,{className:"welcome-messages-modal-cta",primary:!0,onClick:this.onGetStartedClick,
"track-title":"Get started"},f.createElement(_,n.__assign({},S.getstarted))))))};t.displayName="WelcomeMessages";t.defaultProps={name:y.TourStopNames.WelcomeMessages,
rateLimitingBucket:b.RateLimitingBucket.NotRateLimited};return t=n.__decorate([h.default],t)}(b.default);t.default=x},908:function(e,t,a){var n;Object.defineProperty(t,"__esModule",{value:!0})
;t.ViewMode=void 0;var o,i=a(1),r=a(2),s=a(10),l=a(68),d=a(69),c=a(0),u=a(13),p=a(831),m=(0,a(5).PaperIntlFactory)().F,h=(0,r.defineMessages)({alltodos:{id:"ZlTc2M",defaultMessage:"All to-do's"},
upcoming:{id:"UjuquR",defaultMessage:"Upcoming"},folders:{id:"Ga3Ee+",defaultMessage:"Folders"},viewmode:{id:"qwzJbB",defaultMessage:"View mode"}});!function(e){e[e.ALL=0]="ALL"
;e[e.UPCOMING=1]="UPCOMING";e[e.FOLDERS=2]="FOLDERS";e[e.DOCS=3]="DOCS";e[e.DUE_DATES=4]="DUE_DATES"}(o=t.ViewMode||(t.ViewMode={}));var f=function(e){i.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.menuButton=null;t.handleOptionClicked=function(e){t.menuButton.close();t.props.onSelect(e)};return t}t.prototype.render=function(){
var e=this,a=[o.ALL,o.UPCOMING,o.FOLDERS].map((function(a){return c.createElement(p.default,{selected:e.props.selected==a,key:a,value:a,onClick:e.handleOptionClicked},t.options[a])})),n="checklist"
;this.props.selected===o.UPCOMING?n="action-meeting-note":this.props.selected===o.FOLDERS&&(n="action-create-folder");return c.createElement("div",{
className:"hp-select hp-task-page-dropdown hp-task-page-dropdown-viewmode"},c.createElement(d.default,{ref:function(t){return e.menuButton=t}},c.createElement(s.default,{secondary:!0,
"disable-auto-track":!0},c.createElement(u.default,{name:n}),t.options[this.props.selected],c.createElement(u.default,{name:"caret"})),c.createElement(l.default,null,c.createElement("ul",{
className:"hp-select-menu-overflow"},c.createElement("li",{className:"hp-select-menu-section-header"},c.createElement(m,i.__assign({},h.viewmode))),a))))};t.displayName="ViewModeSelector"
;t.options=((n={})[o.ALL]=c.createElement(m,i.__assign({},h.alltodos)),n[o.UPCOMING]=c.createElement(m,i.__assign({},h.upcoming)),n[o.FOLDERS]=c.createElement(m,i.__assign({},h.folders)),n);return t
}(c.Component);t.default=f},909:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),o=a(0);t.default=function(e){
var t=n("hp-doc-banner",e.className),a=e.headerRight?o.createElement("div",{className:"header-right"
},e.headerRight):null,i=e.hasMigrationDocBanner?n("hp-doc-banner-wrapper","has-migration-lock-banner"):"hp-doc-banner-wrapper";return o.createElement("div",{className:i},o.createElement("div",{
style:e.style,className:t},o.createElement("div",{className:"header"},e.header,a),e.children))}},912:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.getDisplayTitle=void 0
;var n=a(2),o=(0,a(5).PaperIntlFactory)()._f,i=(0,n.defineMessages)({untitled:{id:"Fk+Dsh",defaultMessage:"Untitled"}});t.getDisplayTitle=function(e){
var t=e.title.substring(0,e.title.lastIndexOf("."));return t||o(i.untitled)}},913:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.failedToLoadIcon=t.emptyFolderIcon=t.failedToLoad=t.emptyFolder=t.retryBtn=t.disabledFolderIcon=t.expandableFolderSidebarList=void 0;a(1757)
;t.expandableFolderSidebarList="_expandableFolderSidebarList_18prj_1";t.disabledFolderIcon="_disabledFolderIcon_18prj_6";t.retryBtn="_retryBtn_18prj_10";t.emptyFolder="_emptyFolder_18prj_17"
;t.failedToLoad="_failedToLoad_18prj_16";t.emptyFolderIcon="_emptyFolderIcon_18prj_29";t.failedToLoadIcon="_failedToLoadIcon_18prj_28";t.default={
expandableFolderSidebarList:"_expandableFolderSidebarList_18prj_1",disabledFolderIcon:"_disabledFolderIcon_18prj_6",retryBtn:"_retryBtn_18prj_10",emptyFolder:"_emptyFolder_18prj_17",
failedToLoad:"_failedToLoad_18prj_16",emptyFolderIcon:"_emptyFolderIcon_18prj_29",failedToLoadIcon:"_failedToLoadIcon_18prj_28"}},914:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.FolderSidebarLoading=t.messages=void 0;var n=a(1),o=a(0),i=a(2),r=a(5);t.messages=(0,i.defineMessages)({loading:{id:"v/6Yxg",defaultMessage:"Loading..."}});var s=(0,r.PaperIntlFactory)().F
;t.FolderSidebarLoading=o.memo((function(e){var a;return o.createElement("div",{className:null!==(a=e.className)&&void 0!==a?a:"folder-sidebar-loading"},o.createElement("div",{
className:"awesome-spinner"}),o.createElement("div",{className:"folder-sidebar-loading-message"},o.createElement(s,n.__assign({},t.messages.loading))))}))
;t.FolderSidebarLoading.displayName="FolderSidebarLoading";t.FolderSidebarLoading.displayName="FolderSidebarLoading"},915:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.DocPinningLazy=void 0;var n=a(0),o=a(1768);t.DocPinningLazy=function(){var e=n.useState(!1),t=e[0],a=e[1];n.useEffect((function(){(function(){
if(o.DocPinningLoadableLib.isLoaded())return Promise.resolve();return o.DocPinningLoadableLib.load().catch((function(){})).then((function(){}))})().then((function(){return a(!0)}))}),[])
;if(!t)return null;var i=o.DocPinningLoadableLib.get().DocPinning;return n.createElement(i,null)};t.DocPinningLazy.displayName="DocPinningLazy"},918:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.SIDEBAR_BONUS_PADDING=void 0;var n=a(1),o=a(6),i=a(3),r=a(197),s=a(30),l=a(11),d=a(0),c=a(264)
;t.SIDEBAR_BONUS_PADDING=parseInt(s.default.sidebar_bonus_pad,10);var u=function(e){n.__extends(a,e);function a(t){var a=e.call(this,t)||this;a.handleClickOutside=function(e){
a.props.onClickOutside&&a.props.onClickOutside(e);e.target.classList.contains("hp-sidebar-overlay-page-overlay")&&e.preventDefault()};a.handleSpringUpdate=function(e){a.setState({
slidClosedPercentage:e})};a.debouncedHandleSpringUpdate=o.debounce((function(e){return a.handleSpringUpdate(e)}),10);a.handleSpringAtRest=function(e){var t=a.props.open;a.setState({
slidClosedPercentage:s.getEndSlidClosedPercentage(t)})};a.state={slidClosedPercentage:s.getEndSlidClosedPercentage(t.open)};return a}s=a;a.prototype.componentDidMount=function(){var e=this
;this.props.onFocusIn&&this.events.on(this.sidebarContainer,"focusin",(function(t){e.hasFocusedOut=!1;e.props.onFocusIn(t)}))
;this.props.onFocusOut&&this.events.on(this.sidebarContainer,"focusout",(function(t){e.hasFocusedOut=!0;o.debounce((function(t){e.hasFocusedOut&&e.props.onFocusOut(t)}),100)(t)}))}
;a.prototype.isFinishedMoving=function(e,t){return t==s.getEndSlidClosedPercentage(e)};a.prototype.shouldKickGPU=function(e,t){t&&(this.gpuKickedDuringClose=!1);if(e)return t
;if(t||this.gpuKickedDuringClose)return!1;this.gpuKickedDuringClose=!0;return!0};a.prototype.getSidebarStyles=function(){
var e=this,a=this.props,n=a.open,o=a.inlineWithPageContents,i=a.width,r=this.state.slidClosedPercentage,s=r*i,l=this.isFinishedMoving(n,r);if(this.sidebarContainerWrapper&&this.shouldKickGPU(n,l)){
this.sidebarContainerWrapper.style.transform="translate3d(0,0,0)";this.timers.setTimeout((function(){e.sidebarContainerWrapper.style.transform=""}),0)}return n||s!=i?{
width:"".concat(i+t.SIDEBAR_BONUS_PADDING,"px"),marginLeft:"".concat(-t.SIDEBAR_BONUS_PADDING-s,"px"),position:o&&l?"static":"absolute",opacity:1}:{display:"none"}}
;a.getEndSlidClosedPercentage=function(e){return e?0:1};a.getStartSlidClosedPercentage=function(e,t){return t?e?1:0:s.getEndSlidClosedPercentage(e)};a.prototype.render=function(){
var e=this,t=this.props,a=t.open,n=t.shouldAnimate,o=t.onMouseEnter,l=t.onMouseLeave,u=i("hp-sidebar-container",{"hp-sidebar-container-inline":this.props.inlineWithPageContents})
;return d.createElement("div",{className:"hp-sidebar-container-wrapper",ref:function(t){e.sidebarContainerWrapper=t}},d.createElement("div",{className:"hp-sidebar-overlay-page-overlay"
}),d.createElement(c.default,{tension:120,friction:20,currentValue:s.getStartSlidClosedPercentage(a,n),endValue:s.getEndSlidClosedPercentage(a),onUpdate:this.debouncedHandleSpringUpdate,
onAtRest:this.handleSpringAtRest}),d.createElement(r.default,{onClickOutside:this.handleClickOutside},d.createElement("div",{className:u,style:this.getSidebarStyles(),ref:function(t){
return e.sidebarContainer=t},onMouseEnter:o,onMouseLeave:l},this.props.children)))};var s;a.displayName="Sidebar";return a=s=n.__decorate([l.default],a)}(d.PureComponent);t.default=u},
931:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),o=a(0);t.default=function(e){var t=n("hp-full-width-doc-banner",e.className),a=e.headerRight?o.createElement("div",{
className:"header-right"},e.headerRight):null;return o.createElement("div",{className:"hp-full-width-doc-banner-wrapper"},o.createElement("div",{className:t},o.createElement("div",{className:"header"
},o.createElement("div",{className:"header-icon"},e.icon,e.header),a)))}},932:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.unmountFileUploadSnackbar=t.mountFileUploadSnackbar=t.FileUploadSnackbar=void 0
;var n=a(1),o=a(6),i=a(574),r=a(33),s=a(15),l=a(8),d=a(2),c=a(423),u=a(101),p=a(12),m=a(87),h=a(1802),f=a(0),g=a(36),v=a(24),b=a(188),y=a(116),E=a(31),k=a(7),_=a(16),C=a(49),S=a(308),w=a(5),I="paper_file_upload_snackbar",x=(0,
w.PaperIntlFactory)().F,T=(0,d.defineMessages)({fileQuotaExceeded:{id:"L4zp+r",defaultMessage:"File quota exceeded. {numFiles, plural, one {1 file} other {# files}} failed to upload."},
failedToUpload:{id:"Pkiexc",defaultMessage:"{numFiles, plural, one {1 file} other {# files}} failed to upload."},gotoDropbox:{id:"7TnyoB",defaultMessage:"Go to Dropbox"},close:{id:"u/p3Pl",
defaultMessage:"Close"},reviewFiles:{id:"zCPVkW",defaultMessage:"Review {numFiles, plural, one {match} other {matches}}"},added:{id:"YNGZlm",
defaultMessage:"{numFiles, plural, one {1 file} other {# files}} added to {paperUploadsFolder} folder."},mayAlreadyExist:{id:"A06Jvd",
defaultMessage:"{numFiles, plural, one {File} other {Files}} may already exist in Dropbox."},foundInDropbox:{id:"jlRrQ3",
defaultMessage:"Found {numFiles, plural, one {a matching file in Dropbox and added that file} other {matching files in Dropbox and added those files}} instead."},uploading:{id:"/zUVlg",
defaultMessage:"Uploading to Dropbox..."}}),P=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.inflightUploadItems=[];t.filesWithPerfectMatchUpdated=!1
;t.state={allUploadsCompleted:!1,showDuplicatesFoundSnackbar:!1,showErrorSnackbar:!1,showUploadSuccessSnackbar:!1,appContext:(0,m.getInitialAppContext)(),isOnboardingCompleted:!1}
;t.closeDuplicatesFoundSnackbar=function(){t.setState({showDuplicatesFoundSnackbar:!1})};t.closeErrorSnackbar=function(){t.setState({showErrorSnackbar:!1})};t.closeUploadSuccessSnackbar=function(){
t.setState({showUploadSuccessSnackbar:!1})};t.handleInsertFilesEvent=function(e){t.filesWithPerfectMatchUpdated=!1
;(0==t.inflightUploadItems.length||t.state.allUploadsCompleted&&t.inflightUploadItems.length>=0)&&t.dismissSnackbars();e.items.forEach((function(e){t.inflightUploadItems.push({
attachmentId:e.attachmentId,uploadSuccess:!1,failReason:null,fileId:null,duplicates:[]})}));t.setState({allUploadsCompleted:!1})};t.handleAttachmentStoreEvent=function(){if(t.inflightUploadItems){
var e=t.inflightUploadItems.map((function(e){return e.attachmentId}));if(o.every(e,(function(e){var a=t.props.editor.media.attachmentStore.getUploadState(e);return a.done||a.failed}))){
var a=!1,n=!1,i=0,r=0;t.inflightUploadItems.forEach((function(e){var o=e.attachmentId,s=t.props.editor.media.attachmentStore.getUploadState(o);if(s.failed){e.uploadSuccess=!1;e.failReason=s.failReason
;n=!0}else{e.uploadSuccess=!0;0==e.duplicates.length&&(e.duplicates=s.duplicates);e.fileId||(e.fileId=s.fileId);e.uploadedFileSharedLink||(e.uploadedFileSharedLink=s.finalUrl)
;s.duplicates.length>0?i+=1:a=!0;1==s.duplicates.length&&0==s.duplicates[0].sharedLinkAlreadyExists&&(r+=1)}}));if(i==r&&!t.filesWithPerfectMatchUpdated){t.filesWithPerfectMatchUpdated=!0
;t.replaceSingleMatchAttachmentsFinalUrl()}t.setState({allUploadsCompleted:!0,showDuplicatesFoundSnackbar:i>0,showErrorSnackbar:n,showUploadSuccessSnackbar:a})}}}
;t.handleReviewMatchButtonClick=function(e,a){var n=function(){(0,h.open)({filesWithDups:e,linkDropboxFileCallback:t.linkDbxDuplicateCallback,linkUploadedFileCallback:t.linkUploadedFileCallback,
onClose:function(){return t.handleMatchingFilesPopupClose(a)},deleteUploadedFilesForExactMatches:t.deleteUploadedFilesForExactMatches})};if(t.state.isOnboardingCompleted)n();else{
t.props.editor.observer.trigger("files-duplicates-found",{numMatches:e.length,handlePopupReviewMatchButtonClick:n,handlePopupClose:function(){t.handleMatchingFilesPopupClose(a)
;t.deleteUploadedFilesForExactMatches()}});t.state.appContext.stores.onboarding.markCompleted(k.TourStopNames.DropAnything,(function(){}),(function(){}))}};t.linkUploadedFileCallback=function(e){
var a,n=t.inflightUploadItems.filter((function(t){return t.attachmentId==e}))[0];if(1==n.duplicates.length&&0==n.duplicates[0].sharedLinkAlreadyExists){
t.props.editor.media.attachmentStore.updateAttachmentWithSharedLink(e,n.uploadedFileSharedLink);var o=(new C.URI).setPath("/file/revoke-shared-link").setQuery((a={},
a[S.xsrfTokenParameterName()]=S.getXsrfTokenFromCookie(),a.link=n.duplicates[0].sharedLink,a)).toString();p.post({url:o,analyticsTag:"dropbox-revoke-shared-link",
shardingKey:p.getStatelessShardingKey(),successHandler:function(e){return!0},errorHandler:function(){return!1}})}};t.handleMatchingFilesPopupClose=function(e){
o.remove(t.inflightUploadItems,(function(t){return o.indexOf(e,t)>-1}));t.setState({showDuplicatesFoundSnackbar:!1})};t.deleteUploadedFilesForExactMatches=function(){
var e=t.getUploadsToAutoLink(),a=t.inflightUploadItems.filter((function(e){return e.duplicates.length>0}));e.length==a.length&&e.forEach((function(e){e.fileId&&t.deleteDbxFileAttachment(e.fileId)}))}
;t.linkDbxDuplicateCallback=function(e,a){var n=t.props.editor.media.attachmentStore.getUploadState(e),i=o.find(t.inflightUploadItems,(function(t){return t.attachmentId==e})),r=i?function(){
t.deleteDbxFileAttachment(i.fileId)}:function(){};if(1==n.duplicates.length&&0==n.duplicates[0].sharedLinkAlreadyExists)r();else if(1==n.duplicates.length&&n.duplicates[0].sharedLink){
t.props.editor.media.attachmentStore.updateAttachmentWithSharedLink(e,n.duplicates[0].sharedLink);r()}else t.props.editor.media.attachmentStore.linkNewDbxFileToAttachment(e,a,r)}
;t.deleteDbxFileAttachment=function(e){var t;if(e){var a=(new C.URI).setPath("/delete-dropbox-file").setQuery((t={},t[S.xsrfTokenParameterName()]=S.getXsrfTokenFromCookie(),t.fileId=e,t)).toString()
;p.post({url:a,analyticsTag:"dropbox-create-shared-link",shardingKey:p.getStatelessShardingKey(),successHandler:function(e){return!0},errorHandler:function(){return!1}})}}
;t.dismissSnackbars=function(){t.deleteUploadedFilesForExactMatches();t.inflightUploadItems=[];t.filesWithPerfectMatchUpdated=!1;t.setState({allUploadsCompleted:!1,showDuplicatesFoundSnackbar:!1,
showErrorSnackbar:!1,showUploadSuccessSnackbar:!1})};t.updateState=function(e){t.setState({isOnboardingCompleted:e.indexOf(k.TourStopNames.DropAnything)>-1})};return t}
t.prototype.getUploadsToAutoLink=function(){return this.inflightUploadItems.filter((function(e){return 1==e.duplicates.length&&0==e.duplicates[0].sharedLinkAlreadyExists}))}
;t.prototype.componentDidMount=function(){var e=this;this.props.editor.observer.on("insert_files_begin",this.handleInsertFilesEvent)
;this.attachmentStoreListenerId=this.props.editor.media.attachmentStore.registerEventListener(this.handleAttachmentStoreEvent)
;this.state.appContext.stores.onboarding.checkCompleted(k.TourStopNames.DropAnythingMatchesFound,(function(t){e.setState({isOnboardingCompleted:t})}))
;this.state.appContext.stores.onboarding.on("change",this.updateState)};t.prototype.componentWillUnmount=function(){var e,t;this.deleteUploadedFilesForExactMatches()
;null===(t=null===(e=this.props.editor)||void 0===e?void 0:e.observer)||void 0===t||t.off("insert_files_begin",this.handleInsertFilesEvent)
;this.attachmentStoreListenerId&&this.props.editor.media&&this.props.editor.media.attachmentStore&&this.props.editor.media.attachmentStore.unregisterEventListener(this.attachmentStoreListenerId)
;this.state.appContext.stores.onboarding.off("change",this.updateState)};t.prototype.render=function(){if(!this.state.allUploadsCompleted){if(this.inflightUploadItems.length>0){
var e=this.renderLoadingSnackbar();return f.createElement(d.IntlProvider,{locale:l.default.userLocale},e)}return null}return f.createElement(d.IntlProvider,{locale:l.default.userLocale
},this.renderSnackbars())};t.prototype.renderSnackbars=function(){var e=[]
;this.state.showDuplicatesFoundSnackbar&&e.push(this.renderFileDuplicatesFoundSnackbar(this.state.showDuplicatesFoundSnackbar,this.closeDuplicatesFoundSnackbar))
;this.state.showUploadSuccessSnackbar&&e.push(this.renderUploadsSuccessSnackbar(this.state.showUploadSuccessSnackbar,this.closeUploadSuccessSnackbar))
;this.state.showErrorSnackbar&&e.push(this.renderUploadFailuresSnackbar(this.state.showErrorSnackbar,this.closeErrorSnackbar));return f.createElement("div",{className:"file-upload-snackbar-stack"},e)}
;t.prototype.getErrorSnackbarMessage=function(e,t){switch(e){case i.AttachmentUploadFailureReason.InsufficientSpace:return f.createElement(x,n.__assign({values:{numFiles:t}},T.fileQuotaExceeded))
;case i.AttachmentUploadFailureReason.UnknownDbxError:return f.createElement(x,n.__assign({values:{numFiles:t}},T.failedToUpload))}};t.prototype.renderUploadFailuresSnackbar=function(e,t){
var a=this,l=o.filter(this.inflightUploadItems,(function(e){return!e.uploadSuccess})),d=c.getCurrentlyActiveRole(),p=u.dropboxUrl("/".concat(d)),m=null,h=null,g=f.createElement(r.Button,{
variant:"transparent",inverse:!0,onClick:function(){window.open(p,"_blank")}},f.createElement(x,n.__assign({},T.gotoDropbox))),v=function(){o.remove(a.inflightUploadItems,(function(e){
return o.indexOf(l,e)>-1}));t()},y=f.createElement(r.Button,{variant:"transparent",inverse:!0,onClick:v},f.createElement(x,n.__assign({},T.close)));if(0==l.length)return m;var E=l.every((function(e){
return e.failReason==l[0].failReason}));h=1==l.length||E?this.getErrorSnackbarMessage(l[0].failReason,l.length):this.getErrorSnackbarMessage(i.AttachmentUploadFailureReason.UnknownDbxError,l.length)
;return m=f.createElement(b.Snackbar,{open:e,onRequestClose:v,timeout:4e3,key:"uploads-fail-snackbar",className:"file-upload-snackbars-dig"},f.createElement(_.UIIcon,{src:s.WarningLine
}),f.createElement(b.Snackbar.Message,null,h),f.createElement(b.Snackbar.Actions,null,g,y))};t.prototype.renderFileDuplicatesFoundSnackbar=function(e,t){
var a=this,i=this.inflightUploadItems.filter((function(e){return e.duplicates.length>0})),l=this.getUploadsToAutoLink(),d=i.length==l.length,c=[];i.forEach((function(e){
var t=a.props.editor.media.attachmentStore.getUploadState(e.attachmentId),n={fileName:t.originalFile.name,duplicates:t.duplicates,newFileSharedLink:t.finalUrl,attachmentId:t.attachmentId};c.push(n)}))
;var u=i.length,p=function(){d&&a.deleteUploadedFilesForExactMatches();o.remove(a.inflightUploadItems,(function(e){return o.indexOf(i,e)>-1}));t()},m=f.createElement(r.Button,{variant:"transparent",
inverse:!0,onClick:p},f.createElement(x,n.__assign({},T.close))),h=f.createElement(r.Button,{variant:"transparent",inverse:!0,onClick:function(){return a.handleReviewMatchButtonClick(c,i)}
},f.createElement(x,n.__assign({values:{numFiles:u}},T.reviewFiles))),g=f.createElement(x,n.__assign({},T.mayAlreadyExist,{values:{numFiles:u}})),v=f.createElement(x,n.__assign({},T.foundInDropbox,{
values:{numFiles:u}})),y=d?v:g,E=f.createElement(_.UIIcon,{src:d?s.CheckmarkCircleLine:s.WarningLine});return f.createElement(b.Snackbar,{open:e,onRequestClose:p,timeout:4e3,
key:"file-matching-snackbar",className:"file-upload-snackbars-dig"},E,f.createElement(b.Snackbar.Message,null,y),f.createElement(b.Snackbar.Actions,null,h,m))}
;t.prototype.replaceSingleMatchAttachmentsFinalUrl=function(){var e=this;this.getUploadsToAutoLink().forEach((function(t){var a=e.props.editor.media.attachmentStore.getUploadState(t.attachmentId)
;t.uploadedFileSharedLink=a.finalUrl;e.props.editor.media.attachmentStore.updateAttachmentWithSharedLink(t.attachmentId,t.duplicates[0].sharedLink)}))};t.prototype.renderLoadingSnackbar=function(){
var e=f.createElement(x,n.__assign({},T.uploading));return f.createElement("div",{className:"file-upload-snackbar-stack"},f.createElement(b.Snackbar,{open:!0,key:"loading-snackbar",
className:"file-upload-snackbars-dig"},f.createElement(y.Spinner,{"aria-valuetext":"Loading",size:"small",inverse:!0}),f.createElement(b.Snackbar.Message,null,e)))}
;t.prototype.renderUploadsSuccessSnackbar=function(e,t){var a,i=this,l=(a=E.isOnButDoNotLog("paper_enhance_embed_experience")?this.inflightUploadItems.filter((function(e){
return 0==e.duplicates.length&&e.uploadSuccess})):this.inflightUploadItems.filter((function(e){return 0==e.duplicates.length}))).length,d=function(){o.remove(i.inflightUploadItems,(function(e){
return o.indexOf(a,e)>-1}));t()},c=f.createElement(r.Button,{variant:"transparent",inverse:!0,onClick:d},f.createElement(x,n.__assign({},T.close))),u=f.createElement(x,n.__assign({},T.added,{values:{
numFiles:l,paperUploadsFolder:f.createElement("span",{className:"notranslate"},f.createElement("b",null,"Paper Uploads"))}}));return f.createElement(b.Snackbar,{open:e,onRequestClose:d,timeout:4e3,
key:"success-snackbar",className:"file-upload-snackbars-dig"},f.createElement(_.UIIcon,{src:s.CheckmarkCircleLine
}),f.createElement(b.Snackbar.Message,null,u),f.createElement(b.Snackbar.Actions,null,c))};t.displayName="FileUploadSnackbar";return t}(f.Component);t.FileUploadSnackbar=P
;t.mountFileUploadSnackbar=function(e){if(e){var t=document.getElementById(I);if(!t){(t=document.createElement("div")).id=I;document.body.appendChild(t)}g.reactDomRender(f.createElement(P,{editor:e
}),t)}};t.unmountFileUploadSnackbar=function(){var e=document.getElementById(I);if(e){v.unmountComponentAtNode(e);e.parentElement&&e.parentElement.removeChild(e)}}},933:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.FilePreview=void 0;var n=a(1),o=a(3),i=a(357),r=a(0),s=a(305),l=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.handleFilePreviewLoad=function(){t.filePreviewElement.classList.add("show-file-preview")};return t}t.prototype.render=function(){
var e=this,t=this.props.fileExtension,a=o("dropbox-gallery-file-thumb","dropbox-gallery-file-thumb-".concat((0,
s.typeForExtension)(t)),"fallback-preview",this.props.imgClassName),n=r.createElement("div",{className:a},r.createElement(i.default,{extension:t,large:!0}));return r.createElement("div",{
className:this.props.previewContainerClassName},r.createElement("img",{src:this.props.filePreviewUrl,className:o("file-preview",this.props.imgClassName),onLoad:this.handleFilePreviewLoad,
ref:function(t){return e.filePreviewElement=t}}),n)};t.displayName="FilePreview";return t}(r.Component);t.FilePreview=l},963:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.parseYouTubeDuration=t.injectCaptionAndGetZone=void 0;var n=a(155),o=a(2),i=a(64),r=(0,a(5).PaperIntlFactory)()._f,s=(0,o.defineMessages)({unsplashCaption:{id:"qCZ25t",defaultMessage:"Photo by"}})
;t.injectCaptionAndGetZone=function(e,t){if("unsplash"===t.sourceName)return function(e,t){var a=r(s.unsplashCaption),o=(0,n.createZoneId)("caption"),l=(0,i.emptyDocHand)(),d=(0,
i.zoneHand)(l.raw(),e.getApool(),o).builder();d.insert(a);d.insert(" ")
;d.insert(t.creator,[["link","https://unsplash.com/photos/".concat(t.id,"?").concat("utm_source=dropbox_paper&utm_medium=referral")]]);e.execute("set unsplash caption",(function(){
e.contents.performDocumentApplyChangeset(d.toChangeset())}));return o}(e,t)};t.parseYouTubeDuration=function(e){if(e.metadata){var t=e.metadata.durationInSec;if(t){var a=Math.floor(t/3600);t%=3600
;var n=Math.floor(t/60);t%=60;var o=Math.floor(t),i="";a&&(i+="".concat(a<10?"0"+a:a,":"));i+="".concat(n<10?"0"+n:n,":");return i+="".concat(o<10?"0"+o:o)}}return null}},964:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(3),i=a(310),r=a(2),s=a(11),l=a(276),d=a(241),c=a(15),u=a(0),p=a(651),m=a(1887),h=a(16),f=a(656),g=(0,a(5).PaperIntlFactory)().F,v=(0,
r.defineMessages)({copylink:{id:"L4Tupd",defaultMessage:"Copy link"}}),b=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.state={
isArchived:!!t.padController&&t.padController.isPadArchived()};return a}t.prototype.componentDidMount=function(){var e=this
;this.props.padController&&this.events.on(this.props.padController,"pad-meta-changed",(function(){e.setState({isArchived:e.props.padController.isPadArchived()})}))};t.prototype.render=function(){
var e,t,a=this.props,r=a.app,s=a.desktopStyle,b=a.folderData,y=a.mainAce,E=a.padController,k=a.stores,_=a.isOffline;E.peopleList&&y&&(e=u.createElement(p.default,{key:"sharing",padController:E,
stores:k,mainAce:y,desktopStyle:this.props.desktopStyle,peopleList:E.peopleList,isOffline:_}));E.isPadArchived()||(t=u.createElement(f.default,{app:this.props.app,desktopStyle:this.props.desktopStyle,
localPadId:E.getPadId(),isOffline:_}));var C=o("main-header-right","template-logged-in-right-header",{"desktop-style":this.props.desktopStyle}),S=(0,
d.getSharableLinkFromLocalPadId)(E.getPadId(),E.getTitle()),w=u.createElement(i.default,{className:"hp-sharing-header-copylink",key:"copy-link",url:S,
tooltip:u.createElement(g,n.__assign({},v.copylink)),padController:this.props.padController,styleless:!this.props.desktopStyle,isIcon:!0},u.createElement(h.UIIcon,{src:c.LinkLine}))
;return u.createElement("div",{className:C},e,(null==E?void 0:E.mainAce)&&u.createElement(l.FindAndReplaceMenu,{editor:E.mainAce,collabClient:E.collabClient,stores:this.props.stores,replaceEnabled:!0
}),t,s&&w,u.createElement(m.default,{app:r,folderData:b,padController:E,stores:k,isOffline:_}))};t.displayName="TemplateLoggedInRightHeader";return t=n.__decorate([s.default],t)}(u.Component)
;t.default=b},965:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),o=a(22),i=a(3),r=a(195),s=a(2),l=a(60),d=a(11),c=a(264),u=a(10),p=a(103),m=a(33),h=a(77),f=a(269),g=a(58),v=a(178),b=a(92),y=a(18),E=a(5),k=a(15),_=a(20),C=a(0),S=a(24),w=a(192),I=a(6),x=a(1888),T=a(32),P=a(300),M=a(31),F=a(78),N=a(4),D=a(16),A=a(17),L=a(135),O=a(1889),R=(0,
E.PaperIntlFactory)()._f,U=(0,s.defineMessages)({pinTocButton:{id:"UXBPzi",defaultMessage:"Pin TOC"}}),B=function(e){n.__extends(t,e);function t(t){var n=e.call(this,t)||this;n.halfDoneToc_=[]
;n.halfDoneTocIndex_=0;n.lineIdCache_={};n.editor_=null;n.forceUpdateOnNextScroll_=!1;n.hasRendered_=!1;n.headerHeight_=0;n.overrideCurrentHeaderId_="";n.overrideTimeout_=null
;n.updateReadTime=function(){};n.onIdleWork=function(){n.updateTableOfContents((0,v.newTimeLimit)(33));n.updateReadTime()};n.invalidateCache=function(){n.lineIdCache_={}}
;n.updateCurrentHeading=function(){if(n.editor_&&!(n.state.entries.length<a.minNumEntriesToRender)){var e=n.getCurrentHeaderId_();if(e!=n.state.currentHeaderId||n.forceUpdateOnNextScroll_){
n.forceUpdateOnNextScroll_=!1;n.setState({currentHeaderId:e},(function(){var e=S.findDOMNode(n),t=S.findDOMNode(n.refs.currentEntry);if(t){(0,x.default)(e,t)
;var a=S.findDOMNode(n.refs.currentAbstractEntry);(0,x.default)(e,a)}}))}}};n.handleMousedown=function(e){
if(n.state.isFocused&&A.default.dom.isInDocument(e.target)&&!A.default.dom.contains(S.findDOMNode(n),e.target)&&!n.state.focusUntilEntryClick){n.setState({isFocused:!1});n.state.isPinned||n.hideToc()}
};n.componentDidUpdate_=(0,r.debounceAndDelayUntilPageLoad)((function(){n.updateCurrentHeading()}),33);n.onMouseEnter_=function(){if(!(n.state.entries.length<=1)){(0,N.trackUi)("toc-hovered")
;n.setState({open:!0})}};n.onMouseLeave_=function(){n.state.isFocused||n.state.isPinned||n.hideToc()};n.handleSpringUpdate=function(e){n.setState({style:e})};n.handleSpringAtRest=function(){
n.state.open||n.state.isFocused||n.setState({style:{display:"none"}})};n.handlePin=function(){n.setState((function(e){return{isPinned:!e.isPinned}}))};n.onTocEntryClick_=function(e){e.preventDefault()
;clearTimeout(n.overrideTimeout_);var t=e.currentTarget,a=t.getAttribute("data-node-id"),o=n.editor_.dom.getAceLineById(a);(0,f.ensureLineIsNotCollapsedJustForMe)(n.editor_,o)
;var i=parseInt(t.getAttribute("data-offset"),10);0==i&&o&&(i=o.offsetTop);var r=i-(0,y.outerHeight)(document.getElementById("main-header"));(0,y.animateElementScroll)({
element:n.editor_.dom.getScrollEl(),direction:{scrollTop:r},duration:100});var s=n.props.editor.padController;s&&s.isCloudDoc()||(0,
L.historyReplaceState)({},document.title,t.getAttribute("data-href"));n.setState({isFocused:!0,focusUntilEntryClick:!1});n.overrideCurrentHeaderId_=a
;n.overrideTimeout_=n.timers.setTimeout((function(){if(n.overrideCurrentHeaderId_){n.overrideCurrentHeaderId_="";n.forceUpdateOnNextScroll_=!0}}),200);return!1};n.state={currentHeaderId:"",entries:[],
open:!1,isFocused:!1,isPinned:!1,focusUntilEntryClick:!1,style:{display:"none"},firstRender:!0};return n}a=t;t.prototype.setEditor=function(e){this.editor_=e
;this.updateReadTime=I.debounce(this.updateReadTime_,2e3);this.bindEvents(this.editor_)};t.prototype.dispose=function(){this.editor_=null};t.prototype.bindEvents=function(e){if(e){
this.events.on(e.observer,"invalidate-cache",this.invalidateCache);this.events.on(e.observer,"iframe-resize",this.updateCurrentHeading);this.events.on(e.observer,"resize",this.updateCurrentHeading)
;this.events.on(e.observer,"scroll-finished",this.updateCurrentHeading);this.events.on(e.observer,"idlework",this.onIdleWork)}};t.prototype.updateTableOfContents=function(e){
for(var t=this,a=this.editor_.getRep(_.Position.ROOT_ZONE),n=this.editor_.dom.getRoot(),i=[],r=!1,s=0;s<n.childNodes.length;++s)if(this.lineIdCache_[s]!=n.childNodes[s].id){r=!0
;this.lineIdCache_[s]=n.childNodes[s].id}if(r||this.halfDoneToc_.length){if(r){this.halfDoneToc_=[];this.halfDoneTocIndex_=0}this.halfDoneToc_.length&&(i=this.halfDoneToc_)
;for(var l=this.halfDoneTocIndex_?this.halfDoneTocIndex_:0,d=function(n){if(n%10==0&&e()){c.halfDoneToc_=i;c.halfDoneTocIndex_=n;return{value:void 0}}
var r=a.alines[n],s=0==n,l=c.editor_,d=a.lines.atIndex(n),u=d.lineNode,p=c.editor_.contents.getLineType(new _.Position(_.Position.ROOT_ZONE,n,0)),m=p.indexOf("code")>-1,h=p.indexOf("hone")>-1,f=p.indexOf("htwo")>-1,v=d.domInfo&&d.domInfo.allBold&&!m
;if(!v&&(!p&&d.text.trim().length>0||0==p.indexOf("hthree")&&d.text.slice(1).trim().length>0)){var b=a.alines[n],y=o.opIterator(b),E=!0;p&&y.next();for(;y.hasNext();){var k=y.next()
;if(1==k.lines&&1==k.chars)break;if("true"!=o.attribsAttributeValue(k.attribs,"bold",l.getApool())){E=!1;break}}v=E}if(p){var C=g.parseListType(p);g.isListyListTypeByParsedType(C.type)&&(v=!1)}
if(s||h||f||v){for(var S=(0,w.default)(d.text,a.alines[n],l.getApool()),I=o.opIterator(r),x=!1,T=function(){var e=I.next();o.eachAttribNumber(e.attribs,(function(a){
g.hasLineLevelMagicObject(e.attribs,l.getApool(),t.props.contentTypeRegistry)&&(x=!0)}))};I.hasNext();)T();if(x)return"continue";if(S&&A.default.string.trim(S).length){var P=void 0;if(p){
var M=o.opIterator(a.alines[n]).next();P=o.opAttributeValue(M,"usuallyUniqueId",l.getApool())}var F=u.offsetTop,N=h||s?-1:v?1:0,D=P?{headingLine2:S,usuallyUniqueIds:[P]}:{headingLine2:S};i.push({
offset:F,content:S,indent:N,href:c.makeHref(D),id:u.id,isTitle:s})}}},c=this,u=l;u<a.alines.length;u++){var p=d(u);if("object"==typeof p)return p.value}this.halfDoneToc_=[];this.halfDoneTocIndex_=0
;if(this.state.entries.length==i.length){for(var m in i)if(!b.dumbDeepCompare(i[m],this.state.entries[m])){this.updateToc_(i);return}}else this.updateToc_(i)}};t.prototype.makeHref=function(e){
var t,a=this.props.editor.padController;if(!a)return"";a.isCloudDoc()&&(t=a.cloudDocsUrlStore.getMaxAccessUrl());if(!t){var n=a.localPadId,o=a.title;t=T.relativePrettyPaperDocUrl(n,o)}
return P.addQueryParamsAndFragmentToUrl(t,{padFocusOptions:e})};t.prototype.updateReadTime_=function(){};t.prototype.updateToc_=function(e){this.setState({entries:e,
currentHeaderId:this.getCurrentHeaderId_()})};t.prototype.componentDidMount=function(){var e;this.props.editor&&this.setEditor(this.props.editor)
;null===(e=document.body)||void 0===e||e.addEventListener("mousedown",this.handleMousedown);this.setState({firstRender:!1})};t.prototype.componentWillUnmount=function(){var e
;null===(e=document.body)||void 0===e||e.removeEventListener("mousedown",this.handleMousedown)};t.prototype.showToc=function(e){void 0===e&&(e=!1);this.setState({isFocused:!0,focusUntilEntryClick:e})}
;t.prototype.hideToc=function(){this.setState({open:!1,isFocused:!1})};t.prototype.componentDidUpdate=function(e,t){this.props.editor!==e.editor&&this.setEditor(this.props.editor)
;this.componentDidUpdate_()};t.prototype.getCurrentHeaderId_=function(){this.headerHeight_<=0&&(this.headerHeight_=(0,y.outerHeight)(document.getElementById("main-header")));var e,t=(0,
y.getScrollTop)(window)+this.headerHeight_+100,a=[],n=this.editor_.dom.getRoot();if(n){
var o=null==n?void 0:n.querySelectorAll(":scope > .ace-line:first-child, :scope > div > h1, :scope > div > h2, :scope > div > ul.listtype-hthree, :scope > div > span.ace-all-bold-hthree")
;a=o?Array.prototype.slice.call(o):[]}for(var i=0,r=void 0;r=a[i];i++)r.textContent&&((0,f.isNodeCollapsed)(r)||(0,y.offset)(r).top>t||(e=this.editor_.dom.getAceLineForNode(r)));return e?e.id:""}
;t.prototype.render=function(){var e,t=this;if(this.state.entries.length<a.minNumEntriesToRender)return null;var n=2;this.state.entries.forEach((function(e,t){0!=t&&e.indent<n&&(n=e.indent+1)}))
;var o=this.state.entries.map((function(e,a){
var o=e.indent,r=e.content,s=e.href,d=e.offset,c=e.id,m=e.isTitle,h=o+1-(0==a?0:n),f=c==(t.overrideCurrentHeaderId_||t.state.currentHeaderId),g=i("hp-toc-entry","notranslate","hp-toc-entry-level".concat(h),{
"hp-toc-entry-current":f,"hp-toc-entry-is-title":m});return C.createElement(p.HpMenuItem,{className:g,key:c,ref:f?"currentEntry":"","data-node-id":c,"data-href":s,"data-offset":d,
"data-track":"toc-entry-clicked","data-track-index":a,onClick:t.onTocEntryClick_},C.createElement(u.default,{className:"hp-toc-entry-link",href:s,title:r,"track-title":"Entry "+a
},C.createElement(l.default,{str:r})))}),this);if(!this.hasRendered_&&o.length>1){this.hasRendered_=!0;(0,N.trackUi)("toc-rendered-first-time",{entryCount:o.length})}var r=[]
;this.state.entries.forEach((function(e,a){var n=e.indent+1,o=e.id==(t.overrideCurrentHeaderId_||t.state.currentHeaderId),s=i("hp-toc-abstract-entry","hp-toc-abstract-entry-".concat(n),{
"hp-toc-entry-current":o,"hp-toc-entry-is-title":e.isTitle});r.push(C.createElement(p.HpMenuItem,{key:a,className:s,ref:o?"currentAbstractEntry":""}))}))
;var s=this.state,d=s.open,f=s.isFocused,g=s.isPinned,v=s.firstRender,b=s.style,y=this.props.editorContentsBreakpoint;return C.createElement(N.TrackContext,{trackContext:N.EditorContext.TableOfContent
},C.createElement("div",{className:i({"hp-toc":!0,"hp-toc-is-closing":!d,"hp-toc-active":f||g,"hp-toc-breakpoint-one":"breakpoint-one"==y,"hp-toc-breakpoint-two":"breakpoint-two"==y,
"hp-toc-breakpoint-three":"breakpoint-three"==y,"hp-toc-breakpoint-four":"breakpoint-four"==y}),onMouseEnter:this.onMouseEnter_,onFocusCapture:this.onMouseEnter_,onMouseLeave:this.onMouseLeave_,
onBlurCapture:this.onMouseLeave_},C.createElement(c.HorizToggleSpring,{withOpacity:!0,tension:85,friction:6,from:0,to:10,open:d||f,atRest:v,onUpdate:this.handleSpringUpdate,
onAtRest:this.handleSpringAtRest}),M.isOnButDoNotLog("paper_toc_with_pin")&&C.createElement("div",{style:b,className:i(O.default.tocPinButtonContainer,(e={},e[O.default.tocPinButtonContainerActive]=d,
e))},C.createElement(h.LayerContext.Provider,{value:{zIndex:23}},C.createElement(F.Tooltip,{title:R(U.pinTocButton),className:"notranslate"},C.createElement(m.IconButton,{
className:O.default.tocPinButton,variant:"transparent",onClick:this.handlePin,size:"small","aria-label":R(U.pinTocButton)},C.createElement(D.UIIcon,{src:g?k.PinFill:k.PinLine
}))))),C.createElement("ul",{className:"hp-toc-entries",role:"navigation",ref:"tocEntries",style:b},o),C.createElement("ul",{className:"hp-toc-abstract-entries","aria-hidden":"true"},r)))};var a
;t.displayName="Toc";t.minNumEntriesToRender=2;return t=a=n.__decorate([d.default],t)}(C.Component);t.default=B}}]);

//# sourceMappingURL=https://paper.dropbox.com/static/sourcemap/fe4da7feaec6ed2ff86b.suVNvCqXQch-jvxXKKTI97pwPnvhHAyb2Qj08mL-66o.js.map