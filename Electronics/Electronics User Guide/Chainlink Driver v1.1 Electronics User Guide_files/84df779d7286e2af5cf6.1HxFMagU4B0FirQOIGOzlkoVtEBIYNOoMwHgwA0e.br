(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["paper_binder~paper_bundle~paper_view_only"],{1479:function(e,t,a){"use strict";a.r(t);a.d(t,"lazy",(function(){
return C}));a.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return P}));a.d(t,"loadableReady",(function(){return S}));var n=a(0),r=a.n(n),o=a(255),s=a.n(o);function i(e,t){
if(!e){var a=new Error("loadable: "+t);a.framesToPop=1;a.name="Invariant Violation";throw a}}function l(e){console.warn("loadable: "+e)}
var c=r.a.createContext(),d="__LOADABLE_REQUIRED_CHUNKS__",u=Object.freeze({LOADABLE_REQUIRED_CHUNKS_KEY:d,invariant:i,Context:c});function p(){p=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};return p.apply(this,arguments)}function m(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){return e};function f(e){
var t=e.resolve,a=void 0===t?h:t,n=e.render,o=e.onLoad;function s(e,t){void 0===t&&(t={});var s,l=function(e){return"function"==typeof e?{requireAsync:e}:e}(e),d={},u=function(e){!function(e,t){
e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}(r,e);function r(a){var n;(n=e.call(this,a)||this).state={result:null,error:null,loading:!0}
;i(!a.__chunkExtractor||l.requireSync,"SSR requires `@loadable/babel-plugin`, please install it");if(a.__chunkExtractor){if(!1===t.ssr)return m(n);l.requireAsync(a).catch((function(){}));n.loadSync()
;a.__chunkExtractor.addChunk(l.chunkName(a));return m(n)}l.isReady&&l.isReady(a)&&n.loadSync();return n}var s=r.prototype;s.componentDidMount=function(){this.mounted=!0
;this.state.loading?this.loadAsync():this.state.error||this.triggerOnLoad()};s.componentWillUnmount=function(){this.mounted=!1};s.safeSetState=function(e,t){this.mounted&&this.setState(e,t)}
;s.triggerOnLoad=function(){var e=this;o&&setTimeout((function(){o(e.state.result,e.props)}))};s.loadSync=function(){if(this.state.loading)try{var e=l.requireSync(this.props),t=a(e,{Loadable:f})
;this.state.result=t;this.state.loading=!1}catch(e){this.state.error=e}};s.getCacheKey=function(){return JSON.stringify(this.props)};s.getCache=function(){return d[this.getCacheKey()]}
;s.setCache=function(e){d[this.getCacheKey()]=e};s.loadAsync=function(){var e=this;this.promise=this.promise||l.requireAsync(this.props).then((function(n){var r=a(n,{Loadable:f})
;t.suspense&&e.setCache(r);e.safeSetState({result:a(n,{Loadable:f}),loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){e.safeSetState({error:t,loading:!1})}))
;return this.promise};s.render=function(){var e=this.props,a=e.forwardedRef,r=e.fallback,o=(e.__chunkExtractor,function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++){
a=o[n];t.indexOf(a)>=0||(r[a]=e[a])}return r}(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,i=s.error,l=s.loading,c=s.result;if(t.suspense){var d=this.getCache()
;if(!d)throw this.loadAsync();return n({loading:!1,fallback:null,result:d,options:t,props:p({},o,{ref:a})})}if(i)throw i;var u=r||t.fallback||null;return l?u:n({loading:l,fallback:u,result:c,
options:t,props:p({},o,{ref:a})})};return r}(r.a.Component),h=(s=u,function(e){return r.a.createElement(c.Consumer,null,(function(t){return r.a.createElement(s,Object.assign({__chunkExtractor:t},e))
}))}),f=r.a.forwardRef((function(e,t){return r.a.createElement(h,Object.assign({forwardedRef:t},e))}));f.preload=function(e){
if("undefined"==typeof window)throw new Error("`preload` cannot be called server-side");l.requireAsync(e)};return f}return{loadable:s,lazy:function(e,t){return s(e,p({},t,{suspense:!0}))}}}var g=f({
resolve:function(e,t){var a=t.Loadable,n=e.__esModule?e.default:e.default||e;s()(a,n,{preload:!0});return n},render:function(e){var t=e.result,a=e.props;return r.a.createElement(t,a)}
}),v=g.loadable,y=g.lazy,b=f({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){
var t=e.result,a=e.loading,n=e.props;return!a&&n.children?n.children(t):null}}),E=b.loadable,k=b.lazy,_="undefined"!=typeof window;function S(e){void 0===e&&(e=function(){});if(!_){
l("`loadableReady()` must be called in browser only");e();return Promise.resolve()}var t=null;if(_){var a=document.getElementById(d);a&&(t=JSON.parse(a.textContent))}if(!t){
l("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side");e();return Promise.resolve()}var n=!1;return new Promise((function(a){
window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var r=window.__LOADABLE_LOADED_CHUNKS__,o=r.push.bind(r);function s(){if(t.every((function(e){return r.some((function(t){
return t[0].includes(e)}))}))&&!n){n=!0;a();e()}}r.push=function(){o.apply(void 0,arguments);s()};s()}))}var w=v;w.lib=E;var C=y;C.lib=k;var P=u;t.default=w},1480:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.ComposerAppPages=void 0
;var n=a(1),r=a(6),o=a(39),s=a(184),i=a(4),l=a(148),c=a(370),d=a(171),u=a(458),p=a(89),m=a(1525),h=a(1526),f=a(53),g=a(311),v=a(26),y=a(47),b=a(8),E=a(99),k=a(208),_=a(461),S=a(54),w=a(7),C=a(76),P=a(852),I=a(373),T=a(856),N=a(1584),M=a(1586),A=a(467),x=a(1596),O=a(7),D=a(28),L=a(1603),F=a(1604),U=a(1605),R=a(384),B=a(625),W=a(1718),H=a(1721),j=a(637),V=a(252),K=a(1722),G=a(905),q=a(32),z=a(76),Y=a(318),J=a(0),X=a(74),Q=a(638),Z=a(482),$=a(32),ee=a(63),te=a(483),ae=a(484),ne=a(320),re=a(1735),oe=a(392),se=function(e){
n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.getPageNames=function(){return r.values(f.default)};t.prototype.constructUrl=function(e,t){t=t||{};var a
;switch(e){case f.default.WELCOME:return(0,o.addPathPrefix)("/welcome");case f.default.HOME:var n=t,r=n.dataSource,s=n.suffix,i=n.filter,l=(0,_.tabsLookupByMetadata)(this.homeTabs,{dataSource:r,
filter:i});a=l?l.paths[0]:"/";return(0,o.addPathPrefix)(a+(s||""));case f.default.FAVORITES:var c=t;a=c.filter==O.ListViewFilter.alphabeticalFavorites?"/favorites/all":"/favorites";return(0,
o.addPathPrefix)(a+(c.suffix||""));case f.default.PAD:var d=t;return d.id?$.relativePrettyPaperDocUrl(d.id,d.title)+(d.suffix||""):(0,o.addPathPrefix)("/");case f.default.VIEW_ONLY:var u=t
;return $.relativePrettyPaperDocUrl(u.id,u.title);case f.default.FOLDER:var p=t;return C.prettyFolderUrlFromParts(p.id,p.title,p.filter);case f.default.FOLDER_LIST:var m=t
;if(m.filter==C.getDefaultFoldersTab())a="/folders";else switch(m.filter){case O.ListViewFilter.alphabetical:a="/folders/all";break;case O.ListViewFilter.archived:a="/folders/archived";break
;case O.ListViewFilter.createdByMe:a="/folders/created-by-me";break;case O.ListViewFilter.sharedWithMe:a="/folders/shared-with-me";break;case O.ListViewFilter.recents:a="/folders/recents";break
;default:a="/folders"}return(0,o.addPathPrefix)(a+(m.suffix||""));case f.default.PAD_LIST:var h=t;switch(h.filter){case O.ListViewFilter.createdByMe:a="/docs/created-by-me";break
;case O.ListViewFilter.ownedByMe:a="/docs/owned-by-me";break;case O.ListViewFilter.sharedWithMe:a="/docs/shared-with-me";break;case O.ListViewFilter.archived:a="/docs/archived";break
;case O.ListViewFilter.trashed:a="/docs/deleted";break;case O.ListViewFilter.deleted:a="/docs/deleted?deletedOnly=1";break;case O.ListViewFilter.relevantTeamDocs:a="/docs/relevant-team-docs";default:
a="/docs"}return(0,o.addPathPrefix)(a+(h.suffix||""));case f.default.PROJECT:var g=t;return C.prettyFolderUrlFromParts(g.id,g.title,g.filter);case f.default.PROJECT_LIST:var v=t;switch(v.filter){
case O.ListViewFilter.alphabetical:a="/folders/all";case O.ListViewFilter.archived:a="/folders/archived";case O.ListViewFilter.member:a="/folders/created-by-me";default:a="/folders"}return(0,
o.addPathPrefix)(a+(v.suffix||""));case f.default.REVERT_PAD:var y=t;return(0,o.addPathPrefix)("/doc/revert/"+y.padId+"/"+y.rev);case f.default.EXTRA_REVISION_PAD:var b=t;return(0,
o.addPathPrefix)("/doc/revert-extra/"+b.padId+"/"+b.objectId);case f.default.IMPORTER:return(0,o.addPathPrefix)("/import-hackpad");case f.default.TASKS:return(0,o.addPathPrefix)("/tasks")
;case f.default.PRESENTER:var E=t;return(0,o.addPathPrefix)("/doc/present/"+E.id);case f.default.MOBILE_APP_LINK:return(0,o.addPathPrefix)("/mobile-app-link");case f.default.CONNECT_ACCOUNTS:return(0,
o.addPathPrefix)("/connect-accounts");case f.default.ADD_AVATAR:return(0,o.addPathPrefix)("/add-avatar");case f.default.INVITE_TEAM_MEMBERS:return(0,o.addPathPrefix)("/invite-team-members")
;case f.default.INVITE_OTHERS_TO_DOCS:return(0,o.addPathPrefix)("/invite-others-to-docs");case f.default.PAD_DESKTOP_REDIRECT:return(0,o.addPathPrefix)("/pad-desktop-redirect");case f.default.SAMPLE:
var k=t;return(0,o.addPathPrefix)("/pad/open-or-create-sample/"+k.sampleKey);case f.default.INVITE_SLACK_TEAM:return(0,o.addPathPrefix)("/invite-slack-team");default:return(0,o.addPathPrefix)("")}}
;t.prototype.parseUrl=function(e){var t,a,n=this.preParseUrl_(e),o=(0,_.tabsLookupByPath)(this.homeTabs,n),s={};if(o){t=f.default.HOME;s=o.metadata;a="/"===n?"navigate-to-home":void 0
}else if("/welcome"==n)t=f.default.WELCOME;else if("/connect-accounts"==n)t=f.default.CONNECT_ACCOUNTS;else if("/add-avatar"==n)t=f.default.ADD_AVATAR;else if("/invite-team-members"==n)t=f.default.INVITE_TEAM_MEMBERS;else if("/invite-others-to-docs"==n)t=f.default.INVITE_OTHERS_TO_DOCS;else if("/invite-slack-team"===n)t=f.default.INVITE_SLACK_TEAM;else if("/pad-desktop-redirect"==n)t=f.default.PAD_DESKTOP_REDIRECT;else if("/favorites"==n){
t=f.default.FAVORITES;s.filter=O.ListViewFilter.recentFavorites}else if("/favorites/alphabetical"==n||"/favorites/all"==n){t=f.default.FAVORITES;s.filter=O.ListViewFilter.alphabeticalFavorites
}else if("/docs"==n||"/notes"==n||"/docs-streaming"==n){t=f.default.PAD_LIST;s.filter=O.ListViewFilter.recents;a="navigate-to-home"}else if("/docs/created-by-me"==n||"/notes/created-by-me"==n){
t=f.default.PAD_LIST;s.filter=O.ListViewFilter.createdByMe}else if("/docs/owned-by-me"==n){t=f.default.PAD_LIST;s.filter=O.ListViewFilter.ownedByMe
}else if("/docs/shared-with-me"==n||"/notes/shared-with-me"==n){t=f.default.PAD_LIST;s.filter=O.ListViewFilter.sharedWithMe}else if("/docs/archived"==n||"/notes/archived"==n){t=f.default.PAD_LIST
;s.filter=O.ListViewFilter.archived}else if("/docs/deleted"==n||"/docs/trashed"==n){t=f.default.PAD_LIST;var i="1"==e.getQuery().deletedOnly||"1"==e.getQuery()["?deletedOnly"]
;s.filter=i?O.ListViewFilter.deleted:O.ListViewFilter.trashed}else if("/docs/relevant-team-docs"==n){t=f.default.PAD_LIST;s.filter=O.ListViewFilter.relevantTeamDocs}else if("/folders/all"==n){
t=f.default.FOLDER_LIST;s.filter=O.ListViewFilter.alphabetical}else if("/folders/archived"==n){t=f.default.FOLDER_LIST;s.filter=O.ListViewFilter.archived}else if("/folders/created-by-me"==n){
t=f.default.FOLDER_LIST;s.filter=O.ListViewFilter.createdByMe}else if("/folders/recents"==n){t=f.default.FOLDER_LIST;s.filter=O.ListViewFilter.recents}else if("/folders/shared-with-me"==n){
t=f.default.FOLDER_LIST;s.filter=O.ListViewFilter.sharedWithMe}else if("/folders"==n||"/folders/following"==n){t=f.default.FOLDER_LIST;s.filter=C.getDefaultFoldersTab()
}else if(0==n.indexOf(z.PaperFolderPathPrefix)||0==n.indexOf(q.PaperCollectionPathPrefix)){t=f.default.FOLDER
;0==(s=C.folderIdAndTitleFromUrl(n)).suffix.indexOf("/recents")?s.filter=O.ListViewFilter.recents:s.filter=O.ListViewFilter.alphabetical}else if("/projects"==n){t=f.default.FOLDER_LIST
;s.filter=O.ListViewFilter.recents}else if("/projects/all"==n){t=f.default.FOLDER_LIST;s.filter=O.ListViewFilter.alphabetical}else if("/projects/archived"==n){t=f.default.FOLDER_LIST
;s.filter=O.ListViewFilter.archived}else if("/projects/mine"==n){t=f.default.FOLDER_LIST;s.filter=O.ListViewFilter.member}else if(0==n.indexOf("/project/show/")){t=f.default.FOLDER
;0==(s=C.projectIdAndTitleFromUrl(n)).suffix.indexOf("/alphabetical")?s.filter=O.ListViewFilter.alphabetical:0==s.suffix.indexOf("/tasks")?s.filter=O.ListViewFilter.tasks:s.filter=O.ListViewFilter.allRecents
}else if(0==n.indexOf("/doc/revert/")){t=f.default.REVERT_PAD;if(5!=(l=n.split("/")).length)throw Error("invalid url: "+n);s={padId:l[3],rev:Number(l[4])}}else if(0==n.indexOf("/doc/revert-extra/")){
t=f.default.EXTRA_REVISION_PAD;if(5!=(l=n.split("/")).length)throw Error("invalid url: "+n);s={padId:l[3],objId:l[4]}
}else if("/import-hackpad"==n)t=f.default.IMPORTER;else if("/hackpad"==n)t=f.default.IMPORTER_SELF_SERVE;else if("/tasks"==n)t=f.default.HOME;else if(0==n.indexOf("/doc/present/")){
t=f.default.PRESENTER;s.id=$.idAndTitleFromUrl(e.setPath(n).toString()).id}else if("/mobile-app-link"==n)t=f.default.MOBILE_APP_LINK;else if(0===n.indexOf("/collection/")||0===n.indexOf("/s/")){
e.setScheme("https");e.setAuthority(v.default.profsharingCanonicalDomain);window.location.href=e.toString();t=f.default.HOME;s=this.homeTabs[0].metadata
}else if(0==n.indexOf("/pad/open-or-create-sample/")){t=f.default.SAMPLE;var l;if(4!=(l=n.split("/")).length||!Q.SamplePadTypes.isValidSampleType(l[3]))throw Error("invalid url: "+n);s={sampleKey:l[3]
};a="navigate-to-sample"}else if($.isViewOnlyUrl(n)){t=f.default.VIEW_ONLY;s=$.idAndTitleFromUrl(e.setPath(n).toString())}else if(n===$.PaperDeferredDocPath){t=f.default.PAD;s={deferred:!0}
;a="navigate-to-pad"}else{t=f.default.PAD;s=$.idAndTitleFromUrl(e.setPath(n).toString());a="navigate-to-pad"}r.assignIn(s,e.getQuery());return{pageName:t,params:s,actionName:a=a||"navigate-to-page-"+t
}};t.prototype.renderMobileUpsellComponent=function(){if(!D.isMobile())return null;var e=this.parseUrl((0,o.parseURIOrThrow)(y.default.href));if(e.pageName==f.default.PAD){
var t=b.default.isSignedIn()?i.AppContext.OpenInAppBanner.PadPageSignedIn:i.AppContext.OpenInAppBanner.PadPageSignedOut;return J.createElement(i.TrackContext,{trackContext:t
},J.createElement(j.default,{hideOpen:!b.default.isMobileUser,docPage:!0}))}return e.pageName==f.default.WELCOME?J.createElement(i.TrackContext,{trackContext:i.AppContext.OpenInAppBanner.WelcomePage
},J.createElement(j.default,{hideOpen:!b.default.isMobileUser,welcomePage:!0})):e.pageName==f.default.MOBILE_APP_LINK?null:J.createElement(i.TrackContext,{
trackContext:i.AppContext.OpenInAppBanner.NonPadPage},J.createElement(j.default,{hideOpen:!b.default.isMobileUser}))};t.prototype.renderComponent=function(e){var t=e.name;if(t==f.default.PAD){
var r=a(485).default;return J.createElement(r,n.__assign({key:e.uid},e))}if(t==f.default.FAVORITES){var o=a(1893).default;return J.createElement(o,n.__assign({key:e.uid},e))}
if(t==f.default.WELCOME)return J.createElement(re.Welcome,n.__assign({key:e.uid},e));if(t==f.default.CONNECT_ACCOUNTS){var s=e.params?Number(e.params.current_contacts_length):1
;return J.createElement(H.OnboardingConnectAccountsPrompt,n.__assign({numberOfCurrentContacts:s||1,key:e.uid},e))}
if(t==f.default.ADD_AVATAR)return J.createElement(W.OnboardingAvatarUploader,n.__assign({key:e.uid,skipOrContinueUrl:"/invite-team-members"},e))
;if(t==f.default.INVITE_TEAM_MEMBERS)return e.params.from_home&&"true"==e.params.from_home?J.createElement(A.InviteTeamMembersPage,n.__assign({key:e.uid,version:w.InviteTeamMembersPageVersion.v5
},e)):J.createElement(A.InviteTeamMembersPage,n.__assign({key:e.uid,version:w.InviteTeamMembersPageVersion.v8},e));if(t===f.default.INVITE_OTHERS_TO_DOCS){var i=e.params.fullName,l=e.params.email
;return J.createElement(N.InviteOthersToDocs,n.__assign({key:e.uid},e,{teammateFullName:i,teammateEmail:l}))}if(t===f.default.INVITE_SLACK_TEAM){var c=e.params.appId
;return J.createElement(M.InviteSlackTeamPage,n.__assign({appId:c},e))}if(t==f.default.PAD_DESKTOP_REDIRECT){var d=e.params.relativePadUrl,u=e.params.cont;return J.createElement(K.default,n.__assign({
key:e.uid,relativePadUrl:d,continueOnWebUrl:u},e))}if(t==f.default.FOLDER){var p=a(966).default;return J.createElement(p,n.__assign({key:e.uid},e))}if(t==f.default.FOLDER_LIST){var m=a(1909).default
;return J.createElement(m,n.__assign({key:e.uid},e))}if(t==f.default.PAD_LIST)return J.createElement(G.default,n.__assign({key:e.uid},e))
;if(t==f.default.HOME)return J.createElement(T.default,n.__assign({key:e.uid,tabs:this.homeTabs},e));if(t==f.default.REVERT_PAD){var h=a(967).default;return J.createElement(h,n.__assign({key:e.uid
},e))}if(t==f.default.EXTRA_REVISION_PAD){h=a(967).default;return J.createElement(h,n.__assign({key:e.uid},e))}if(t==f.default.IMPORTER){var g=a(1910).default;return J.createElement(g,n.__assign({
key:e.uid},e))}if(t==f.default.IMPORTER_SELF_SERVE){var v=a(1911).default;return J.createElement(v,n.__assign({key:e.uid},e))}if(t==f.default.PRESENTER){var y=a(1913).default
;return J.createElement(y,n.__assign({key:e.uid},e))}if(t==f.default.MOBILE_APP_LINK)return J.createElement(L.default,n.__assign({key:e.uid},e));if(t){var b=a(905).default
;return J.createElement(b,n.__assign({key:e.uid},e))}return null};Object.defineProperty(t.prototype,"homeTabs",{get:function(){return n.__spreadArray([],_.unifiedHomeTabs,!0)},enumerable:!1,
configurable:!0});t.pages=f.default;return t}(l.AppPages);t.ComposerAppPages=se;var ie=function(e){n.__extends(t,e);function t(t,a){var n=e.call(this,t,a)||this;n.appPages=new se
;n.appVersionChecker=d.defaultAppVersionChecker;n.debugPanel=null;n.appProxy=new c.default;n.state={theme:(0,s.initialTheme)()};n.handleCreated=function(e){n.appProxy.setApp(e)}
;n.setFollowModal=function(e){n.shouldShowFollowModal()&&(n.refs.app.followModal=e)};n.handlePadLoaded=function(e){e[0];e[1].setPreferredEditableState(S.EditableState.Readonly,!1)};if((0,
s.allowPaperNoir)(O.ProductType.Paper,!1)){n.themeService=new ne.WebThemeService;a.themeService=n.themeService;n.state.theme=n.themeService.getTheme();n.themeService.on("change",(function(e){
n.setState({theme:e})}))}return n}t.prototype.getChildContext=function(){this.appContext||(this.appContext=n.__assign(n.__assign({},this.props.initialContext),{
appNavigationService:new k.GenericAppNavigationService([h.composerAppCloudDocNavigator,k.defaultAppNavigator]),moreMenuService:g.composerMoreMenuService,themeService:this.themeService}))
;return this.appContext};t.prototype.postAppSetup=function(){this.getChildContext().stores.notificationList.initBolt();this.notificationsActivityMonitor=new U.default(this.refs.app)
;this.refs.app.getCurrentPadController()&&this.refs.app.getCurrentPadController().updateEditability();this.setFollowModal(this.refs.followModal)};t.prototype.shouldShowLeftNavSidebar=function(){
return!b.default.userIsGuest};t.prototype.shouldShowFollowModal=function(){return!b.default.userIsGuest};t.prototype.componentDidMount=function(){var e=this;if(this.shouldShowLeftNavSidebar()){
this.refs.app.leftNavSidebar=this.refs.leftNavSidebarInstance;this.refs.app.assistMenuButton=this.assistMenuButtonRef}this.refs.app.initAsync((function(){ae.checkCurrentUserTimezone()
;D.isMobile()&&e.refs.app.padLoader.on("hp-pad-loaded",e.handlePadLoaded)}))};t.prototype.componentWillUnmount=function(){var e,t
;null===(t=null===(e=this.refs.app)||void 0===e?void 0:e.padLoader)||void 0===t||t.off("hp-pad-loaded",this.handlePadLoaded)};t.prototype.getAppRedirects=function(){return(0,
p.cloudDocsUxEnabled)()?m.cloudDocsUxForcedRedirects:F.noForcedRedirects};t.prototype.render=function(){var e=this,t=this.appPages.parseUrl((0,
o.parseURIOrThrow)(y.default.href)).pageName==f.default.PRESENTER,a=null;t||D.isMobile()||!b.default.isSignedIn()||E.isOn("disable-onboarding")||(a=J.createElement(B.default,{
isDisplayingCloudDoc:function(){var t,a;return null===(a=null===(t=e.refs.app)||void 0===t?void 0:t.getCurrentPadController())||void 0===a?void 0:a.isCloudDoc()}}))
;var n=this.shouldShowFollowModal()?J.createElement(P.FollowModal,{ref:"followModal",appProxy:this.appProxy,stores:this.props.initialContext.stores
}):null,r=this.shouldShowLeftNavSidebar()&&!t?J.createElement(x.default,{ref:"leftNavSidebarInstance",appProxy:this.appProxy
}):null,s=ee.isOnButDoNotLog("paper_omnibar_ui")&&b.default.isSignedIn()?J.createElement(R.default,{omnibar:this.props.initialContext.omnibar}):null;return J.createElement(V.default,{ref:"app",
appVersionChecker:this.appVersionChecker,appPages:this.appPages,appRedirects:this.getAppRedirects(),productType:O.ProductType.Paper,enableHistory:!0,pageTitleSuffix:v.default.siteNameIncludingDropbox,
onCreated:this.handleCreated,themeService:this.themeService,className:"hp-app-paper"},J.createElement(Z.ServerDBStatusAwareBanner,{platform:"Paper",
serverDBStatusStore:this.props.initialContext.stores.serverDBStatus}),J.createElement("aside",{ref:"sidebar",id:"listSidebar",className:"hp-sidebar-enabled"},r),J.createElement("div",{
id:"hp-popup-container"}),!t&&J.createElement(oe.AppProxyWrapper,{appProxy:this.appProxy},(function(t){return J.createElement(i.TrackContext,{trackContext:i.AppContext.App},J.createElement("div",{
className:"hp-editor-footer-buttons hp-editor-footer-buttons--right"},J.createElement(u.default,{app:t,ref:function(t){return e.assistMenuButtonRef=t},showBugButton:b.default.isDropboxer
}),J.createElement(te.default,{hideEntryPoint:!0,app:t,stores:e.props.initialContext.stores}),ee.isOnButDoNotLog("paper_csi_menu")&&J.createElement(Y.default,{app:t}),J.createElement("div",{
id:"hp-a11y-tool"})))})),J.createElement("div",{id:"debug-panel"}),J.createElement("div",{id:"hp-tooltip-container"}),J.createElement("div",{id:"hp-doc-preview-container",
className:"hp-callout-wrapper"}),a,n,s)};t.displayName="ComposerAppContainer";t.childContextTypes=X.ReactAppContextTypes;return t=n.__decorate([I.hijackBackspace],t)}(J.Component);t.default=ie},
1525:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.cloudDocsUxForcedRedirects=void 0;var n=a(53),r=a(4),o=a(101);t.cloudDocsUxForcedRedirects={checkForcedRedirect:function(e,t){
if(function(e){var t;return e in((t={})[n.default.PAD]=!0,t[n.default.FOLDER]=!0,t[n.default.PRESENTER]=!0,t)}(e))return{forcedRedirect:!1};(0,
r.trackEng)("Cloud docs: forcing redirect for legacy in-app navigation",{pageName:e});return{forcedRedirect:!0,redirectUrl:o.dropboxUrl("/")}}}},1526:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.composerAppCloudDocNavigator=void 0;var n=a(1),r=a(247),o=a(32),s=a(29),i=function(e){n.__extends(t,e);function t(){
return null!==e&&e.apply(this,arguments)||this}t.prototype.navigateToPad=function(e,t){void 0===t&&(t={});if("cloudDocId"in e){var a=o.relativePaperDocUrl(e.id);(0,
s.topWindowLocationReplace)("navigate-to-cloud-doc-from-legacy-doc",a);return Promise.resolve({handled:!0,params:e,options:t})}return Promise.resolve({handled:!1,params:e,options:t})};return t
}(r.NoopPadAwareAppNavigator);t.composerAppCloudDocNavigator=new i},1584:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.InviteOthersToDocs=void 0
;var n=a(1),r=a(89),o=a(8),s=a(2),i=a(611),l=a(11),c=a(27),d=a(86),u=a(10),p=a(139),m=a(1585),h=a(7),f=a(464),g=a(23),v=a(0),y=a(29),b=a(32),E=a(13),k=a(4),_=a(102),S=(0,
a(5).PaperIntlFactory)().F,w=(0,s.defineMessages)({backtoPaperHome:{id:"UNHcZe",defaultMessage:"Back to Paper Home"},helpnamegetstartedwithafewdocs:{id:"7a5TKI",
defaultMessage:"Help {name} get started with a few docs"},theyllgetanemailwithlinkstodocsyoushare:{id:"GsTRCF",defaultMessage:"They'll get an email with links to docs you share."},viewedRecently:{
id:"lRkp8+",defaultMessage:"Viewed Recently"}}),C=function(e){n.__extends(t,e);function t(t,a){var n=e.call(this,t,a)||this;n.handlePadListDataSourceChange=function(){n.setState({data:n.store.get()})}
;n.handleDismissClick=function(e){n.navigateToHomePage()};n.navigateToHomePage=function(){n.getApp().navigateToUrl("/")};n.store=new f.default({store:n.context.stores.padList,
filter:h.ListViewFilter.recents,includingCloudDocs:(0,r.alwaysCreateCloudDocs)()});n.colorId=(0,d.getRandomColorId)();n.state={data:n.store.get()};return n}t.prototype.componentDidMount=function(){
this.store.on("change",this.handlePadListDataSourceChange);(0,k.trackUi)("View InviteOthersToDocs",{context:k.AppContext.Onboarding.InviteOthersToDocs})};t.prototype.componentWillUnmount=function(){
this.store.off("change",this.handlePadListDataSourceChange);this.store.dispose()};t.prototype.getApp=function(){return this.props.app};t.prototype.enter=function(){
this.getApp().getLeftNavSidebar().setVisible(!1)};t.prototype.render=function(){var e,t,a=this;if(null===(e=this.state.data)||void 0===e?void 0:e.isLoaded){var r=this.state.data.entries
;r&&(t=r.map((function(e,t){return v.createElement(P,{key:"invite-other-to-docs-".concat(t),index:t,pad:e.pad,teammateEmail:a.props.teammateEmail})})))}var o={colorId:this.colorId,
name:this.props.teammateFullName},s=v.createElement(S,n.__assign({},w.backtoPaperHome));return v.createElement(k.TrackContext,{trackContext:k.AppContext.Onboarding.InviteOthersToDocs
},v.createElement("div",{className:"ob-invite-others-to-docs"},v.createElement("div",{className:"ob-invite-others-to-docs__heading"},v.createElement(u.default,{
className:"ob-invite-others-to-docs__dismiss",onClick:this.handleDismissClick,tooltip:s,tooltipAside:"left"},v.createElement(E.default,{name:"close-large"})),v.createElement(_.default,{user:o,
size:"large",disableTooltip:!0}),v.createElement("h1",{className:"ob-invite-others-to-docs__title"},v.createElement(S,n.__assign({values:{name:(0,c.getFirstName)({fullName:this.props.teammateFullName,
givenName:"",surname:""})}},w.helpnamegetstartedwithafewdocs))),v.createElement("p",{className:"ob-invite-others-to-docs__subtitle"
},v.createElement(S,n.__assign({},w.theyllgetanemailwithlinkstodocsyoushare)))),v.createElement("div",{className:"ob-invite-others-to-docs__content"},v.createElement("p",{
className:"ob-invite-others-to-docs__doc-list-title"},v.createElement(S,n.__assign({},w.viewedRecently))),v.createElement("div",{className:"hp-doc-and-folder-list"},t))))}
;t.displayName="InviteOthersToDocs";t.contextTypes={currentUser:g.object.isRequired,stores:g.object.isRequired};return t=n.__decorate([l.default],t)}(v.PureComponent);t.InviteOthersToDocs=C
;var P=function(e){var t=e.pad.url||b.relativePrettyPaperDocUrl(e.pad.localPadId,e.pad.title,o.default.userLocale);return v.createElement(u.default,{styleless:!0,disabled:!0,
className:"hp-list-item hp-list-item-doc",onClick:function(){return(0,y.safeWindowOpen)(t)},href:t,"track-title":"Pad entry","track-index":e.index},v.createElement(p.default,{title:e.pad.title
},v.createElement(E.default,{name:"note"})),v.createElement(i.default,{pad:e.pad,hideFolderMembership:!0}),v.createElement(m.default,{index:e.index,pad:e.pad,email:e.teammateEmail}))}},
1585:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(2),o=a(10),s=a(578),i=a(0),l=a(48),c=(0,a(5).PaperIntlFactory)().F,d=(0,r.defineMessages)({
couldntinvitetodocTryagainlater:{id:"tF+FkL",defaultMessage:"Couldn't invite to doc. Try again later."},invitesent:{id:"kG3Tlc",defaultMessage:"Invite sent"},invite:{id:"DkWtON",
defaultMessage:"Invite"}}),u=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleOneClickShare=function(e){e.stopPropagation();e.preventDefault()
;s.sendOneClickInvite(a.props.pad.localPadId,a.props.pad.padType,a.props.email,a.handleComplete,a.handleFailure,!0)};a.handleComplete=function(e,t){a.setState({inviteSent:!0})}
;a.handleFailure=function(){l.default.show(i.createElement(l.default,{autoDismiss:!0,autoDismissDelayMs:5e3},i.createElement(c,n.__assign({},d.couldntinvitetodocTryagainlater))))};a.state={
inviteSent:!1};return a}t.prototype.render=function(){return this.state.inviteSent?i.createElement("div",{className:"hp-list-item-inline-one-click-invite-sent"
},i.createElement(c,n.__assign({},d.invitesent))):i.createElement(o.default,{"track-title":"Invite (inline)","track-index":this.props.index,onClick:this.handleOneClickShare,primary:!0
},i.createElement(c,n.__assign({},d.invite)))};t.displayName="InlineOneClickInviteButton";return t}(i.PureComponent);t.default=u},1586:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.InviteSlackTeamPage=void 0;var n=a(1),r=a(8),o=a(4),s=a(1587),i=a(0),l=a(622),c=a(466),d=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.hasLoadedAllUsers=function(){
return""===a.state.cursor};a.hasInvitableUser=function(){return a.state.users.filter((function(e){return e.inviteStatus===l.SlackUserInviteStatus.CanInvite})).length>0};a.state={users:[],cursor:"",
errorCode:l.SlackInviteErrorCode.NoError,hasLoaded:!1};return a}t.prototype.componentDidMount=function(){document.body.classList.add("ob-hide-sidebar");var e=window.opener
;e&&e.postMessage("hp:oauth-complete","*");this.handleInitialLoad();o.IntentionEvent.PaperSlackInvitePageLoad.track({isTeamUser:!r.default.isPersonalDomainUser})}
;t.prototype.componentWillUnmount=function(){document.body.classList.remove("ob-hide-sidebar")};t.prototype.handleInitialLoad=function(){var e=this,t=[];t.push(new Promise((function(e,t){
c.getImList((function(t){e(t)}),(function(e){t(e);return!0}))})));t.push(new Promise((function(e,t){c.getUserList("",(function(t){e(t)}),(function(e){t(e);return!0}))})))
;return Promise.all(t).then((function(t){var a=t[0],n=t[1],r=c.matchUsers(a.ids,n.users);e.setState({users:r,cursor:n.cursor,hasLoaded:!0},(function(){e.loadUsers()}))}),(function(t){
t.responseText&&-1!==t.responseText.indexOf("No Slack API token")?e.setState({errorCode:l.SlackInviteErrorCode.AuthError,hasLoaded:!0}):e.setState({errorCode:l.SlackInviteErrorCode.ApiError,
hasLoaded:!0})}))};t.prototype.loadUsers=function(){var e=this;this.hasLoadedAllUsers()||this.state.users.length>0&&!this.hasInvitableUser()||c.getUserList(this.state.cursor,(function(t){e.setState({
cursor:t.cursor,users:e.state.users.concat(c.sortUsers(t.users))},(function(){e.loadUsers()}))}))};t.prototype.render=function(){if(!this.state.hasLoaded)return null
;var e=!this.hasInvitableUser()&&this.state.errorCode===l.SlackInviteErrorCode.NoError;return i.createElement(o.TrackContext,{trackContext:o.AppContext.SlackIntegration.InvitePage
},i.createElement(s.InviteSlackTeamWidget,{users:this.state.users,hasLoadedAllUsers:this.hasLoadedAllUsers(),errorCode:this.state.errorCode,appId:this.props.appId,skipToCelebrate:e}))}
;t.displayName="InviteSlackTeamPage";return t}(i.PureComponent);t.InviteSlackTeamPage=d},1587:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.InviteSlackTeamWidget=void 0
;var n=a(1),r=a(1588),o=a(3),s=a(8),i=a(2),l=a(10),c=a(4),d=a(201),u=a(1589),p=a(1591),m=a(1593),h=a(0),f=a(1594),g=a(622),v=a(52),y=a(48),b=a(1595),E=a(465),k=a(466),_=(0,
a(5).PaperIntlFactory)(),S=_.F,w=_._f,C=(0,i.defineMessages)({searchPlaceholder:{id:"JASAdn",defaultMessage:"Search by @username or name"},couldntsendinvitesChecktheconnectionandtryagain:{id:"PiDmtB",
defaultMessage:"Couldn’t send invites. Check the connection and try again."},tellyourSlackteamaboutPaper:{id:"Mycy25",defaultMessage:"Tell your Slack team about Paper?"},
theyllgetaprivatemessageinSlackinvitingthemtocreateandsharetheirowndocs:{id:"a1yY46",defaultMessage:"They’ll get a private message in Slack inviting them to create and share their own docs."},
slackTeam:{id:"sy4LAH",defaultMessage:"Slack Team"},numresultspluralonepersonotherpeoplefound:{id:"2t+iPd",defaultMessage:"{numResults, plural, one {1 person} other {# people}} found"},noresults:{
id:"uZOwxT",defaultMessage:"No results"},tryagain:{id:"BCyGLk",defaultMessage:"Try again"},sendnumInvitespluraloneinviteotherinvites:{id:"DztQ59",
defaultMessage:"Send {numInvites, plural, one {invite} other {# invites}}"},sendingnumInvitespluraloneinviteotherinvites:{id:"Aj5tun",
defaultMessage:"Sending {numInvites, plural, one {invite} other {# invites}}"},skip:{id:"PaR0U3",defaultMessage:"Skip"}}),P=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this
;a.getSelectedUsers=function(){return a.props.users.filter((function(e){return a.state.selectedIds[e.userId]}))};a.onUnload=function(){k.sendWelcomeMessage()};a.handleSelectAll=function(){
var e=a.state.selectedIds;a.searchUsers().forEach((function(t){t.inviteStatus===g.SlackUserInviteStatus.CanInvite&&(e[t.userId]=!0)}));a.setState({selectedIds:e,hasSelectedAll:!0})}
;a.handleUnselectAll=function(){var e=a.state.selectedIds;a.searchUsers().forEach((function(t){t.inviteStatus===g.SlackUserInviteStatus.CanInvite&&(e[t.userId]=!1)}));a.setState({selectedIds:e,
hasSelectedAll:!1})};a.getNumSelected=function(){return a.props.users.filter((function(e){return a.state.selectedIds[e.userId]})).length};a.getNumSearchedSelected=function(){
return a.searchUsers().filter((function(e){return a.state.selectedIds[e.userId]})).length};a.handleSearchInput=function(e){a.setState({searchText:e.target.value})};a.searchUsers=function(){
var e=a.state.searchText.toLowerCase();"@"===e.charAt(0)&&(e=e.substring(1));return 0===e.length?a.props.users.filter((function(e){return e.inviteStatus!==g.SlackUserInviteStatus.CantInvite
})):a.props.users.filter((function(t){return-1!==t.userName.toLowerCase().indexOf(e)||-1!==t.fullName.toLowerCase().indexOf(e)}))};a.handleSendInvites=function(){
c.IntentionEvent.PaperSlackInviteSendClick.track({numSelected:a.getNumSelected(),numSelectable:a.getNumSelectable(),isTeamUser:!s.default.isPersonalDomainUser});if(!a.state.isButtonDisabled){var e=[]
;a.getSelectedUsers().forEach((function(t){e.push({userId:t.userId,teamId:t.teamId,email:t.email})}));a.setState({isButtonDisabled:!0},(function(){k.sendInvites(e,(function(){a.setState({
isFinishedInviting:!0},(function(){window.removeEventListener("beforeunload",a.onUnload)}))}),(function(){a.setState({isButtonDisabled:!1})
;var e=h.createElement(S,n.__assign({},C.couldntsendinvitesChecktheconnectionandtryagain));y.default.show(h.createElement(y.default,{clickToDismiss:!0,autoDismiss:!0,autoDismissDelayMs:5e3
},h.createElement("div",null,h.createElement("b",null,e))));return!0}))}))}};a.handleSkip=function(){c.IntentionEvent.PaperSlackInviteSkipClick.track({numSelectable:a.getNumSelectable(),
isTeamUser:!s.default.isPersonalDomainUser});window.removeEventListener("beforeunload",a.onUnload);a.setState({selectedIds:{},isFinishedInviting:!0})};a.handleUserClick=function(e,t){var n
;a.setState({selectedIds:E(a.state.selectedIds,(n={},n[e]={$set:t},n)),hasSelectedAll:a.state.hasSelectedAll&&t})};a.handleOnScroll=function(e){a.setState({isListScrolled:e})}
;a.handleAuthErrorTryAgain=function(){c.IntentionEvent.PaperSlackInviteTryAgainClick.track({isTeamUser:!s.default.isPersonalDomainUser,errorType:"Auth Error"})
;window.location.href="/integrations/authorize/slack?inviteSlackTeam=1"};a.handleApiErrorTryAgain=function(){c.IntentionEvent.PaperSlackInviteTryAgainClick.track({
isTeamUser:!s.default.isPersonalDomainUser,errorType:"API Error"});window.location.reload()};a.state={selectedIds:{},searchText:"",hasSelectedAll:!1,isListScrolled:!1,isFinishedInviting:!1,
isButtonDisabled:!1};a.props.skipToCelebrate?c.IntentionEvent.PaperSlackInvitePageSkipToCelebrate.track({isTeamUser:!s.default.isPersonalDomainUser,numUsers:a.props.users.length
}):window.addEventListener("beforeunload",a.onUnload);return a}t.prototype.componentDidUpdate=function(e){var t=this;if(this.props.users!==e.users){var a=this.state.selectedIds
;this.props.users.forEach((function(e){a[e.userId]||(a[e.userId]=t.state.hasSelectedAll&&e.inviteStatus===g.SlackUserInviteStatus.CanInvite)}));this.setState({selectedIds:a})}}
;t.prototype.getNumSelectable=function(){return this.searchUsers().filter((function(e){return e.inviteStatus===g.SlackUserInviteStatus.CanInvite})).length};t.prototype.render=function(){
if(this.props.errorCode===g.SlackInviteErrorCode.AuthError)return h.createElement(m.InviteSlackTeamAuthError,{onPrimaryButtonClicked:this.handleAuthErrorTryAgain})
;if(this.state.isFinishedInviting||this.props.skipToCelebrate)return h.createElement(u.InviteSlackTeamCelebrate,{users:this.getSelectedUsers(),appId:this.props.appId})
;var e,t=this.props.errorCode===g.SlackInviteErrorCode.ApiError,a=this.searchUsers(),s=this.getNumSelected(),i=this.getNumSelectable(),c=this.getNumSearchedSelected()===i&&0!==i,y=h.createElement(S,n.__assign({},C.tellyourSlackteamaboutPaper)),E=h.createElement(S,n.__assign({},C.theyllgetaprivatemessageinSlackinvitingthemtocreateandsharetheirowndocs)),_=h.createElement(d.InvitedUsers,{
users:k.slackUserProfilesToUserInfo(this.getSelectedUsers()),border:!0,displayUnregisteredUsers:!0,ignoreConnectedStatus:!0,showDetailedOverflowTooltip:!0
}),P=w(C.searchPlaceholder),I=h.createElement(f.SearchBox,{value:this.state.searchText,text:P,onChange:this.handleSearchInput
}),T=h.createElement(S,n.__assign({},C.slackTeam)),N=h.createElement(S,n.__assign({values:{numResults:a.length}
},C.numresultspluralonepersonotherpeoplefound)),M=h.createElement(S,n.__assign({},C.noresults)),A=0===a.length?M:N,x=""===this.state.searchText?T:A,O=0!==a.length||t?null:h.createElement(m.InviteSlackTeamSearchError,null),D=o("ob-slack-invite-header-border",{
scrolled:this.state.isListScrolled}),L=h.createElement(b.ToggleSelectAll,{onSelectAll:this.handleSelectAll,onUnselectAll:this.handleUnselectAll,allItemsSelected:c,disabled:0===i
}),F=this.props.errorCode===g.SlackInviteErrorCode.ApiError?null:h.createElement("div",{className:"ob-slack-invite-header-controls"},h.createElement("div",{
className:"ob-slack-invite-header-search-container"},I),h.createElement("div",{className:"ob-slack-invite-header-team-controls"},h.createElement("div",{className:"ob-slack-invite-header-status"
},x),h.createElement("div",{className:"ob-slack-invite-header-team-controls-check-container"},L)),h.createElement("div",{className:D
})),U=t?h.createElement(m.InviteSlackTeamApiError,null):h.createElement(p.InviteSlackTeamList,{users:a,handleUserClick:this.handleUserClick,hasLoadedAllUsers:this.props.hasLoadedAllUsers,
selectedIds:this.state.selectedIds,onScroll:this.handleOnScroll});if(this.props.errorCode===g.SlackInviteErrorCode.ApiError)e=h.createElement(l.default,{primary:!0,onClick:this.handleApiErrorTryAgain,
className:"ob-slack-invite-next-button"},h.createElement(S,n.__assign({},C.tryagain)));else{var R=h.createElement(S,n.__assign({values:{numInvites:0===s?1:s}
},C.sendnumInvitespluraloneinviteotherinvites)),B=h.createElement(S,n.__assign({values:{numInvites:s}
},C.sendingnumInvitespluraloneinviteotherinvites)),W=this.state.isButtonDisabled?h.createElement(r.default,{intervalSeconds:.5}):null,H=this.state.isButtonDisabled?B:R;e=h.createElement(l.default,{
primary:!0,disabled:0===s||this.state.isButtonDisabled,className:"ob-slack-invite-next-button",onClick:this.handleSendInvites},H,W)}var j=h.createElement(l.default,{secondary:!0,
className:"ob-slack-invite-skip-button",onClick:this.handleSkip},h.createElement(S,n.__assign({},C.skip)));return h.createElement("div",{className:"ob-slack-invite-container"},h.createElement("div",{
className:"ob-slack-invite-info-bar"},h.createElement("div",{className:"ob-slack-invite-info-icon"},h.createElement("img",{className:"paper-slack-logo",src:(0,
v.default)("/static/img/account-icons/icon-paper-slack.png"),srcSet:"".concat((0,v.default)("/static/img/account-icons/icon-paper-slack@2x.png")," 2x"),alt:"Paper and Slack logo"
})),h.createElement("div",{className:"ob-slack-invite-info-facepile"},_)),h.createElement("div",{className:"ob-slack-invite-header"},h.createElement("div",{className:"ob-slack-invite-header-message"
},h.createElement("h1",null,y),h.createElement("p",null,E)),F),O,U,h.createElement("div",{className:"ob-slack-invite-footer"},h.createElement("div",{className:"ob-slack-invite-footer-button-container"
},e,j)))};t.displayName="InviteSlackTeamWidget";return t}(h.Component);t.InviteSlackTeamWidget=P},1588:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(11),o=a(0),s=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={elipsis:""};return t}t.prototype.animateEllipsis=function(){
var e=this,t=this.props.intervalSeconds||.3;this.timers.setTimeout((function(){e.setState((function(e){return e.elipsis.length>=3?{elipsis:""}:{elipsis:e.elipsis+"."}}))}),1e3*t)}
;t.prototype.componentDidMount=function(){this.setState({elipsis:"."})};t.prototype.componentDidUpdate=function(){this.animateEllipsis()};t.prototype.render=function(){return o.createElement("span",{
className:"animated-elipsis"},this.state.elipsis)};t.displayName="AnimatedEllipsis";return t=n.__decorate([r.default],t)}(o.PureComponent);t.default=s},1589:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.InviteSlackTeamCelebrate=void 0;var n=a(1),r=a(1590),o=a(8),s=a(2),i=a(10),l=a(4),c=a(201),d=a(0),u=a(52),p=a(466),m=(0,
a(5).PaperIntlFactory)().F,h=(0,s.defineMessages)({migrationissuccessfullyscheduled:{id:"A6gvOS",defaultMessage:"Migration is successfully scheduled."},dashboard:{id:"2H9HtH",
defaultMessage:"Dashboard"},failedtoschedulemigration:{id:"OA4KUC",defaultMessage:"Failed to schedule migration."},h1:{id:"p06vz7",defaultMessage:"All done! Ready to give it a try?"},subheader:{
id:"xO6qeb",defaultMessage:"You can find existing docs and create new ones without leaving Slack."},button:{id:"5bbuYP",defaultMessage:"Go to Paper in Slack"},paperNew:{id:"QFCZ2n",
defaultMessage:"/paper new [title]"},paperNewFeature:{id:"NtNxI3",defaultMessage:"Create Paper docs"},paperSearch:{id:"VC2cUL",defaultMessage:"/paper [search terms]"},paperSearchFeature:{id:"HvxRpT",
defaultMessage:"Search Paper docs"},paperUnfurl:{id:"DJt7GJ",defaultMessage:"Paste link in Slack"},paperUnfurlFeature:{id:"4zyHuL",defaultMessage:"Post detailed previews"}}),f=function(e){
n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleGoToSlack=function(){l.IntentionEvent.PaperSlackInviteGoToSlackClick.track({numInvited:t.props.users.length,
isTeamUser:!o.default.isPersonalDomainUser});var e="https://slack.com/app_redirect?app=".concat(t.props.appId);window.location.href=e};return t}t.prototype.componentDidMount=function(){
p.sendWelcomeMessage()};t.prototype.render=function(){
var e=d.createElement(m,n.__assign({},h.h1)),t=d.createElement(m,n.__assign({},h.subheader)),a=d.createElement(m,n.__assign({},h.button)),o=d.createElement(m,n.__assign({},h.paperNew)),s=d.createElement(m,n.__assign({},h.paperNewFeature)),l=d.createElement(m,n.__assign({},h.paperSearch)),f=d.createElement(m,n.__assign({},h.paperSearchFeature)),g=d.createElement(m,n.__assign({},h.paperUnfurl)),v=d.createElement(m,n.__assign({},h.paperUnfurlFeature)),y=d.createElement(c.InvitedUsers,{
users:p.slackUserProfilesToUserInfo(this.props.users),border:!0,displayUnregisteredUsers:!0,ignoreConnectedStatus:!0,showDetailedOverflowTooltip:!0}),b=d.createElement("img",{
className:"paper-slack-button-icon",src:(0,u.default)("/static/img/paper-slack/icon-slack.png"),srcSet:"".concat((0,u.default)("/static/img/paper-slack/icon-slack@2x.png")," 2x"),alt:"Slack icon"})
;return d.createElement("div",{className:"ob-slack-invite-celebrate-container"},d.createElement(r.ConfettiCanvas,null),d.createElement("h1",{className:"ob-slack-invite-celebrate-header"
},e),d.createElement("div",{className:"ob-slack-invite-celebrate-subheader"},d.createElement("p",{className:"ob-slack-invite-celebrate-text"},t),y),d.createElement("div",{
className:"ob-slack-invite-celebrate-button-container"},d.createElement(i.default,{primary:!0,className:"ob-slack-invite-celebrate-button",onClick:this.handleGoToSlack},a,b)),d.createElement("div",{
className:"ob-slack-invite-celebrate-features-container"},d.createElement("div",{className:"ob-slack-invite-celebrate-feature"},d.createElement("div",{
className:"ob-slack-invite-celebrate-feature-text"},d.createElement("img",{className:"ob-slack-invite-celebrate-feature-icon",src:(0,u.default)("/static/img/paper-slack/icon-slack-create.png"),
srcSet:"".concat((0,u.default)("/static/img/paper-slack/icon-slack-create@2x.png")," 2x"),alt:"Create"}),d.createElement("div",{className:"ob-slack-invite-celebrate-feature-text-name"
},o)),d.createElement("div",{className:"ob-slack-invite-celebrate-feature-text-description"},s)),d.createElement("div",{className:"ob-slack-invite-celebrate-feature"},d.createElement("div",{
className:"ob-slack-invite-celebrate-feature-text"},d.createElement("img",{className:"ob-slack-invite-celebrate-feature-icon",src:(0,u.default)("/static/img/paper-slack/icon-slack-search.png"),
srcSet:"".concat((0,u.default)("/static/img/paper-slack/icon-slack-search@2x.png")," 2x"),alt:"Search"}),d.createElement("div",{className:"ob-slack-invite-celebrate-feature-text-name"
},l)),d.createElement("div",{className:"ob-slack-invite-celebrate-feature-text-description"},f)),d.createElement("div",{className:"ob-slack-invite-celebrate-feature"},d.createElement("div",{
className:"ob-slack-invite-celebrate-feature-text"},d.createElement("img",{className:"ob-slack-invite-celebrate-feature-icon",src:(0,u.default)("/static/img/paper-slack/icon-slack-post.png"),
srcSet:"".concat((0,u.default)("/static/img/paper-slack/icon-slack-post@2x.png")," 2x"),alt:"Post"}),d.createElement("div",{className:"ob-slack-invite-celebrate-feature-text-name"
},g)),d.createElement("div",{className:"ob-slack-invite-celebrate-feature-text-description"},v))))};t.displayName="InviteSlackTeamCelebrate";return t}(d.Component);t.InviteSlackTeamCelebrate=f},
1590:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.ConfettiCanvas=void 0;var n,r=a(1),o=a(11),s=a(0),i=a(38);function l(e){return e[Math.floor(i.smartRandom()*e.length)]}
function c(e,t){if(e>t)throw new Error("min can't be greater than max");return e+i.smartRandom()*(t-e)}!function(e){e.Circle="circle";e.Square="square"}(n||(n={}));var d=function(){function e(t,a){
this.canvas=t;this.drawContext=a;this.color=l(e.CONFETTI_COLORS);this.x=c(0,this.canvas.width);this.y=c(-e.CONFETTI_FALL_HEIGHT,this.canvas.height);this.r=c(2,6);this.shape=n[l(Object.keys(n))]
;this.vy=this.r}e.prototype.draw=function(){if(this.shape==n.Circle)this.drawCircle(this.x,this.y,this.r,this.color);else{if(this.shape!=n.Square)throw Error("Invalid confetti particle shape")
;this.drawSquare(this.x,this.y,this.r,this.color)}this.y+=this.vy;this.y>this.canvas.height&&(this.y-=this.canvas.height-e.CONFETTI_FALL_HEIGHT)};e.prototype.drawCircle=function(e,t,a,n){
this.drawContext.beginPath();this.drawContext.arc(e,t,a,0,2*Math.PI);this.drawContext.fillStyle=n;this.drawContext.fill()};e.prototype.drawSquare=function(e,t,a,n){this.drawContext.fillStyle=n
;this.drawContext.fillRect(e,t,2*a,2*a)};e.CONFETTI_COLORS=["#00D6B6","#FF6EB6","#3BA0F3","#F5A623","4DF6CE"];e.CONFETTI_FALL_HEIGHT=20;return e}(),u=function(e){r.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.redraw=function(e){if(t.canvas){t.drawContext.clearRect(0,0,t.canvas.width,t.canvas.height);for(var a=0,n=t.confettiParticles;a<n.length;a++){
n[a].draw()}t.timers.requestAnimationFrame(t.redraw)}};return t}a=t;t.prototype.componentDidMount=function(){this.canvas.width=window.innerWidth;this.canvas.height=window.innerHeight
;this.drawContext=this.canvas.getContext("2d");this.confettiParticles=[];for(var e=0;e<a.NUM_PARTICLES;e++)this.confettiParticles.push(new d(this.canvas,this.drawContext))
;this.timers.requestAnimationFrame(this.redraw)};t.prototype.render=function(){var e=this;return s.createElement("canvas",{ref:function(t){return e.canvas=t},
className:"ob-walkthrough-end-celebration-confetti"})};var a;t.NUM_PARTICLES=100;t.displayName="ConfettiCanvas";return t=a=r.__decorate([o.default],t)}(s.Component);t.ConfettiCanvas=u},
1591:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.InviteSlackTeamList=void 0;var n=a(1),r=a(1592),o=a(0),s=a(623),i=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.onScroll=function(){t.scrollOverflow&&t.props.onScroll(t.scrollOverflow.scrollTop>0)};return t}t.prototype.render=function(){
var e=this,t=this.props.users.map((function(t){return o.createElement(r.InviteSlackTeamUser,{user:t,checked:e.props.selectedIds[t.userId]||!1,handleUserClick:e.props.handleUserClick,key:t.userId})
})),a=this.props.hasLoadedAllUsers?null:o.createElement("div",null,o.createElement(s.ShareSuggestionPlaceholder,{key:"ph-1"}),o.createElement(s.ShareSuggestionPlaceholder,{key:"ph-2"}))
;return o.createElement("div",{className:"ob-slack-invite-list",ref:function(t){return e.scrollOverflow=t},onScroll:this.onScroll},t,a)};t.displayName="InviteSlackTeamList";return t}(o.Component)
;t.InviteSlackTeamList=i},1592:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.InviteSlackTeamUser=void 0;var n=a(1),r=a(3),o=a(2),s=a(0),i=a(622),l=a(466),c=a(102),d=(0,
a(5).PaperIntlFactory)().F,u=(0,o.defineMessages)({cantInvite:{id:"2c56Y2",defaultMessage:"Can't Invite"},onPaper:{id:"EWEFSq",defaultMessage:"On Paper"},alreadyInvited:{id:"EUdMh3",
defaultMessage:"Already Invited"}}),p=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleUserClick=function(e){
if(t.props.user.inviteStatus===i.SlackUserInviteStatus.CanInvite){e.preventDefault();t.props.handleUserClick(t.props.user.userId,!t.props.checked)}};t.handleCheckboxClick=function(e){
e.stopPropagation();t.props.handleUserClick(t.props.user.userId,!t.props.checked)};return t}t.prototype.render=function(){
var e,t,a=this.props.user.inviteStatus===i.SlackUserInviteStatus.CanInvite,o="checkbox-"+this.props.user.userId;if(a)e=s.createElement("div",{className:"ob-slack-invite-entry-invite-checkbox-holder"
},s.createElement("input",{type:"checkbox",id:o,checked:this.props.checked,onClick:this.handleCheckboxClick}),s.createElement("label",{htmlFor:o}));else{
var p=s.createElement(d,n.__assign({},u.cantInvite)),m=s.createElement(d,n.__assign({},u.onPaper)),h=s.createElement(d,n.__assign({},u.alreadyInvited)),f=void 0
;f=this.props.user.inviteStatus===i.SlackUserInviteStatus.CantInvite?p:this.props.user.inviteStatus===i.SlackUserInviteStatus.AlreadyInvited?h:m;t=s.createElement("div",{
className:"ob-slack-invite-entry-invite-text-holder"},f)}var g,v=r("ob-slack-invite-entry",{checked:this.props.checked,disabled:!a}),y=r("ob-slack-invite-entry-user-info",{
usernameOnly:this.props.user.usernameOnly}),b=s.createElement("div",{className:"ob-slack-invite-entry-username notranslate"},"@",this.props.user.userName)
;this.props.user.usernameOnly||(g=s.createElement("div",{className:"ob-slack-invite-entry-fullname notranslate"},this.props.user.fullName));return s.createElement("div",{className:v,
onClick:this.handleUserClick},s.createElement("div",{className:"ob-slack-invite-entry-avatar"},s.createElement(c.default,{user:(0,l.slackUserProfileToUserInfo)(this.props.user)
})),s.createElement("div",{className:y},b,g),s.createElement("div",{className:"ob-slack-invite-entry-invite"},e,t))};t.displayName="InviteSlackTeamUser";return t}(s.Component);t.InviteSlackTeamUser=p
},1593:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.InviteSlackTeamSearchError=t.InviteSlackTeamAuthError=t.InviteSlackTeamApiError=void 0
;var n=a(1),r=a(2),o=a(10),s=a(0),i=a(623),l=a(52),c=(0,a(5).PaperIntlFactory)().F,d=(0,r.defineMessages)({couldntLoad:{id:"syfdcA",
defaultMessage:"Account connected, but couldn’t load your Slack team."},authErrorHeader:{id:"rs3gIE",defaultMessage:"Couldn’t connect your account"},authErrorError:{id:"Dlgcli",
defaultMessage:"Signing in to Slack didn’t quite work. Give it another try?"},authErrorTryAgainButton:{id:"BCyGLk",defaultMessage:"Try again"},cantFindPerson:{id:"HN1pBM",
defaultMessage:"Can’t find that person"},checkSpelling:{id:"dNZLU0",defaultMessage:"Check spelling or try another name."}});t.InviteSlackTeamApiError=function(){return s.createElement("div",{
className:"ob-slack-invite-api-error-container"},s.createElement("div",{className:"ob-slack-invite-api-error-placeholders"},s.createElement(i.ShareSuggestionPlaceholder,{key:"ph-1"
}),s.createElement(i.ShareSuggestionPlaceholder,{key:"ph-2"}),s.createElement(i.ShareSuggestionPlaceholder,{key:"ph-3"})),s.createElement("div",{className:"ob-slack-invite-api-error-text"
},s.createElement(c,n.__assign({},d.couldntLoad))))};t.InviteSlackTeamAuthError=function(e){
var t=s.createElement(c,n.__assign({},d.authErrorHeader)),a=s.createElement(c,n.__assign({},d.authErrorError)),r=s.createElement(c,n.__assign({},d.authErrorTryAgainButton)),i=s.createElement("div",null,s.createElement("img",{
src:(0,l.default)("/static/img/composer/error/Error-500-507.png"),srcSet:"".concat((0,l.default)("/static/img/composer/error/Error-500-507@2x.png")," 2x"),alt:"Error Image"}))
;return s.createElement("div",{className:"ob-slack-invite-container"},s.createElement("div",{className:"ob-slack-invite-info-bar"},s.createElement("div",{className:"ob-slack-invite-info-icon"
},s.createElement("img",{className:"paper-slack-logo",src:(0,l.default)("/static/img/account-icons/icon-paper-slack.png"),srcSet:"".concat((0,
l.default)("/static/img/account-icons/icon-paper-slack@2x.png")," 2x"),alt:"Paper and Slack logo"}))),s.createElement("div",{className:"ob-slack-invite-header"},s.createElement("div",{
className:"ob-slack-invite-header-message"},s.createElement("h1",null,t))),s.createElement("div",{className:"ob-slack-invite-search-error-container"},i,s.createElement("p",{
className:"ob-slack-invite-auth-error-text"},a)),s.createElement("div",{className:"ob-slack-invite-footer"},s.createElement("div",{className:"ob-slack-invite-footer-button-container"
},s.createElement(o.default,{primary:!0,className:"ob-slack-invite-next-button",onClick:e.onPrimaryButtonClicked},r))))};t.InviteSlackTeamSearchError=function(){return s.createElement("div",{
className:"ob-slack-invite-search-error-container"},s.createElement("div",null,s.createElement("img",{src:(0,l.default)("/static/img/composer/error/Error-500-507.png"),srcSet:"".concat((0,
l.default)("/static/img/composer/error/Error-500-507@2x.png")," 2x"),alt:"Error Image"})),s.createElement("p",{className:"ob-slack-invite-search-error-title"
},s.createElement(c,n.__assign({},d.cantFindPerson))),s.createElement("p",{className:"ob-slack-invite-search-error-text"},s.createElement(c,n.__assign({},d.checkSpelling))))}},1594:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.SearchBox=t.SearchBoxProps=void 0;var n=a(13),r=a(0),o=function(){};t.SearchBoxProps=o;t.SearchBox=function(e){return r.createElement("div",{
className:"hp-search-box-wrapper"},r.createElement("div",{className:"hp-doclist-search-input-wrapper dmc-combobox-input"},r.createElement("span",{className:"icon-search"},r.createElement(n.default,{
name:"search"})),r.createElement("input",{autoFocus:!0,type:"text",value:e.value,onChange:e.onChange,placeholder:e.text,className:"hp-doclist-search-input"})))}},1595:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.ToggleSelectAll=t.ToggleSelectAllProps=void 0;var n=a(1),r=a(2),o=a(10),s=a(0),i=(0,a(5).PaperIntlFactory)().F,l=(0,r.defineMessages)({removeAll:{
id:"QQDvTf",defaultMessage:"Remove all"},selectAll:{id:"kTr/8f",defaultMessage:"Select all"}}),c=function(){};t.ToggleSelectAllProps=c;t.ToggleSelectAll=function(e){
var t=e.allItemsSelected?e.onUnselectAll:e.onSelectAll,a=e.allItemsSelected?s.createElement(i,n.__assign({},l.removeAll)):s.createElement(i,n.__assign({},l.selectAll))
;return s.createElement(o.default,{linky:!0,className:"ob-slack-invite-header-team-controls-check-all",onClick:t,disabled:e.disabled},a)}},1596:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0})
;var n=a(1),r=a(6),o=a(197),s=a(53),i=a(30),l=a(11),c=a(43),d=a(1597),u=a(28),p=a(23),m=a(0),h=a(18),f=a(4),g=parseInt(i.default.list_sidebar_width,10),v=parseInt(i.default.sidebar_bonus_pad,10),y=parseInt(i.default.new_nav_mobile_mode_width,10),b=function(){
return window.innerWidth<=y},E=function(e){var t=document.querySelector(".hp-page");t&&(0,h.toggleClass)(t,"no-transition",!e)},k=function(e){n.__extends(t,e);function t(t,a){
var o=e.call(this,t,a)||this;o.animationTimeout=null;o.handleResize=r.throttle((function(){o.adjustSidebarWidthForPage()}),100);o.autoOpen=function(){
o.isOpen()?o.shouldOpenByDefault()||o.setVisible(!1):o.shouldOpenByDefault()&&o.setVisible(!0)};o.handleClickOutside=function(e){o.isOpen()&&o.state.windowIsTooSmall&&o.setVisible(!1)
;e.target.classList.contains("hp-sidebar-overlay-page-overlay")&&e.preventDefault()};o.handlePadCreated=function(e){e?o.setState({currentPadId:e
}):throwException("Sidebar: no padId after pad creation")};o.handleNavigate=function(){o.setState(o.getStateFromUrl(),o.adjustSidebarWidthForPage)};o.getStateFromUrl=function(){
var e=o.props.appProxy.parseCurrentUrl(),t="";e.pageName==s.default.PAD&&(t=e.params.id);return{currentPadId:t}};o.handleKeyup=function(e){
if(e.which==c.KeyCode.ESCAPE&&o.isOpen()&&!o.shouldOpenByDefault()){o.setVisible(!1);e.stopPropagation()}};var i=o.getStateFromUrl();o.state=n.__assign({currentPadId:"",initialRender:!0,
open:!i.currentPadId&&!u.isMobileNonTablet(),atRest:!0,openByDefault:!1,windowIsTooSmall:u.isMobileNonTablet(),style:{},width:g},i);return o}t.prototype.isOpen=function(){return this.state.open}
;t.prototype.toggle=function(){this.setVisible(!this.isOpen())};t.prototype.setVisible=function(e,t){void 0===t&&(t={});clearTimeout(this.animationTimeout);E(!t.immediate);if(!e&&this.isOpen()){(0,
f.trackUi)("Close Sidebar",{context:this.state.currentPadId?f.EditorContext.Editor:f.AppContext.App});(0,f.trigger)("sidebar-documents-close",{})}else if(e&&!this.isOpen()){(0,
f.trackUi)("Open Sidebar",{context:this.state.currentPadId?f.EditorContext.Editor:f.AppContext.App});(0,f.trigger)("sidebar-documents-open",{})}var a={open:e,atRest:t.immediate,initialRender:!1}
;t.initialSetVisibleCall&&(a.windowIsTooSmall=b());this.setState(a);t.immediate&&(this.animationTimeout=this.timers.setTimeout((function(){E(!0)}),0))};t.prototype.setOpenByDefault=function(e){
void 0===e&&(e=!0);e!=this.state.openByDefault&&this.setState({openByDefault:e})};t.prototype.shouldOpenByDefault=function(){
return!this.state.windowIsTooSmall&&(this.state.openByDefault||this.props.appProxy.shouldLeftNavSidebarOpenByDefault())};t.prototype.adjustSidebarWidthForPage=function(){var e=b()
;e!=this.state.windowIsTooSmall?this.setState({windowIsTooSmall:e},this.autoOpen):this.autoOpen()};t.prototype.componentDidMount=function(){var e;this.adjustSidebarWidthForPage()
;if(this.shouldOpenByDefault()){(0,f.track)("sidebar-root-view");this.setVisible(!0,{immediate:!0,initialSetVisibleCall:!0})}else this.setVisible(!1,{initialSetVisibleCall:!0})
;var t=this.props.appProxy.getApp();if(!t)throw Error("No app variable when sidebar was binding events.");this.events.on(t,"hp-after-navigate",this.handleNavigate)
;u.isMobile()||this.events.on(window,"resize",this.handleResize);null===(e=document.body)||void 0===e||e.addEventListener("keyup",this.handleKeyup)
;this.events.on(t.padLoader,"hp-pad-created",this.handlePadCreated)};t.prototype.componentWillUnmount=function(){var e
;null===(e=document.body)||void 0===e||e.removeEventListener("keyup",this.handleKeyup)};t.prototype.componentDidUpdate=function(){
this.state.open?document.body.classList.add("sidebar-active"):document.body.classList.remove("sidebar-active")};t.prototype.render=function(){
var e,t=this.props.appProxy,a=this.state.open,n=!!this.state.currentPadId;if(this.state.initialRender&&!n&&!u.isMobileNonTablet()||a){e={
transform:"translate3d(".concat(this.state.width,"px, 0px, 0px)"),width:"".concat(this.state.width+v,"px"),marginLeft:"".concat(-(this.state.width+v),"px"),opacity:1}}else e={display:"none"}
;return m.createElement(f.TrackContext,{trackContext:f.AppContext.Sidebar},m.createElement("div",null,m.createElement("div",{className:"hp-sidebar-overlay-page-overlay"}),m.createElement(o.default,{
onClickOutside:this.shouldOpenByDefault()?null:this.handleClickOutside},m.createElement("div",{className:"hp-sidebar-container",style:e},m.createElement(d.default,{appProxy:t,
stores:this.context.stores})))))};t.displayName="LeftNavSidebar";t.contextTypes={stores:p.object.isRequired};return t=n.__decorate([l.default],t)}(m.PureComponent);t.default=k},1597:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(6),o=a(3),s=a(89),i=a(47),l=a(8),c=a(2),d=a(423),u=a(101),p=a(11),m=a(4),h=a(160),f=a(29),g=a(1598),v=a(0),y=a(123),b=(0,
a(5).PaperIntlFactory)().F,E=(0,c.defineMessages)({home:{id:"cPi7mo",defaultMessage:"Home"}}),k=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={
currentPath:i.default.pathname,numMembersString:null,products:t.getDefaultProducts(),teamSize:null};t.handleAfterNavigate=function(){t.setState({currentPath:i.default.pathname})}
;t.handleNavigateToUrl=function(e){(0,f.locationReplace)("maestro-sidebar",e)};t.handleNavigationClick=function(e){var a=e.currentTarget.getAttribute("href");if((0,h.isUrlLocal)(a)){
return t.props.appProxy.getApp().onLinkClicked(e)}};t.handleHomeClick=function(e){m.IntentionEvent.NavigateMaestroHome.track()};t.handleSwitchAccount=function(e){switch(e){
case u.DropboxUserRole.Personal:t.personalForm.submit();break;case u.DropboxUserRole.Work:t.workForm.submit();break;default:throw new Error("Unknown role, unable to switch")}};return t}
t.prototype.componentDidMount=function(){var e=this.props.appProxy.getApp();if(!e)throw Error("No app variable when sidebar was binding events.");e.on("hp-after-navigate",this.handleAfterNavigate)
;this.updateNavData()};t.prototype.componentWillUnmount=function(){var e,t
;null===(t=null===(e=this.props.appProxy)||void 0===e?void 0:e.getApp())||void 0===t||t.off("hp-after-navigate",this.handleAfterNavigate)};t.prototype.includePaperProduct=function(){return!(0,
s.cloudDocsUxEnabled)()};t.prototype.getDefaultProducts=function(){var e=null;this.includePaperProduct()&&(e={displayName:v.createElement("span",{className:"notranslate"},"Paper"),
features:this.getPaperFeatures(),uniqueName:"paper",url:"https://paper.dropbox.com"});var t=d.getCurrentlyActiveRole();return[{displayName:v.createElement("span",{className:"notranslate"},"Home"),
features:[],uniqueName:"home",url:u.dropboxUrlWithRole({path:"/h",role:t})},{displayName:v.createElement("span",{className:"notranslate"},"Files"),features:[],uniqueName:"files",
url:u.dropboxUrl("/".concat(t))},e,{displayName:v.createElement("span",{className:"notranslate"},"Transfer"),features:[],uniqueName:"file_transfers",url:u.dropboxUrlWithRole({path:"/transfer/manage",
role:t})}].filter(Boolean)};t.prototype.replaceProductNameWithProduct=function(e,t,a){if(a){for(var n=-1,r=0,o=e.length;r<o;r++)if(e[r].uniqueName==t){n=r;break}-1==n?e.push(a):e.splice(n,1,a)}}
;t.prototype.updateNavData=function(){var e=this;(0,g.fetchNavData)(this.getCurrentAccountId(),(function(t,a,n,r){for(var o=0,s=t;o<s.length;o++){var i=s[o];i.displayName=v.createElement("span",{
className:"notranslate"},i.displayName)}var l=e.getProductWithUniqueName("paper");l&&e.replaceProductNameWithProduct(t,"paper",l);var c=e.getProductWithUniqueName("file_transfers")
;e.replaceProductNameWithProduct(t,"file_transfers",c);e.setState({products:t,teamSize:a,numMembersString:v.createElement("span",{className:"notranslate"},n)})}))}
;t.prototype.getCurrentAccountId=function(){return l.default.dropboxAccountId};t.prototype.getActiveProduct=function(){return this.getProductWithUniqueName("paper")}
;t.prototype.getProductWithUniqueName=function(e){for(var t=0,a=this.state.products;t<a.length;t++){var n=a[t];if(n.uniqueName==e)return n}return null};t.prototype.getActiveFeature=function(){
var e=this.getActiveProduct();if(!e)return null;for(var t=e.features,a=this.state.currentPath,n=0,r=t;n<r.length;n++){var o=r[n];if(o.url==a)return o
;if(o.activeOnPrefix)for(var s=0,i=o.activeOnPrefix;s<i.length;s++){var l=i[s];if(0===a.indexOf(l))return o}}};t.prototype.getViewerInfo=function(){return{displayName:l.default.userName,
isPaired:!!l.default.linkedAccount,teamName:this.getViewerTeamName(),activeRole:d.getCurrentlyActiveRole()}};t.prototype.getViewerTeamName=function(){
return l.default.isPersonalDomainUser?l.default.linkedAccount?v.createElement("span",{className:"notranslate"},l.default.linkedAccount.teamName):void 0:v.createElement("span",{className:"notranslate"
},l.default.teamName)};t.prototype.getPaperFeatures=function(){var e=[];e.push({displayName:v.createElement(b,n.__assign({},E.home)),uniqueName:"recents",url:"/",activeOnPrefix:["/home/"]});return e}
;t.prototype.productIsFeature=function(e){return"professional_collections"!==e};t.prototype.render=function(){var e=this,t=this.getActiveProduct(),a=o({"hp-sidebar":!0,
notranslate:t&&"paper"!=t.uniqueName}),n=this.productIsFeature(t&&t.uniqueName)?"Feature":"Product",s=this.state.products&&r.uniqBy(this.state.products,(function(e){return e.url}))
;return v.createElement("div",{className:a,role:"navigation",style:{position:"relative",top:0,bottom:0,left:0,width:240}},v.createElement(g.MaestroSidebar,{navType:n,initialProducts:s,products:s,
activeProduct:t,activeFeature:this.getActiveFeature(),viewerInfo:this.getViewerInfo(),teamSize:this.state.teamSize,numMembersString:this.state.numMembersString,navigateToUrl:this.handleNavigateToUrl,
onNavigationClick:this.handleNavigationClick,onHomeClick:this.handleHomeClick,switchAccount:this.handleSwitchAccount,replace:!0}),v.createElement("form",{ref:function(t){return e.personalForm=t},
method:"POST",action:"/ep/account/session-switch"},v.createElement(y.default,null),v.createElement("input",{type:"hidden",name:"role",value:u.DropboxUserRole.Personal})),v.createElement("form",{
ref:function(t){return e.workForm=t},method:"POST",action:"/ep/account/session-switch"},v.createElement(y.default,null),v.createElement("input",{type:"hidden",name:"role",value:u.DropboxUserRole.Work
})))};t.displayName="MaestroSidebar";return t=n.__decorate([p.default],t)}(v.Component);t.default=k},1598:function(e,t,a){!function(e,t){for(var a in t)e[a]=t[a]}(t,function(e){var t={};function a(n){
if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};e[n].call(r.exports,r,r.exports,a);r.loaded=!0;return r.exports}a.m=e;a.c=t;a.p="";return a(0)}([function(e,t,a){
var n=a(1).MaestroSidebar,r=a(14).fetchNavData;e.exports={MaestroSidebar:n,fetchNavData:r}},function(e,t,a){var n,r;n=[a,t,a(2),a(3),a(4),a(10)],r=function(e,t,a,n,r,o){"use strict";var s=function(e){
a.__extends(t,e);function t(t){return e.call(this,t)||this}t.prototype.renderContents=function(){return n.createElement(o.NestedNav,{activeFeature:this.props.activeFeature,
activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick,onHomeClick:this.props.onHomeClick,nestedNavLevel:this.props.navType,products:this.props.products,
replace:this.props.replace})};t.prototype.renderFooter=function(){return n.createElement(r.FooterNav,{navigateToUrl:this.props.navigateToUrl,switchAccount:this.props.switchAccount,
viewerInfo:this.props.viewerInfo,teamSize:this.props.teamSize,numMembersString:this.props.numMembersString})};t.prototype.render=function(){return n.createElement("div",{
className:"maestro-nav__container"},this.renderContents(),this.renderFooter())};return t}(n.Component);t.MaestroSidebar=s}.apply(t,n),void 0!==r&&(e.exports=r)},function(e,t){e.exports=a(1)
},function(e,t){e.exports=a(0)},function(e,t,a){var n,r;n=[a,t,a(2),a(3),a(5),a(6),a(7),a(8),a(9)],r=function(e,t,a,n,r,o,s,i,l){"use strict";var c,d=function(e){var t=e.className
;return n.createElement("svg",{className:t,viewBox:"0 0 24 24"},n.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"form",
transform:"translate(-160.000000, -32.000000)",fill:"#000000"},n.createElement("g",{id:"form-switcher",transform:"translate(160.000000, 32.000000)"},n.createElement("path",{
d:"M10.5,9 L8.26000214,9 L12.0100021,4 L15.7600021,9 L13.5,9 L12,7 L10.5,9 Z"}),n.createElement("path",{d:"M10.5,20 L8.26000214,20 L12.0100021,15 L15.7600021,20 L13.5,20 L12,18 L10.5,20 Z",
transform:"translate(12.010002, 17.500000) scale(1, -1) translate(-12.010002, -17.500000) "})))))},u=function(e){var t=e.className;return n.createElement("svg",{className:t,viewBox:"0 0 24 24"
},n.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"form",transform:"translate(-32.000000, -96.000000)",fill:"#000000"
},n.createElement("g",{id:"check",transform:"translate(32.000000, 96.000000)"},n.createElement("path",{
d:"M13.1239594,15.613961 L9.12395935,15.613961 L9.12395935,17.613961 L14.1239594,17.613961 L15.1239594,17.613961 L15.1239594,5.61396103 L13.1239594,5.61396103 L13.1239594,15.613961 Z",
id:"Combined-Shape",transform:"translate(12.123959, 11.613961) rotate(-315.000000) translate(-12.123959, -11.613961) "})))))};!function(e){e[e.ADD_PERSONAL=0]="ADD_PERSONAL";e[e.ADD_WORK=1]="ADD_WORK"
;e[e.GOTO_WORK=2]="GOTO_WORK";e[e.GOTO_PERSONAL=3]="GOTO_PERSONAL"}(c||(c={}));var p=function(e){a.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.strings=i.footerStrings()
;t.handleSelection=function(e,a){var n=t.props,r=n.activeRole,o=n.navigateToUrl,i=n.switchAccount;switch(e){case c.ADD_PERSONAL:o("https://"+s.WWW_HOST+"/team/account_pair");break;case c.ADD_WORK:
o("https://"+s.WWW_HOST+"/team");break;case c.GOTO_PERSONAL:"work"===r&&i("personal");break;case c.GOTO_WORK:"personal"===r&&i("work")}};t.handleMenuButtonClick=function(e){
l.UEClient.sendEvent("NavSwitcher","MenuButtonClicked")};t.handleTeamPagePress=function(e){if(13===e.keyCode){e.preventDefault();t.props.navigateToUrl("https://"+s.WWW_HOST+"/team")}
e.stopPropagation()};t.handleTeamPageClick=function(e){e.stopPropagation();t.props.navigateToUrl("https://"+s.WWW_HOST+"/team")};t.MenuItem=function(e){return n.createElement(o.MenuItem,{className:r({
"maestro-nav-switcher-menu-item":!0,"maestro-nav-switcher-menu-item--selected":e.selected}),value:e.value},n.createElement(u,{className:"maestro-nav-switcher-menu-item__checkmark"
}),n.createElement("div",{className:"maestro-nav-switcher-menu-item__info"},n.createElement("div",{className:"maestro-nav-switcher-menu-item__title"},e.label),n.createElement("div",{
className:"maestro-nav-switcher-menu-item__action"},e.action)))};t.Menu=function(){var e,a,r,s,i,d,u=t.strings,p=t.props,m=p.teamName,h=p.isPaired,f="personal"===p.activeRole;if(h||f){
e=u.personalString;a=null;r=c.GOTO_PERSONAL}else{e=u.addPersonalDropboxString;a=n.createElement("span",{className:"maestro-nav-switcher-menu-item__action-text"},u["2GbFreeString"]);r=c.ADD_PERSONAL}
if(!h&&f){s=u.addWorkDropboxString;i=n.createElement("span",{className:"maestro-nav-switcher-menu-item__action-text"},u["2GbStringForWork"]);d=c.ADD_WORK}else{s=m||u.workString
;var g=t.getTeamActionLabel();i=f?n.createElement("span",{className:"maestro-nav-switcher-menu-item__action-text"},g):n.createElement("button",{onKeyDown:t.handleTeamPagePress,
onClick:t.handleTeamPageClick},g);d=c.GOTO_WORK}return n.createElement(o.Menu,{className:"maestro-nav-switcher-menu"},n.createElement(l.UserEducationEffect,{containerName:"NavSwitcher",
name:"AriaMenuButton.Menu"},n.createElement(t.MenuItem,{selected:!f,label:s,action:i,value:d}),n.createElement(t.MenuItem,{selected:f,label:e,action:a,value:r})))};t.MenuButton=function(){
var e,a,r=t.strings,s=t.props,i=s.teamName,l=s.numMembersString;if("personal"===s.activeRole){e=r.personalString;a=r.onlyYouString}else{e=i;a=null==l?r.workDropboxString:l}
return n.createElement(o.Button,{className:"maestro-nav-switcher-button"},n.createElement("div",{className:"maestro-nav-switcher-button__content",onClick:t.handleMenuButtonClick
},n.createElement("div",{className:"maestro-nav-switcher-button__info"},n.createElement("div",{className:"maestro-nav-switcher-button__title"},e),n.createElement("div",{
className:"maestro-nav-switcher-button__label"},a)),n.createElement(d,{className:"maestro-nav-switcher-button__icon"})))};return t}t.prototype.getTeamActionLabel=function(){
var e=this.strings,t=this.props,a=t.teamSize,n=t.numMembersString,r="personal"===t.activeRole;return null==a?r?e.workDropboxString:e.groupsAndMembersString:r||a<50?n:e.groupsAndMembersString}
;t.prototype.render=function(){return n.createElement(o.Wrapper,{className:"maestro-nav-switcher",onSelection:this.handleSelection,closeOnSelection:!1
},n.createElement(this.MenuButton,null),n.createElement(this.Menu,null))};return t}(n.Component),m=function(e){a.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}
t.prototype.render=function(){var e=this.props,t=e.teamSize,a=e.numMembersString,r=e.viewerInfo,o=e.navigateToUrl,s=e.switchAccount,i=r.activeRole,c=r.isPaired,d=r.teamName
;return n.createElement("div",{className:"maestro-nav-footer"},n.createElement(l.UserEducationEffect,{containerName:"FooterNav",name:"NavSwitcher"},n.createElement(p,{teamSize:t,numMembersString:a,
teamName:d,isPaired:c,navigateToUrl:o,switchAccount:s,activeRole:i})))};return t}(n.Component);t.FooterNav=m}.apply(t,n),void 0!==r&&(e.exports=r)},function(e,t){e.exports=a(128)},function(e,t){
e.exports=a(1599)},function(e,t){e.exports=a(1600)},function(e,t){e.exports=a(1601)},function(e,t){e.exports=a(1602)},function(e,t,a){var n,r;n=[a,t,a(2),a(3),a(11),a(7),a(12),a(13),a(8)],
r=function(e,t,a,n,r,o,s,i,l){"use strict";var c=function(e){var t=e.className;return n.createElement("svg",{className:t,width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"
},n.createElement("title",null,"Left Arrow"),n.createElement("g",{id:"arrow",transform:"translate(-32.000000, -32.000000)"},n.createElement("g",{id:"arrow-left",
transform:"translate(32.000000, 32.000000)"},n.createElement("polygon",{id:"Combined-Shape",
points:"12.9497475 7.05000305 8 11.9997505 12.9497475 16.949498 14.363961 15.5352844 10.8284271 11.9997505 14.363961 8.46421661"}))))},d=function(e){a.__extends(t,e);function t(){
return null!==e&&e.apply(this,arguments)||this}t.prototype.renderContents=function(){if("Feature"===this.props.nestedNavLevel&&this.props.activeProduct){var e=this.props.activeProduct
;return n.createElement(s.FeatureNav,{activeFeature:this.props.activeFeature,features:e.features,onNavigationClick:this.props.onNavigationClick,productDisplayName:e.displayName,productUrl:e.url})}
return n.createElement(i.ProductNav,{products:this.props.products,activeProduct:this.props.activeProduct,onNavigationClick:this.props.onNavigationClick})};t.prototype.render=function(){
var e="Feature"===this.props.nestedNavLevel,t=n.createElement(c,{className:"maestro-nav__caret"});return n.createElement("div",{className:"maestro-nav__panel"},n.createElement("a",{
className:"maestro-nav__home-button",href:"https://"+o.WWW_HOST+"/",onClick:this.props.onHomeClick},n.createElement(r.DropboxLogo,{
className:"maestro-nav__logo"+(this.props.replace?" maestro-nav__logo-r":""),"aria-label":l.homeAriaLabel}),e&&t),n.createElement("div",{className:"maestro-nav__contents"},this.renderContents()))}
;return t}(n.Component);t.NestedNav=d}.apply(t,n),void 0!==r&&(e.exports=r)},function(e,t,a){var n,r;n=[a,t,a(2),a(3)],r=function(e,t,a,n){"use strict";t.DropboxLogo=function(e){
return n.createElement("svg",a.__assign({},e,{role:"img",width:"32px",height:"32px",viewBox:"0 0 32 32"}),-1!=e.className.indexOf("maestro-nav__logo-r")?n.createElement("path",{
d:"M8 2.4l8 5.1-8 5.1-8-5.1 8-5.1zm16 0l8 5.1-8 5.1-8-5.1 8-5.1zM0 17.7l8-5.1 8 5.1-8 5.1-8-5.1zm24-5.1l8 5.1-8 5.1-8-5.1 8-5.1zM8 24.5l8-5.1 8 5.1-8 5.1-8-5.1z"}):n.createElement("path",{
d:"M9.416 1l6.59 5.476-9.495 5.838L0 7.122 9.416 1zM0 17.505l6.51-5.191 9.495 5.837-6.589 5.476L0 17.505zm16.005.646l9.495-5.837 6.511 5.191-9.416 6.122-6.59-5.476zM32.011 7.122l-6.51 5.192-9.496-5.838L22.595 1l9.416 6.122zM16.005 19.571L22.685 25l2.857-1.828v2.049l-9.537 5.603L6.47 25.22v-2.05L9.327 25l6.678-5.43z",
fillRule:"evenodd"}))}}.apply(t,n),void 0!==r&&(e.exports=r)},function(e,t,a){var n,r;n=[a,t,a(2),a(3),a(5),a(9)],r=function(e,t,a,n,r,o){"use strict";var s=function(e){a.__extends(t,e);function t(){
return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){var e=this,t=this.props,a=t.features,s=t.productDisplayName,i=t.productUrl;return n.createElement("ul",{
className:"maestro-nav__features"},n.createElement("li",null,n.createElement("h2",{className:"maestro-nav__features-header"},n.createElement("a",{href:i,className:"maestro-nav__features-header-link"
},s))),a.map((function(t,a){var s=t.url,i=r({"maestro-nav__feature":!0,"maestro-nav__active-feature":t===e.props.activeFeature});return n.createElement("li",{key:s},n.createElement("div",{
className:"maestro-nav__feature-wrap"},n.createElement(o.UserEducationEffect,{containerName:"FeatureNav",name:t.uniqueName,useSpan:!0},n.createElement("a",{href:s,className:i,
onClick:e.props.onNavigationClick},t.displayName))))})))};return t}(n.Component);t.FeatureNav=s}.apply(t,n),void 0!==r&&(e.exports=r)},function(e,t,a){var n,r;n=[a,t,a(2),a(3),a(5),a(9)],
r=function(e,t,a,n,r,o){"use strict";var s=function(e){a.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){
var e=this.props,t=e.activeProduct,a=e.products,s=e.onNavigationClick;return n.createElement("ul",{className:"maestro-nav__products"},a.map((function(e){var a=r({"maestro-nav__product":!0,
"maestro-nav__active-product":e===t}),i=e.openInNewPage?"_blank":"_self";return n.createElement("li",{key:e.url},n.createElement("div",{className:"maestro-nav__product-wrapper"
},n.createElement(o.UserEducationEffect,{containerName:"ProductNav",name:e.uniqueName,useSpan:!0},n.createElement("a",{href:e.url,className:a,onClick:s,target:i,rel:"noopener"},e.displayName))))})))}
;return t}(n.Component);t.ProductNav=s}.apply(t,n),void 0!==r&&(e.exports=r)},function(e,t,a){var n,r;n=[a,t,a(7)],r=function(e,t,a){"use strict";t.fetchNavData=function(e,t){
var n=new XMLHttpRequest,r="https://"+a.WWW_HOST+"/nav_menu?_subject_account_id="+e+"&nav_data_version=4";n.open("GET",r,!0);n.withCredentials=!0;n.onload=function(){if(n.status>=200&&n.status<400){
var e=JSON.parse(n.responseText);t(e.products,e.teamSize,e.numMembersString,e.viewerInfo)}else console.log("error")};n.onerror=function(){console.log("error")};n.send()}}.apply(t,n),
void 0!==r&&(e.exports=r)}]))},1599:function(e,t,a){!function(e,t){for(var a in t)e[a]=t[a]}(t,function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}}
;e[n].call(r.exports,r,r.exports,a);r.l=!0;return r.exports}a.m=e;a.c=t;a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})};a.n=function(e){
var t=e&&e.__esModule?function(){return e.default}:function(){return e};a.d(t,"a",t);return t};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";return a(a.s=10)
}([function(e,t,a){"use strict";var n,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}!function(){
try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();function l(e){if(n===setTimeout)return setTimeout(e,0)
;if((n===s||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var c,d=[],u=!1,p=-1;function m(){if(u&&c){
u=!1;c.length?d=c.concat(d):p=-1;d.length&&h()}}function h(){if(!u){var e=l(m);u=!0;for(var t=d.length;t;){c=d;d=[];for(;++p<t;)c&&c[p].run();p=-1;t=d.length}c=null;u=!1;!function(e){
if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(e)}try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}
o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];d.push(new f(e,t));1!==d.length||u||l(h)};function f(e,t){
this.fun=e;this.array=t}f.prototype.run=function(){this.fun.apply(null,this.array)};o.title="browser";o.browser=!0;o.env={};o.argv=[];o.version="";o.versions={};function g(){}o.on=g;o.addListener=g
;o.once=g;o.off=g;o.removeListener=g;o.removeAllListeners=g;o.emit=g;o.prependListener=g;o.prependOnceListener=g;o.listeners=function(e){return[]};o.binding=function(e){
throw new Error("process.binding is not supported")};o.cwd=function(){return"/"};o.chdir=function(e){throw new Error("process.chdir is not supported")};o.umask=function(){return 0}},function(e,t){
e.exports=a(0)},function(e,t,a){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV){
var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=a(12)((function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e&&e.$$typeof===r}),!0)
}else e.exports=a(15)()}).call(t,a(0))},function(e,t,a){"use strict";e.exports=function(e,t,a){for(var n in t)t.hasOwnProperty(n)&&(a[n]||(e[n]=t[n]))}},function(e,t,a){"use strict";function n(e){
return function(){return e}}var r=function(){};r.thatReturns=n;r.thatReturnsFalse=n(!1);r.thatReturnsTrue=n(!0);r.thatReturnsNull=n(null);r.thatReturnsThis=function(){return this}
;r.thatReturnsArgument=function(e){return e};e.exports=r},function(e,t,a){"use strict";(function(t){var a=function(e){};"production"!==t.env.NODE_ENV&&(a=function(e){
if(void 0===e)throw new Error("invariant requires an error message argument")});e.exports=function(e,t,n,r,o,s,i,l){a(t);if(!e){var c
;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,o,s,i,l],u=0
;(c=new Error(t.replace(/%s/g,(function(){return d[u++]})))).name="Invariant Violation"}c.framesToPop=1;throw c}}}).call(t,a(0))},function(e,t,a){"use strict"
;e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,a){"use strict";var n={},r="a menu outside a mounted Wrapper with an id, or a menu that does not exist";e.exports={
registerManager:function(e,t){n[e]=t},unregisterManager:function(e){delete n[e]},openMenu:function(e,t){var a=n[e];if(!a)throw new Error("Cannot open "+r);a.openMenu(t)},closeMenu:function(e,t){
var a=n[e];if(!a)throw new Error("Cannot close "+r);a.closeMenu(t)}}},function(e,t,a){"use strict";(function(t){var n=a(4);if("production"!==t.env.NODE_ENV){var r=function(e){
for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=0,o="Warning: "+e.replace(/%s/g,(function(){return a[r++]}));"undefined"!=typeof console&&console.error(o);try{
throw new Error(o)}catch(e){}};n=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument")
;if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var a=arguments.length,n=Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];r.apply(void 0,[t].concat(n))}}}e.exports=n}).call(t,a(0))
},function(e,t){e.exports=a(24)},function(e,t,a){"use strict";var n=a(7);e.exports={Wrapper:a(11),Button:a(18),Menu:a(19),MenuItem:a(21),openMenu:n.openMenu,closeMenu:n.closeMenu}},function(e,t,a){
"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1
;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();var o=a(1),s=a(2),i=a(16),l=a(3),c={
children:s.node.isRequired,onMenuToggle:s.func,onSelection:s.func.isRequired,closeOnSelection:s.bool,tag:s.string},d=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e);function t(){!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return!t||"object"!==(void 0===t?"undefined":n(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}r(t,[{key:"getChildContext",value:function(){return{
ambManager:this.manager}}},{key:"componentWillMount",value:function(){this.manager=i({onMenuToggle:this.props.onMenuToggle,onSelection:this.props.onSelection,
closeOnSelection:this.props.closeOnSelection,id:this.props.id})}},{key:"render",value:function(){var e={};l(e,this.props,c);return o.createElement(this.props.tag,e,this.props.children)}}]);return t
}(o.Component);d.propTypes=c;d.defaultProps={tag:"div"};d.childContextTypes={ambManager:s.object};e.exports=d},function(e,t,a){"use strict";(function(t){
var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(4),o=a(5),s=a(8),i=a(13),l=a(6),c=a(14);e.exports=function(e,a){
var d="function"==typeof Symbol&&Symbol.iterator,u="@@iterator";var p="<<anonymous>>",m={array:v("array"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),
symbol:v("symbol"),any:g(r.thatReturnsNull),arrayOf:function(e){return g((function(t,a,n,r,o){
if("function"!=typeof e)return new f("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[a]
;if(!Array.isArray(s))return new f("Invalid "+r+" `"+o+"` of type `"+b(s)+"` supplied to `"+n+"`, expected an array.");for(var i=0;i<s.length;i++){var c=e(s,i,n,r,o+"["+i+"]",l)
;if(c instanceof Error)return c}return null}))},element:g((function(t,a,n,r,o){var s=t[a]
;return e(s)?null:new f("Invalid "+r+" `"+o+"` of type `"+b(s)+"` supplied to `"+n+"`, expected a single ReactElement.")})),instanceOf:function(e){return g((function(t,a,n,r,o){
if(!(t[a]instanceof e)){var s=e.name||p
;return new f("Invalid "+r+" `"+o+"` of type `"+((i=t[a]).constructor&&i.constructor.name?i.constructor.name:p)+"` supplied to `"+n+"`, expected instance of `"+s+"`.")}var i;return null}))},
node:g((function(e,t,a,n,r){return y(e[t])?null:new f("Invalid "+n+" `"+r+"` supplied to `"+a+"`, expected a ReactNode.")})),objectOf:function(e){return g((function(t,a,n,r,o){
if("function"!=typeof e)return new f("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[a],i=b(s)
;if("object"!==i)return new f("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+n+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var d=e(s,c,n,r,o+"."+c,l)
;if(d instanceof Error)return d}return null}))},oneOf:function(e){if(!Array.isArray(e)){"production"!==t.env.NODE_ENV&&s(!1,"Invalid argument supplied to oneOf, expected an instance of array.")
;return r.thatReturnsNull}return g((function(t,a,n,r,o){for(var s=t[a],i=0;i<e.length;i++)if(h(s,e[i]))return null
;return new f("Invalid "+r+" `"+o+"` of value `"+s+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")}))},oneOfType:function(e){if(!Array.isArray(e)){
"production"!==t.env.NODE_ENV&&s(!1,"Invalid argument supplied to oneOfType, expected an instance of array.");return r.thatReturnsNull}for(var a=0;a<e.length;a++){var n=e[a];if("function"!=typeof n){
s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",k(n),a);return r.thatReturnsNull}}return g((function(t,a,n,r,o){
for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,a,n,r,o,l))return null;return new f("Invalid "+r+" `"+o+"` supplied to `"+n+"`.")}))},shape:function(e){return g((function(t,a,n,r,o){var s=t[a],i=b(s)
;if("object"!==i)return new f("Invalid "+r+" `"+o+"` of type `"+i+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var u=d(s,c,n,r,o+"."+c,l);if(u)return u}}return null}))
},exact:function(e){return g((function(t,a,n,r,o){var s=t[a],c=b(s);if("object"!==c)return new f("Invalid "+r+" `"+o+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var d=i({},t[a],e)
;for(var u in d){var p=e[u]
;if(!p)return new f("Invalid "+r+" `"+o+"` key `"+u+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[a],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "))
;var m=p(s,u,n,r,o+"."+u,l);if(m)return m}return null}))}};function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){this.message=e;this.stack=""}f.prototype=Error.prototype;function g(e){
if("production"!==t.env.NODE_ENV)var n={},r=0;function i(i,c,d,u,m,h,g){u=u||p;h=h||d
;if(g!==l)if(a)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){
var v=u+":"+d;if(!n[v]&&r<3){
s(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,u)
;n[v]=!0;r++}}
return null==c[d]?i?null===c[d]?new f("The "+m+" `"+h+"` is marked as required in `"+u+"`, but its value is `null`."):new f("The "+m+" `"+h+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(c,d,u,m,h)
}var c=i.bind(null,!1);c.isRequired=i.bind(null,!0);return c}function v(e){return g((function(t,a,n,r,o,s){var i=t[a];if(b(i)!==e){
return new f("Invalid "+r+" `"+o+"` of type `"+E(i)+"` supplied to `"+n+"`, expected `"+e+"`.")}return null}))}function y(t){switch(void 0===t?"undefined":n(t)){case"number":case"string":
case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var a=function(e){var t=e&&(d&&e[d]||e[u])
;if("function"==typeof t)return t}(t);if(!a)return!1;var r,o=a.call(t);if(a!==t.entries){for(;!(r=o.next()).done;)if(!y(r.value))return!1}else for(;!(r=o.next()).done;){var s=r.value
;if(s&&!y(s[1]))return!1}return!0;default:return!1}}function b(e){var t=void 0===e?"undefined":n(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){
return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function E(e){if(null==e)return""+e;var t=b(e);if("object"===t){
if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function k(e){var t=E(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":
return"a "+t;default:return t}}m.checkPropTypes=c;m.PropTypes=m;return m}}).call(t,a(0))},function(e,t,a){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");e[5]="de"
;if("5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]
})).join(""))return!1;var n={};"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e}));return"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}
}()?Object.assign:function(e,t){for(var a,s,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){
a=Object(arguments[l]);for(var c in a)r.call(a,c)&&(i[c]=a[c]);if(n){s=n(a);for(var d=0;d<s.length;d++)o.call(a,s[d])&&(i[s[d]]=a[s[d]])}}return i}},function(e,t,a){"use strict";(function(t){
var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV)var r=a(5),o=a(8),s=a(6),i={};e.exports=function(e,a,l,c,d){
if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var p;try{
r("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",c||"React class",l,u,n(e[u]));p=e[u](a,u,c,l,null,s)}catch(e){
p=e}
o(!p||p instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",l,u,void 0===p?"undefined":n(p))
;if(p instanceof Error&&!(p.message in i)){i[p.message]=!0;var m=d?d():"";o(!1,"Failed %s type: %s%s",l,p.message,null!=m?m:"")}}}}).call(t,a(0))},function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(6)
;e.exports=function(){function e(e,t,a,n,s,i){
i!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}
e.isRequired=e;function t(){return e}var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t}
;a.checkPropTypes=n;a.PropTypes=a;return a}},function(e,t,a){"use strict";var n=a(9),r=a(17),o=a(7),s={wrap:!0,stringSearch:!0},i={init:function(e){this.options=e||{}
;void 0===this.options.closeOnSelection&&(this.options.closeOnSelection=!0);this.options.id&&o.registerManager(this.options.id,this);this.handleBlur=l.bind(this);this.handleSelection=c.bind(this)
;this.handleMenuKey=d.bind(this);this.focusGroup=r(s);this.button=null;this.menu=null;this.isOpen=!1},focusItem:function(e){this.focusGroup.focusNodeAtIndex(e)},addItem:function(e){
this.focusGroup.addMember(e)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(e){this.focusGroup._handleUnboundKey(e)},destroy:function(){this.button=null
;this.menu=null;this.focusGroup.deactivate();clearTimeout(this.blurTimer);clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen});this.button.setState({
menuOpen:this.isOpen});this.options.onMenuToggle&&this.options.onMenuToggle({isOpen:this.isOpen})},openMenu:function(e){if(!this.isOpen){void 0===(e=e||{}).focusMenu&&(e.focusMenu=!0);this.isOpen=!0
;this.update();this.focusGroup.activate();if(e.focusMenu){var t=this;this.moveFocusTimer=setTimeout((function(){t.focusItem(0)}),0)}}},closeMenu:function(e){if(this.isOpen){e=e||{};this.isOpen=!1
;this.update();e.focusButton&&n.findDOMNode(this.button).focus()}},toggleMenu:function(e,t){e=e||{};t=t||{};this.isOpen?this.closeMenu(e):this.openMenu(t)}};function l(){var e=this
;e.blurTimer=setTimeout((function(){var t=n.findDOMNode(e.button);if(t){var a=t.ownerDocument.activeElement;if(!t||a!==t){var r=n.findDOMNode(e.menu);r!==a?r&&r.contains(a)||e.isOpen&&e.closeMenu({
focusButton:!1}):e.focusItem(0)}}}),0)}function c(e,t){this.options.closeOnSelection&&this.closeMenu({focusButton:!0});this.options.onSelection(e,t)}function d(e){if(this.isOpen&&"Escape"===e.key){
e.preventDefault();this.closeMenu({focusButton:!0})}}e.exports=function(e){var t=Object.create(i);t.init(e);return t}},function(e,t,a){"use strict";function n(e){var t,a,n=(e=e||{}).keybindings||{}
;this._settings={keybindings:{next:n.next||{keyCode:40},prev:n.prev||{keyCode:38},first:n.first,last:n.last},wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800};this._keybindingsLookup=[]
;for(t in this._settings.keybindings)(a=this._settings.keybindings[t])&&[].concat(a).forEach(function(e){e.metaKey=e.metaKey||!1;e.ctrlKey=e.ctrlKey||!1;e.altKey=e.altKey||!1;e.shiftKey=e.shiftKey||!1
;this._keybindingsLookup.push({action:t,eventMatcher:e})}.bind(this));this._searchString="";this._members=[];e.members&&this.setMembers(e.members)
;this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}n.prototype.activate=function(){document.addEventListener("keydown",this._boundHandleKeydownEvent,!0);return this}
;n.prototype.deactivate=function(){document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0);this._clearSearchStringRefreshTimer();return this}
;n.prototype._handleKeydownEvent=function(e){if(-1!==this._getActiveElementIndex()){var t=!1;this._keybindingsLookup.forEach(function(a){if(function(e,t){
for(var a in e)if(void 0!==t[a]&&e[a]!==t[a])return!1;return!0}(a.eventMatcher,e)){t=!0;e.preventDefault();switch(a.action){case"next":this.moveFocusForward();break;case"prev":this.moveFocusBack()
;break;case"first":this.moveFocusToFirst();break;case"last":this.moveFocusToLast();break;default:return}}}.bind(this));t||this._handleUnboundKey(e)}};n.prototype.moveFocusForward=function(){
var e,t=this._getActiveElementIndex();e=t<this._members.length-1?t+1:this._settings.wrap?0:t;this.focusNodeAtIndex(e);return e};n.prototype.moveFocusBack=function(){
var e,t=this._getActiveElementIndex();e=t>0?t-1:this._settings.wrap?this._members.length-1:t;this.focusNodeAtIndex(e);return e};n.prototype.moveFocusToFirst=function(){this.focusNodeAtIndex(0)}
;n.prototype.moveFocusToLast=function(){this.focusNodeAtIndex(this._members.length-1)};n.prototype._handleUnboundKey=function(e){if(this._settings.stringSearch){
if(""!==this._searchString&&(" "===e.key||32===e.keyCode)){e.preventDefault();return-1}if(!(t=e.keyCode,t>=65&&t<=90))return-1;var t;if(e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault()
;this._addToSearchString(String.fromCharCode(e.keyCode));this._runStringSearch()}};n.prototype._clearSearchString=function(){this._searchString=""};n.prototype._addToSearchString=function(e){
this._searchString+=e.toLowerCase()};n.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer();this._stringSearchTimer=setTimeout((function(){
e._clearSearchString()}),this._settings.stringSearchDelay)};n.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)};n.prototype._runStringSearch=function(){
this._startSearchStringRefreshTimer();this.moveFocusByString(this._searchString)};n.prototype.moveFocusByString=function(e){
for(var t,a=0,n=this._members.length;a<n;a++)if((t=this._members[a]).text&&0===t.text.indexOf(e))return r(t.node)};n.prototype._findIndexOfNode=function(e){
for(var t=0,a=this._members.length;t<a;t++)if(this._members[t].node===e)return t;return-1};n.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)}
;n.prototype.focusNodeAtIndex=function(e){var t=this._members[e];t&&r(t.node);return this};n.prototype.addMember=function(e,t){
var a=e.node||e,n=e.text||a.getAttribute("data-focus-group-text")||a.textContent||"";this._checkNode(a);var r={node:a,text:n.replace(/[\W_]/g,"").toLowerCase()}
;null!=t?this._members.splice(t,0,r):this._members.push(r);return this};n.prototype.removeMember=function(e){var t="number"==typeof e?e:this._findIndexOfNode(e);if(-1!==t){this._members.splice(t,1)
;return this}};n.prototype.clearMembers=function(){this._members=[];return this};n.prototype.setMembers=function(e){this.clearMembers();for(var t=0,a=e.length;t<a;t++)this.addMember(e[t]);return this}
;n.prototype.getMembers=function(){return this._members};n.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed")
;return e};function r(e){if(e&&e.focus){e.focus();"input"===e.tagName.toLowerCase()&&e.select()}}e.exports=function(e){return new n(e)}},function(e,t,a){"use strict"
;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1
;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();function o(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":n(t))&&"function"!=typeof t?e:t}var s=a(1),i=a(2),l=a(3),c={
children:i.node.isRequired,disabled:i.bool,tag:i.string},d=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e);function t(){var e,a,n,r;!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l]
;return r=(a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleKeyDown=function(e){if(!n.props.disabled){var t=n.context.ambManager;switch(e.key){
case"ArrowDown":e.preventDefault();t.isOpen?t.focusItem(0):t.openMenu();break;case"Enter":case" ":e.preventDefault();t.toggleMenu();break;case"Escape":t.handleMenuKey(e);break;default:
t.handleButtonNonArrowKey(e)}}},n.handleClick=function(){n.props.disabled||n.context.ambManager.toggleMenu({},{focusMenu:!1})},a),o(n,r)}r(t,[{key:"componentWillMount",value:function(){
this.context.ambManager.button=this}},{key:"componentWillUnmount",value:function(){this.context.ambManager.destroy()}},{key:"render",value:function(){var e=this.props,t={role:"button",
tabIndex:e.disabled?"":"0","aria-haspopup":!0,"aria-expanded":this.context.ambManager.isOpen,"aria-disabled":e.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick,
onBlur:this.context.ambManager.handleBlur};l(t,e,c);return s.createElement(e.tag,t,e.children)}}]);return t}(s.Component);d.propTypes=c;d.contextTypes={ambManager:i.object.isRequired};d.defaultProps={
tag:"span"};e.exports=d},function(e,t,a){"use strict";var n,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1
;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();function i(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}
var l=a(1),c=a(9),d=a(2),u=a(20),p=a(3),m={children:d.oneOfType([d.func,d.node]).isRequired,tag:d.string};e.exports=(r=n=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e);function t(){var e,a,n,r;!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l]
;return r=(a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.addTapListener=function(){var e=c.findDOMNode(n);if(e){var t=e.ownerDocument
;t&&(n.tapListener=u(t.documentElement,n.handleTap))}},n.handleTap=function(e){
c.findDOMNode(n).contains(e.target)||c.findDOMNode(n.context.ambManager.button).contains(e.target)||n.context.ambManager.closeMenu()},a),i(n,r)}s(t,[{key:"componentWillMount",value:function(){
this.context.ambManager.menu=this}},{key:"componentDidUpdate",value:function(){var e=this.context.ambManager;if(e.isOpen&&!this.tapListener)this.addTapListener();else if(!e.isOpen&&this.tapListener){
this.tapListener.remove();delete this.tapListener}e.isOpen||e.clearItems()}},{key:"componentWillUnmount",value:function(){this.tapListener&&this.tapListener.remove();this.context.ambManager.destroy()}
},{key:"render",value:function(){var e=this.props,t=this.context.ambManager,a="function"==typeof e.children?e.children({isOpen:t.isOpen}):!!t.isOpen&&e.children;if(!a)return!1;var n={
onKeyDown:t.handleMenuKey,role:"menu",onBlur:t.handleBlur,tabIndex:-1};p(n,e,m);return l.createElement(e.tag,n,a)}}]);return t}(l.Component),n.propTypes=m,n.defaultProps={tag:"div"},n.contextTypes={
ambManager:d.object.isRequired},r)},function(e,t,a){"use strict";e.exports=function(e,t,a){var n=0,r=0,o=!1,s=!1,i=!1;e.addEventListener("click",l,a);e.addEventListener("touchstart",c,a)
;function l(e){i||t(e)}function c(t){i=!0;if(!o){o=!0;e.addEventListener("touchmove",d,a);e.addEventListener("touchend",u,a);e.addEventListener("touchcancel",p,a);s=!1;n=t.touches[0].clientX
;r=t.touches[0].clientY}}function d(e){s||Math.abs(e.touches[0].clientX-n)<=10&&Math.abs(e.touches[0].clientY-r)<=10||(s=!0)}function u(e){o=!1;m();s||t(e)}function p(){o=!1;s=!1;n=0;r=0}function m(){
e.removeEventListener("touchmove",d,a);e.removeEventListener("touchend",u,a);e.removeEventListener("touchcancel",p,a)}return{remove:function(){e.removeEventListener("click",l,a)
;e.removeEventListener("touchstart",c,a);m()}}}},function(e,t,a){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1
;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();function o(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":n(t))&&"function"!=typeof t?e:t}var s=a(1),i=a(2),l=a(3),c={
children:i.node.isRequired,tag:i.string,text:i.string,value:i.any},d=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e);function t(){var e,a,n,r;!function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l]
;return r=(a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleKeyDown=function(e){if("Enter"===e.key||" "===e.key){e.preventDefault();n.selectItem(e)}},
n.selectItem=function(e){var t=void 0!==n.props.value?n.props.value:n.props.children;n.context.ambManager.handleSelection(t,e)},n.registerNode=function(e){n.node=e},a),o(n,r)}r(t,[{
key:"componentDidMount",value:function(){this.context.ambManager.addItem({node:this.node,text:this.props.text})}},{key:"render",value:function(){var e={onClick:this.selectItem,
onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.registerNode};l(e,this.props,c);return s.createElement(this.props.tag,e,this.props.children)}}]);return t}(s.Component)
;d.propTypes=c;d.defaultProps={tag:"div"};d.contextTypes={ambManager:i.object.isRequired};e.exports=d}]))},1600:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(26)
;e.exports=function(){function e(){}Object.defineProperty(e,"WWW_HOST",{get:function(){return n.default.dropboxDomainWWW||"www.dropbox.com"},enumerable:!1,configurable:!0});return e}()},
1601:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.otherStrings=t.numMembersFunc=t.footerStrings=void 0;var n=a(1),r=a(8),o=a(2),s=a(14),i=a(0),l=(0,
s.MsgFactory)("sidebar"),c=l.F,d=l.defineMessages,u=l.hasTranslationInProject,p=l.IntlMessageFormat,m=d({homeAriaLabel:{msg:"Home"},addworkDropbox:{msg:"Add work Dropbox"},addpersonalDropbox:{
msg:"Add personal Dropbox"},onlyyou:{msg:"Only you"},groupsandmembers:{msg:"Groups and members"},personal:{msg:"Personal"},gbFree:{msg:"2 GB Free"},work:{msg:"Work"},workDropbox:{msg:"Work Dropbox"},
membercountpluraloneMemberotherMembers:{msg:"{memberCount, plural, one {# Member} other {# Members}}"},membercountpluralonememberothermembers:{
msg:"{memberCount, plural, one {# member} other {# members}}"},more:{msg:"More..."}});(0,o.defineMessages)({homeAriaLabel:{id:"cPi7mo",defaultMessage:"Home"},addworkDropbox:{id:"02bWKP",
defaultMessage:"Add work Dropbox"},addpersonalDropbox:{id:"6pbxy1",defaultMessage:"Add personal Dropbox"},onlyyou:{id:"ZP6Ear",defaultMessage:"Only you"},groupsandmembers:{id:"E+aYGo",
defaultMessage:"Groups and members"},personal:{id:"QPBzI3",defaultMessage:"Personal"},gbFree:{id:"Elcwx1",defaultMessage:"2 GB Free"},work:{id:"AAQLq4",defaultMessage:"Work"},workDropbox:{id:"IF0LOU",
defaultMessage:"Work Dropbox"},membercountpluraloneMemberotherMembers:{id:"qOupVM",defaultMessage:"{memberCount, plural, one {# Member} other {# Members}}"},membercountpluralonememberothermembers:{
id:"J67Hw2",defaultMessage:"{memberCount, plural, one {# member} other {# members}}"},more:{id:"PCXOFU",defaultMessage:"More..."}});t.footerStrings=function(){return{
addWorkDropboxString:i.createElement(c,n.__assign({},m.addworkDropbox)),addPersonalDropboxString:i.createElement(c,n.__assign({},m.addpersonalDropbox)),
onlyYouString:i.createElement(c,n.__assign({},m.onlyyou)),groupsAndMembersString:i.createElement(c,n.__assign({},m.groupsandmembers)),personalString:i.createElement(c,n.__assign({},m.personal)),
"2GbFreeString":i.createElement(c,n.__assign({},m.gbFree)),workString:i.createElement(c,n.__assign({},m.work)),workDropboxString:i.createElement(c,n.__assign({},m.workDropbox))}}
;t.numMembersFunc=function(e){var t=i.createElement(c,n.__assign({values:{memberCount:e}},m.membercountpluraloneMemberotherMembers)),a=i.createElement(c,n.__assign({values:{memberCount:e}
},m.membercountpluralonememberothermembers));return u(a,r.default.userLocale)?a:t};t.otherStrings=function(){return{homeAriaLabel:new p(m.homeAriaLabel,r.default.userLocale).format(),
moreButtonText:i.createElement(c,n.__assign({},m.more))}}},1602:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.UEClient=t.UserEducationClient=t.UserEducationEffect=void 0
;var n=a(1),r=a(0),o=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){var e={className:"ue-effect-container",
children:this.props.children};return this.props.useSpan?r.createElement("span",n.__assign({},e)):r.createElement("div",n.__assign({},e))};t.displayName="UserEducationEffect";return t}(r.Component)
;t.UserEducationEffect=o;var s=function(){function e(){}e.prototype.sendEvent=function(e,t,a){void 0===a&&(a={})};e.prototype.handleUpdate=function(e){};return e}();t.UserEducationClient=s
;t.UEClient=new s},1603:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(8),o=a(45),s=a(624),i=a(73),l=a(28),c=a(4),d=a(17),u=a(29),p=a(0),m=a(2),h=a(217),f=(0,
a(5).PaperIntlFactory)().F,g=(0,m.defineMessages)({getthefreePaperapp:{id:"IkPDy9",defaultMessage:"Get the free Paper app"},inspiredonthegoTheappishereforyou:{id:"+tpwSZ",
defaultMessage:"Inspired on the go? The app is here for you."}
}),v="https://play.google.com/store/apps/details?id=com.dropbox.paper&referrer=utm_source%3Dpaper_home_page_banner",y="https://itunes.apple.com/app/apple-store/id1126623662?pt=15686&ct=paper_home_page_banner&mt=8",b=function(e){
n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.componentWillMount=function(){var e,t=d.default.getQueryParams()._tk;(0,c.trackEng)("mobile-app-link",{
external_tk:t});l.isApple()?e=y:l.isAndroid()&&(e=v);e&&(0,u.locationAssign)("mobile-app-link",e)};t.prototype.componentDidMount=function(){
document.getElementById("mobile-upsell-container")&&document.documentElement.classList.remove(h.MOBILE_BODY_CLASS)};t.prototype.enter=function(){var e=this.props.app.getLeftNavSidebar()
;e&&e.setVisible(!1)};t.prototype.render=function(){return p.createElement(m.IntlProvider,{locale:r.default.userLocale},p.createElement(o.default,{name:"mobile-app-link",isSelected:!1
},p.createElement(s.default,null),p.createElement("div",{className:"hp-page-inner hp-page-empty-state"},p.createElement(c.TrackContext,{trackContext:c.AppContext.OpenInAppBanner.PadPageRequiringSignIn
},p.createElement("div",{className:"mobile-app-link-page"},p.createElement(i.InvertibleImage,{className:"mobile-app-link-img",src:"/static/img/composer/rebrand/onboarding/banner-mobile-ad.png"
}),p.createElement("div",{className:"mobile-app-link-header"},p.createElement(f,n.__assign({},g.getthefreePaperapp))),p.createElement("div",{className:"mobile-app-link-subtitle"
},p.createElement(f,n.__assign({},g.inspiredonthegoTheappishereforyou))),p.createElement("div",{className:"mobile-app-link-app-store-buttons"},p.createElement("a",{href:y},p.createElement(i.default,{
src:"/static/img/email/ios-app-store-v2.png"})),p.createElement("a",{href:v},p.createElement(i.default,{src:"/static/img/email/android-google-play-v2.png"}))))))))};t.displayName="MobileUpsell"
;return t}(p.Component);t.default=b},1604:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.noForcedRedirects=void 0;t.noForcedRedirects={checkForcedRedirect:function(e,t){return{
forcedRedirect:!1}}}},1605:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),r=a(8),o=a(11),s=a(12),i=a(7),l=a(44),c=a(41),d=a(586),u=function(e){var t=this
;this.scrollHandler=new o.EventHandler;this.bindScrollEvent=function(){t.scrollHandler.removeAll();t.scrollHandler.on(document.querySelector(".hp-page"),"scroll",t.debouncedOnActivity)
;t.scrollHandler.on(document.querySelector("#padpage-container"),"scroll",t.debouncedOnActivity)};this.onActivity=function(){t.recordUserActivityRateLimited.getFunction()()}
;this.debouncedOnActivity=n.debounce(this.onActivity,100);this.recordUserActivityRateLimited=new d.default(l.realSetTimeout,(function(){r.default&&r.default.isSignedIn()&&s.post({
url:"/log/notifications/mark-user-active",analyticsTag:"notifications-mark-user-active",shardingKey:s.getStatelessShardingKey(),hpAppLevel:!0,errorHandler:function(e,t,a){
return a==i.HttpResponseCodes.LoginRequired}})}),2*c.Time.MINUTE,1,1);r.default&&r.default.isSignedIn()&&window.realSetTimeout((function(){e.on("hp-after-navigate",t.bindScrollEvent)
;t.bindScrollEvent();e.on("hp-after-navigate",t.onActivity);window.addEventListener("keydown",t.onActivity);window.addEventListener("click",t.onActivity)}),0)};t.default=u},1718:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.SkipOrContinueButton=t.CenterCircle=t.OnboardingAvatarUploader=t.MAX_IMAGE_UPLOAD_TIME_MS=void 0
;var n=a(1),r=a(1719),o=a(10),s=a(13),i=a(202),l=a(11),c=a(1720),d=a(4),u=a(0),p=a(2),m=a(118),h=a(7),f=a(7),g=a(300),v=(0,a(5).PaperIntlFactory)(),y=v.F,b=v._f,E=new c.default
;t.MAX_IMAGE_UPLOAD_TIME_MS=3e4;var k=(0,p.defineMessages)({IncorrectMediaType:{id:"qI/OUO",defaultMessage:"Can’t upload. Try a file ending with PNG or JPG."},MultipleFiles:{id:"ahBJ+N",
defaultMessage:"Can’t upload multiple files. Try a single photo."},UnknownError:{id:"CHVLXa",defaultMessage:"Couldn’t upload. Check your connection and try again."},ImageTooLarge:{id:"OblEFd",
defaultMessage:"Can’t upload. Try a smaller file, no more than 10MB."},ImageTooSmall:{id:"du4tZN",defaultMessage:"Can’t upload. Try a photo 128px by 128px or bigger."}}),_=(0,p.defineMessages)({
addAvatarHeaderTextAlreadyAdded:{id:"EbFf1n",defaultMessage:"Looking good!"},addAvatarHeaderText:{id:"azeEdC",defaultMessage:"First, let people know it's you."},addAvatarBodyTextAlreadyAdded:{
id:"RD4bHr",defaultMessage:"Now, let's go meet your team."},addAvatarBodyText:{id:"ux7XKu",defaultMessage:"Your photo shows up when you share, view docs, and add comments."},uploadAPhoto:{id:"FZeOKj",
defaultMessage:"Upload a photo"},dragAPhoto:{id:"lCeKUS",defaultMessage:"Drag in a photo"},replacePhoto:{id:"X7Z8Z+",defaultMessage:"Replace"},deletePhoto:{id:"GLAumN",defaultMessage:"Delete"},
tryAgain:{id:"BCyGLk",defaultMessage:"Try again"},dropFileToUpload:{id:"1tKV7t",defaultMessage:"Drop file to upload"},doThisLater:{id:"4yWOzK",defaultMessage:"Do this later"},continue:{id:"LgJiOW",
defaultMessage:"Continue"}});function S(e){return new Promise((function(t,a){E.startImageRead(e,(function(e,a){switch(e){case f.ImageReadStatus.Success:t({dataUri:a,error:!1});break
;case f.ImageReadStatus.UnsupportedMediaType:t({error:"IncorrectMediaType"});break;default:t({error:"UnknownError"})}}))}))}function w(e){return new Promise((function(t,a){
E.startImageUpload((function(a){switch(a){case f.ImageUploadStatus.Success:t({dataUri:e,error:!1});break;case f.ImageUploadStatus.ImageTooLarge:t({error:"ImageTooLarge"});break;default:t({
error:"UnknownError"})}}),!0)}))}var C=function(e){n.__extends(a,e);function a(a){var r=e.call(this,a)||this;r.fileInput=u.createRef();r.partialDefaultState={avatar:"",uploadErrorMessage:"",
currentStatus:h.CurrentImageUploadStatus.WAITING_FOR_FILE,imageHasBeenAdded:!1,currentUploadCompleted:!1};r.handleDragEvents=function(e){e.preventDefault()};r.handleDropTargetEvent=function(e){var t
;if(!r.isImageUploadProcessing()){
var a=r.state.currentStatus===h.CurrentImageUploadStatus.DRAGGING_ONTO_EXISTING_IMAGE?h.CurrentImageUploadStatus.IMAGE_ADDED:h.CurrentImageUploadStatus.WAITING_FOR_FILE;r.setState({currentStatus:a})
;var n=null===(t=e.dataTransfer)||void 0===t?void 0:t.files;n&&n.length>0&&r.readAndUploadAvatarFile(n)}};r.readAndUploadAvatarFile=function(e){if(e.length>1)r.setError("MultipleFiles");else{
var t=e[0];t&&r.setState({currentStatus:h.CurrentImageUploadStatus.PROCESSING},(function(){return n.__awaiter(r,void 0,void 0,(function(){var e,a,r,o=this;return n.__generator(this,(function(n){
switch(n.label){case 0:this.checkImageProcessingTime();return[4,S(t)];case 1:if((e=n.sent()).error){this.setError(e.error);return[2]}a=e.dataUri;return[4,this.isImageAcceptableForUpload(a)];case 2:
return n.sent()?[4,w(a)]:[2];case 3:if((r=n.sent()).error){this.setError(r.error);return[2]}this.setState({currentUploadCompleted:!0},(function(){o.timers.setTimeout((function(){o.setImageAdded(a)
}),500)}));return[2]}}))}))}))}};r.checkImageProcessingTime=function(){r.uploadProcessingInterval=r.timers.setInterval((function(){r.isImageUploadProcessing()&&r.setError("UnknownError")
;clearInterval(r.uploadProcessingInterval)}),t.MAX_IMAGE_UPLOAD_TIME_MS)};r.isImageAcceptableForUpload=function(e){return n.__awaiter(r,void 0,void 0,(function(){
return n.__generator(this,(function(t){switch(t.label){case 0:if(e===this.state.avatar){this.setState({uploadErrorMessage:"",currentStatus:h.CurrentImageUploadStatus.IMAGE_ADDED});return[2,!1]}
return[4,this.isImageTooSmall(e)];case 1:if(t.sent()){this.setError("ImageTooSmall");return[2,!1]}return[2,!0]}}))}))};r.isImageTooSmall=function(e){return new Promise((function(t,a){var n=new Image
;n.onload=function(){(n.height<128||n.width<128)&&t(!0);t(!1)};n.src=e}))};r.openFileInput=function(){var e;(0,d.trackUi)("click upload on AddAvatar page")
;null===(e=r.fileInput.current)||void 0===e||e.click()};r.getFileOnChange=function(){var e,t=null===(e=r.fileInput.current)||void 0===e?void 0:e.files;t&&r.setState({
uploadAttempts:r.state.uploadAttempts+1},(function(){r.readAndUploadAvatarFile(t)}))};r.isImageUploadProcessing=function(){return r.state.currentStatus===h.CurrentImageUploadStatus.PROCESSING}
;r.onSkipOrContinue=function(){var e=g.addQueryParamsAndFragmentToUrl(r.props.skipOrContinueUrl,{queryDict:r.props.params||{}});r.getApp().navigateToUrl(e)};r.onDelete=function(){
r.fileInput.current&&(r.fileInput.current.value="");r.setState(n.__assign({},r.partialDefaultState))};r.renderSkipOrContinueButton=function(){return u.createElement(I,{
onSkipOrContinue:r.onSkipOrContinue,imageHasBeenAdded:r.state.imageHasBeenAdded,processingNewAvatar:r.state.currentStatus===h.CurrentImageUploadStatus.PROCESSING})}
;r.getAddAvatarHeaderText=function(){return r.state.imageHasBeenAdded?u.createElement(y,n.__assign({},_.addAvatarHeaderTextAlreadyAdded)):u.createElement(y,n.__assign({},_.addAvatarHeaderText))}
;r.getAddAvatarBodyText=function(){return r.state.imageHasBeenAdded?u.createElement(y,n.__assign({},_.addAvatarBodyTextAlreadyAdded)):u.createElement(y,n.__assign({},_.addAvatarBodyText))}
;r.state=n.__assign(n.__assign({},r.partialDefaultState),{uploadAttempts:0});return r}a.prototype.getApp=function(){return this.props.app};a.prototype.componentDidMount=function(){this.bindEvents()
;document.body.classList.add("ob-hide-sidebar")};a.prototype.bindEvents=function(){var e=this;this.events.on(document,"drop",this.handleDragEvents)
;this.events.on(document,"dragover",this.handleDragEvents);this.events.on(document,"dragenter",this.handleDragEvents);var t=document.querySelector("#dropTarget");if(t){
this.events.on(t,"dragover",(function(){if(!e.isImageUploadProcessing()){
var t=e.state.currentStatus!==h.CurrentImageUploadStatus.IMAGE_ADDED&&e.state.currentStatus!==h.CurrentImageUploadStatus.DRAGGING_ONTO_EXISTING_IMAGE?h.CurrentImageUploadStatus.DRAG:h.CurrentImageUploadStatus.DRAGGING_ONTO_EXISTING_IMAGE
;e.setState({currentStatus:t})}}));this.events.on(t,"drop",this.handleDropTargetEvent);this.events.on(t,"dragleave",this.handleDropTargetEvent)}};a.prototype.setError=function(e){(0,
d.trackEng)("Unable to read or upload an image successfully",{numUploadAttempts:this.state.uploadAttempts,failureReason:e});clearInterval(this.uploadProcessingInterval)
;this.fileInput.current&&(this.fileInput.current.value="");this.setState({currentStatus:h.CurrentImageUploadStatus.ERROR,uploadErrorMessage:b(k[e]||k.UnknownError)})}
;a.prototype.setImageAdded=function(e){(0,d.trackEng)("Successful image upload to Paper server",{numUploadAttempts:this.state.uploadAttempts});clearInterval(this.uploadProcessingInterval)
;this.setState({avatar:e,currentStatus:h.CurrentImageUploadStatus.IMAGE_ADDED,imageHasBeenAdded:!0,currentUploadCompleted:!1})};a.prototype.render=function(){
var e=this.state.imageHasBeenAdded?null:u.createElement(o.default,{primary:!0,className:"ob-add-avatar-upload-button",onClick:this.openFileInput,
disabled:this.state.currentStatus===h.CurrentImageUploadStatus.PROCESSING},u.createElement(y,n.__assign({},_.uploadAPhoto)));return u.createElement("div",{className:"ob-add-avatar-container"
},u.createElement("div",{className:"ob-add-avatar-header"},u.createElement("div",{className:"ob-add-avatar-logo-container"
},u.createElement(i.default,null)),u.createElement("h1",null,this.getAddAvatarHeaderText()),u.createElement("p",null,this.getAddAvatarBodyText())),u.createElement(P,{openFileInput:this.openFileInput,
currentStatus:this.state.currentStatus,uploadErrorMessage:this.state.uploadErrorMessage,avatar:this.state.avatar,onDelete:this.onDelete,currentUploadCompleted:this.state.currentUploadCompleted
}),e,this.renderSkipOrContinueButton(),u.createElement("input",{type:"file",style:{display:"none"},ref:this.fileInput,onChange:this.getFileOnChange,accept:m.ACCEPTED_IMAGE_FILE_TYPES}))}
;a.displayName="OnboardingAvatarUploader";return a=n.__decorate([l.default],a)}(u.PureComponent);t.OnboardingAvatarUploader=C;var P=function(e){var t,a=["add-avatar-center-circle"]
;switch(e.currentStatus){case h.CurrentImageUploadStatus.WAITING_FOR_FILE:a.push("add-avatar-gray-circle","add-avatar-clickable");t=u.createElement("div",{className:"add-avatar-circle-content",
onClick:e.openFileInput},u.createElement(s.default,{name:"insert-image"}),u.createElement(y,n.__assign({},_.dragAPhoto)));break;case h.CurrentImageUploadStatus.DRAGGING_ONTO_EXISTING_IMAGE:
case h.CurrentImageUploadStatus.IMAGE_ADDED:a.push("add-avatar-white-circle");var o=["Replace","Delete"].map((function(t){
var a=u.createElement(y,n.__assign({},_.replacePhoto)),r=e.openFileInput,o="action-upload",i="add-avatar-image-button add-avatar-replace-button";if("Delete"===t){
a=u.createElement(y,n.__assign({},_.deletePhoto));r=e.onDelete;o="action-delete";i="add-avatar-image-button add-avatar-delete-button"}return u.createElement("div",{key:t,className:i,onClick:r
},u.createElement("div",{className:"add-avatar-image-button-icon"},u.createElement(s.default,{name:o})),u.createElement("div",{className:"add-avatar-image-button-text"},a))
})),i=e.currentStatus===h.CurrentImageUploadStatus.DRAGGING_ONTO_EXISTING_IMAGE?"add-avatar-circle-content avatar-preview-component drag-image":"add-avatar-circle-content avatar-preview-component"
;t=u.createElement("div",{className:i,style:{backgroundImage:"url('".concat(e.avatar,"')")}},o);break;case h.CurrentImageUploadStatus.ERROR:a.push("add-avatar-red-circle");t=u.createElement("div",{
className:"add-avatar-circle-content"},u.createElement("div",{className:"add-avatar-error-message i18n-msg"},e.uploadErrorMessage),u.createElement("div",{
className:"add-avatar-upload-link add-avatar-clickable",onClick:e.openFileInput},u.createElement(y,n.__assign({},_.tryAgain))));break;case h.CurrentImageUploadStatus.DRAG:
a.push("add-avatar-green-circle");t=u.createElement("div",{className:"add-avatar-circle-content"},u.createElement(s.default,{name:"insert-image"}),u.createElement(y,n.__assign({},_.dropFileToUpload)))
;break;case h.CurrentImageUploadStatus.PROCESSING:a.push("add-avatar-gray-circle");t=u.createElement("div",{className:"add-avatar-circle-content"},u.createElement(r.ImageUploadProgress,{
currentUploadCompleted:e.currentUploadCompleted}));break;default:e.currentStatus}return u.createElement("div",{id:"dropTarget",className:a.join(" ")},u.createElement("div",{
className:"add-avatar-inner-container"},t))};t.CenterCircle=P;P.displayName="CenterCircle";var I=function(e){var t,a;if(e.imageHasBeenAdded){a="ob-add-avatar-upload-button dmc-button-primary "
;t=u.createElement(y,n.__assign({},_.continue))}else{a="dmc-button-linky";t=u.createElement(y,n.__assign({},_.doThisLater))}return u.createElement(o.default,{className:a,onClick:e.onSkipOrContinue,
disabled:e.processingNewAvatar},t)};t.SkipOrContinueButton=I;I.displayName="SkipOrContinueButton"},1719:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.ImageUploadProgress=t.UPDATE_INTERVAL_MS=void 0;var n=a(1),r=a(11),o=a(0),s=a(2),i=a(38),l=(0,a(5).PaperIntlFactory)().F,c=(0,s.defineMessages)({uploadpercentnumberpercentUploading:{id:"AAiPWA",
defaultMessage:"{uploadPercent, number, percent} Uploading..."}});t.UPDATE_INTERVAL_MS=500;var d=function(e){n.__extends(a,e);function a(a){var n=e.call(this,a)||this
;n.getRandomIncreaseAmount=function(e,t){return Math.floor(i.smartRandom()*(t-e+1))+e};n.updateUploadPercent=function(){clearInterval(n.percentInterval)
;n.percentInterval=n.timers.setInterval((function(){if(n.props.currentUploadCompleted){n.setState({uploadPercent:100});clearInterval(n.percentInterval)}else{var e=n.getNewUploadPercent();n.setState({
uploadPercent:e})}}),t.UPDATE_INTERVAL_MS)};n.getNewUploadPercent=function(){var e=0
;n.state.uploadPercent<=50?e=n.getRandomIncreaseAmount(10,20):n.state.uploadPercent<=70?e=n.getRandomIncreaseAmount(5,10):n.state.uploadPercent<=90?e=n.getRandomIncreaseAmount(1,5):n.state.uploadPercent<99&&(e=1)
;return n.state.uploadPercent+e};n.state={uploadPercent:10};return n}a.prototype.componentDidMount=function(){this.updateUploadPercent()};a.prototype.componentWillUnmount=function(){
clearInterval(this.percentInterval)};a.prototype.render=function(){return o.createElement("div",{role:"progressbar","aria-valuenow":this.state.uploadPercent,"aria-valuemin":0,"aria-valuemax":100
},o.createElement("div",{style:{margin:"0 0 15px"}},o.createElement("img",{src:"/static/img/onboarding/ajax-loading-small@2x.gif"})),o.createElement(l,n.__assign({values:{
uploadPercent:this.state.uploadPercent/100}},c.uploadpercentnumberpercentUploading)))};a.displayName="ImageUploadProgress";return a=n.__decorate([r.default],a)}(o.PureComponent)
;t.ImageUploadProgress=d},1720:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(27),r=a(7),o=a(12),s=a(85),i=function(){function e(){}e.prototype.startImageRead=function(e,t){
var a=this,n=new FileReader;n.onloadend=function(e){if(n.error&&"NotFoundError"==n.error.name)t(r.ImageReadStatus.FileNotFound);else{var o=n.result;if(a.isSupportedFormat(o)){
a.imageInBase64=o.split("base64,")[1];t(r.ImageReadStatus.Success,o)}else t(r.ImageReadStatus.UnsupportedMediaType)}};n.onerror=function(e){t(r.ImageReadStatus.UnknownError)};n.readAsDataURL(e)}
;e.prototype.startImageUpload=function(e,t){var a=this;s.default.checkState(!!this.imageInBase64,"Call startImageRead first.");o.post({url:"/ep/account/profile-image-upload",data:{
image_data:this.imageInBase64},analyticsTag:"profile-image-upload",shardingKey:o.getStatelessShardingKey(),successHandler:function(t){s.default.checkNotNull(t.newUrl)
;e(r.ImageUploadStatus.Success,t.newUrl)},errorHandler:function(n,o,s,i){if(413==s){e(r.ImageUploadStatus.ImageTooLarge);return!0}if(!t){e(r.ImageUploadStatus.UnknownError);return!1}
setTimeout((function(){a.startImageUpload(e,!1)}),1e3)}})};e.prototype.isSupportedFormat=function(e){
return!!(n.startsWith(e,"data:image/jpeg")||n.startsWith(e,"data:image/jpg")||n.startsWith(e,"data:image/png"))};return e}();t.default=i},1721:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0})
;t.OutlookConnectButton=t.GoogleConnectButton=t.LinkAccountsButtons=t.OnboardingConnectAccountsPrompt=t.UPDATE_IMPORT_PROGRESS_BAR_INTERVAL=t.GO_TO_NEXT_ONBOARDING_STEP_TIMEOUT=t.MAX_REFRESH_SUCCESS_TIMEOUT=t.REFRESH_CACHE_TIMEOUT=void 0
;var n=a(1),r=a(391),o=a(15),s=a(3),i=a(8),l=a(375),c=a(10),d=a(13),u=a(202),p=a(11),m=a(12),h=a(116),f=a(0),g=a(188),v=a(52),y=a(4),b=a(2),E=a(7),k=a(223),_=a(16),S=(0,
a(5).PaperIntlFactory)().F,w=(0,b.defineMessages)({addsyourprofilephoto:{id:"sg8W3G",defaultMessage:"Adds your profile photo"},importscontactsforeasysharing:{id:"IrmSrM",
defaultMessage:"Imports contacts for easy sharing"},connectscalendarformeetingnotes:{id:"TBYJPH",defaultMessage:"Connects calendar for meeting notes"},connectingyournameOfAccountaccount:{id:"aMx7Oa",
defaultMessage:"Connecting your {nameOfAccount} account."},nameofaccountaccountconnected:{id:"PbiolX",defaultMessage:"{nameOfAccount} account connected."},
couldntconnectyournameOfAccountaccountTryagain:{id:"1xMoH3",defaultMessage:"Couldn't connect your {nameOfAccount} account. Try again."},skipfornow:{id:"b8CWB6",defaultMessage:"Skip for now"},
letsmakethiseasy:{id:"WXeUbw",defaultMessage:"Let's make this easy"},importdetailslikethesefromanotheraccounttogetstartedfaster:{id:"Ai9Aln",
defaultMessage:"Import details like these from another account to get started faster."},continuewithGoogle:{id:"Couesa",defaultMessage:"Continue with Google"},continuewithOutlook:{id:"mIuE59",
defaultMessage:"Continue with Outlook"}});t.REFRESH_CACHE_TIMEOUT=5e3;t.MAX_REFRESH_SUCCESS_TIMEOUT=3e4;t.GO_TO_NEXT_ONBOARDING_STEP_TIMEOUT=3e3;t.UPDATE_IMPORT_PROGRESS_BAR_INTERVAL=1e3
;function C(e,t){m.get({url:"/connect-accounts/refresh",analyticsTag:"connect-accounts-refresh",shardingKey:m.getStatelessShardingKey(),successHandler:e,errorHandler:t})}var P=function(e){
n.__extends(a,e);function a(){var a=null!==e&&e.apply(this,arguments)||this;a.connectAccountsBodyClasses=["ob-connect-accounts-page","ob-hide-sidebar"];a.state={outlookIsConnected:!1,
googleIsConnected:!1,currentImportingContactsState:null,importProgressBarValue:15};a.onSkipButtonClick=function(){i.default.isPersonalDomainUser?a.redirectToInDocOnboarding():(0,
l.getTeamMembersToInvite)(50,a.checkIfUserHasTeamMembers)};a.checkIfUserHasTeamMembers=function(e){var t=e.length>0,n=!!i.default.userPic,r=a.getApp()
;n&&t?r.navigateToUrl("/invite-team-members"):!n&&t?r.navigateToUrl("/add-avatar"):a.redirectToInDocOnboarding()};a.redirectToInDocOnboarding=function(){a.getApp().createNewPad()}
;a.connectOutlook=function(){a.state.outlookIsConnected||r.connectOutlookContactsAndCalendar((function(){a.setState({outlookIsConnected:!0},a.onConnectAccountSuccess)}))};a.connectGoogle=function(){
a.state.googleIsConnected||r.connectGoogleContactsAndCalendar((function(){a.setState({googleIsConnected:!0},a.onConnectAccountSuccess)}))};a.renderConnectBenfitsChecklist=function(){
var e=s("ob-connect-accounts-checklist-wrapper",{"ob-connect-accounts-checklist-wrapper-linethrough":a.state.currentImportingContactsState==E.ContactsImportingStates.ImportSuccess})
;return f.createElement("div",{className:"ob-connect-accounts-ui-checklist"},f.createElement("div",{className:e},f.createElement("div",{className:"ob-connect-accounts-checklist"
},f.createElement(d.default,{name:"got-it"}),f.createElement(S,n.__assign({},w.addsyourprofilephoto))),f.createElement("div",{className:"ob-connect-accounts-checklist"},f.createElement(d.default,{
name:"got-it"}),f.createElement(S,n.__assign({},w.importscontactsforeasysharing))),f.createElement("div",{className:"ob-connect-accounts-checklist"},f.createElement(d.default,{name:"got-it"
}),f.createElement(S,n.__assign({},w.connectscalendarformeetingnotes)))))};a.onConnectAccountSuccess=function(){(a.state.outlookIsConnected||a.state.googleIsConnected)&&a.setState({
currentImportingContactsState:E.ContactsImportingStates.ImportLoading},(function(){
a.refreshCacheSuccessMaxWaitTimeout=a.timers.setTimeout(a.reachedMaxRefreshContactsTime,t.MAX_REFRESH_SUCCESS_TIMEOUT)
;a.updateImportProgressBarInterval=a.timers.setInterval(a.updateImportProgressBarValue,t.UPDATE_IMPORT_PROGRESS_BAR_INTERVAL);a.lastRefreshTime=Date.now();C(a.contactsCacheRefreshHandler,(function(){
a.contactsCacheRefreshHandler({contacts_updated:[]});return!0}))}))};a.contactsCacheRefreshHandler=function(e){
if(e.contacts_updated.length>a.props.numberOfCurrentContacts&&a.state.currentImportingContactsState===E.ContactsImportingStates.ImportLoading){a.setState({
currentImportingContactsState:E.ContactsImportingStates.ImportSuccess});a.clearRefreshIntervals();a.redirectToNextOnboardingStep()}else{
var n=Math.max(t.REFRESH_CACHE_TIMEOUT-(Date.now()-a.lastRefreshTime),0);a.refreshCacheTimeout=a.timers.setTimeout((function(){a.lastRefreshTime=Date.now();C(a.contactsCacheRefreshHandler,(function(){
a.contactsCacheRefreshHandler({contacts_updated:[]});return!0}))}),n)}};a.reachedMaxRefreshContactsTime=function(){
a.state.currentImportingContactsState!=E.ContactsImportingStates.ImportSuccess&&a.setState({currentImportingContactsState:E.ContactsImportingStates.ImportError});a.clearRefreshIntervals()
;a.redirectToNextOnboardingStep()};a.clearRefreshIntervals=function(){clearTimeout(a.refreshCacheTimeout);clearTimeout(a.refreshCacheSuccessMaxWaitTimeout)
;clearInterval(a.updateImportProgressBarInterval)};a.updateImportProgressBarValue=function(){if(a.state.importProgressBarValue<=94){var e=a.getNewImportProgressBarValue();a.setState({
importProgressBarValue:e})}else clearInterval(a.updateImportProgressBarInterval)};a.getNewImportProgressBarValue=function(){var e=0
;a.state.importProgressBarValue<=40?e=15:a.state.importProgressBarValue<=60?e=10:a.state.importProgressBarValue<=80?e=5:a.state.importProgressBarValue<=94&&(e=1)
;return e+a.state.importProgressBarValue};a.redirectToNextOnboardingStep=function(){a.redirectToOnboardingInterval=a.timers.setTimeout((function(){
i.default.userPic?a.getApp().navigateToUrl("/invite-team-members"):a.getApp().navigateToUrl("/add-avatar");clearTimeout(a.redirectToOnboardingInterval)}),t.GO_TO_NEXT_ONBOARDING_STEP_TIMEOUT)}
;return a}a.prototype.componentDidMount=function(){for(var e=0,t=this.connectAccountsBodyClasses;e<t.length;e++){var a=t[e];document.body.classList.add(a)}(0,
y.trackUi)("View connect accounts onboarding page")};a.prototype.getApp=function(){return this.props.app};a.prototype.componentWillUnmount=function(){
for(var e=0,t=this.connectAccountsBodyClasses;e<t.length;e++){var a=t[e];document.body.classList.remove(a)}};a.prototype.renderImportingState=function(){
if(this.state.currentImportingContactsState===E.ContactsImportingStates.ImportLoading){var e=f.createElement(S,n.__assign({values:{nameOfAccount:this.state.outlookIsConnected?"Outlook":"Google"}
},w.connectingyournameOfAccountaccount));return f.createElement("div",{className:"ob-connect-accounts-snackbar-container"},f.createElement(g.Snackbar,{open:!0},f.createElement(h.Spinner,{
"aria-valuetext":"Loading",size:"small",inverse:!0}),f.createElement(g.Snackbar.Message,null,e),f.createElement(g.Snackbar.ProgressBar,null,f.createElement(h.ProgressBar,{
"aria-valuetext":"Uploading files",inverse:!0,value:this.state.importProgressBarValue}))))}if(this.state.currentImportingContactsState===E.ContactsImportingStates.ImportSuccess){
e=f.createElement(S,n.__assign({values:{nameOfAccount:this.state.outlookIsConnected?"Outlook":"Google"}},w.nameofaccountaccountconnected));return f.createElement("div",{
className:"ob-connect-accounts-snackbar-container"},f.createElement(g.Snackbar,{open:!0},f.createElement(_.UIIcon,{src:o.CheckmarkCircleLine}),f.createElement(g.Snackbar.Message,null,e)))}
if(this.state.currentImportingContactsState===E.ContactsImportingStates.ImportError){e=f.createElement(S,n.__assign({values:{nameOfAccount:this.state.outlookIsConnected?"Outlook":"Google"}
},w.couldntconnectyournameOfAccountaccountTryagain));return f.createElement("div",{className:"ob-connect-accounts-snackbar-container"},f.createElement(g.Snackbar,{open:!0},f.createElement(_.UIIcon,{
src:o.WarningLine}),f.createElement(g.Snackbar.Message,null,e)))}};a.prototype.render=function(){return f.createElement("div",{className:"ob-connect-accounts-container"},f.createElement("div",{
className:"ob-connect-accounts-header"},f.createElement("div",{className:"ob-connect-accounts-logo-container"},f.createElement("div",{className:"ob-connect-accounts-paper-logo"
},f.createElement(u.default,null)),f.createElement("div",{className:"ob-connect-accounts-skip-button"},f.createElement(c.default,{secondary:!0,onClick:this.onSkipButtonClick,
disabled:this.state.outlookIsConnected||this.state.googleIsConnected},f.createElement(S,n.__assign({},w.skipfornow))))),f.createElement("h1",{className:"ob-connect-accounts-header-message"
},f.createElement(S,n.__assign({},w.letsmakethiseasy))),f.createElement("p",{className:"ob-connect-accounts-header-body"
},f.createElement(S,n.__assign({},w.importdetailslikethesefromanotheraccounttogetstartedfaster)))),this.renderConnectBenfitsChecklist(),f.createElement(I,{connectOutlook:this.connectOutlook,
connectGoogle:this.connectGoogle,linkButtonsDisabled:this.state.outlookIsConnected||this.state.googleIsConnected}),f.createElement("img",{className:"ob-connect-accounts-image",src:(0,
v.default)("/static/img/onboarding/Paper-invite-others-to-collaborate.png")}),this.renderImportingState())};a.displayName="OnboardingConnectAccountsPrompt";return a=n.__decorate([p.default],a)
}(f.PureComponent);t.OnboardingConnectAccountsPrompt=P;var I=function(e){if(k.isOutlookEmail(i.default.userEmail))return f.createElement("div",{className:"ob-connect-accounts-buttons"
},f.createElement(N,{outlookButtonOnClick:e.connectOutlook,isButtonDisabled:e.linkButtonsDisabled,classNames:"dmc-button-primary ob-connect-accounts-buttons-known-main"}),f.createElement(T,{
shouldShowGoogleIcon:!1,googleButtonOnClick:e.connectGoogle,isButtonDisabled:e.linkButtonsDisabled,classNames:"dmc-button-linky"}))
;var t=k.isGoogleEmail(i.default.userEmail),a=s("dmc-button-primary",{"ob-connect-accounts-buttons-unknown-main":!t,"ob-connect-accounts-buttons-known-main":t}),n=s({"dmc-button-secondary":!t,
"dmc-button-linky":t});return f.createElement("div",{className:"ob-connect-accounts-buttons"},f.createElement(T,{shouldShowGoogleIcon:t,googleButtonOnClick:e.connectGoogle,
isButtonDisabled:e.linkButtonsDisabled,classNames:a}),f.createElement(N,{outlookButtonOnClick:e.connectOutlook,isButtonDisabled:e.linkButtonsDisabled,classNames:n}))};t.LinkAccountsButtons=I
;I.displayName="LinkAccountsButtons";var T=function(e){var t=e.shouldShowGoogleIcon?f.createElement("span",{className:"ob-connect-accounts-svg"},f.createElement(d.default,{name:"g-logo"})):null
;return f.createElement(c.default,{className:e.classNames,onClick:e.googleButtonOnClick,disabled:e.isButtonDisabled},t,f.createElement(S,n.__assign({},w.continuewithGoogle)))};t.GoogleConnectButton=T
;T.displayName="GoogleConnectButton";var N=function(e){return f.createElement(c.default,{className:e.classNames,onClick:e.outlookButtonOnClick,disabled:e.isButtonDisabled
},f.createElement(S,n.__assign({},w.continuewithOutlook)))};t.OutlookConnectButton=N;N.displayName="OutlookConnectButton"},1722:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n,r=a(1),o=a(6),s=a(596),i=a(4),l=a(26),c=a(47),d=a(8),u=a(1723),p=a(11),m=a(169),h=a(114),f=a(29),g=a(23),v=a(0),y=a(41),b=a(4),E=a(49);!function(e){e.Initial="initial";e.Success="success"
;e.Error="error"}(n||(n={}));var k=2*y.Time.SECOND,_=10*y.Time.SECOND,S=function(e){r.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.waitingPromises=[]
;a.handleWindowFocusHistoryChanged=function(){var e=a.context.stores.windowFocus,t=o.last(e.eventHistory);if(t){var n=[];a.waitingPromises=o.filter(a.waitingPromises,(function(e){
if(e.eventType===t.type){clearTimeout(e.timeoutId);n.push(e.resolve);return!1}return!0}));for(var r=0,s=n;r<s.length;r++){(0,s[r])()}}};a.followWebUrl=function(){(0,
b.trackEng)("pathways click-open-in-browser",{interstitial:a.state.stage});var e=s.ApolloPathwaysLocalStorageKeys.ContinuePadInWebCount,t=h.localStorage.getNumber(e)||0;t=Math.min(t+1,5)
;h.localStorage.setItem(e,t.toString());a.redirectToWeb()};a.downloadDesktopApp=function(){(0,b.trackEng)("pathways click-download-app",{interstitial:a.state.stage});(0,
f.locationAssign)("pad-desktop-redirect_download-app","http://drl/get-paper-desktop")};a.state={stage:n.Initial};return a}t.prototype.getApp=function(){return this.props.app}
;t.prototype.enter=function(){this.getApp().getLeftNavSidebar().setVisible(!1)};t.prototype.componentDidMount=function(){document.body.classList.add("hp-pad-desktop-redirect-page")
;this.startDesktopRedirectFlow()};t.prototype.componentWillUnmount=function(){document.body.classList.remove("hp-pad-desktop-redirect-page")
;this.context.stores.windowFocus.off("change",this.handleWindowFocusHistoryChanged)};t.prototype.startDesktopRedirectFlow=function(){if(this.validateProps()){var e=this.context.stores.windowFocus
;e.on("change",this.handleWindowFocusHistoryChanged);(0,b.trackEng)("pathways initial-interstitial shown",{background:!e.wasVisibleOnLoad});if(e.wasVisibleOnLoad){(0,
b.trackEng)("pathways initial-interstitial try-open-app");this.tryLaunchingApollo()}else this.redirectToWeb()}else(0,b.trackEng)("pathways invalid props")};t.prototype.tryLaunchingApollo=function(){
var e=E.URI.parse(this.getRelativeUrlWithFragment()),t=e.getQuery(),a=this.getApp().getNavigationPerfParams(),n={dropboxAccountId:d.default.dropboxAccountId
},o=r.__assign(r.__assign(r.__assign({},a),t),n);e.setQuery(o);(0,m.launchApolloWithRelativeUrl)({relativeUrl:e.toString(),onFailure:this.redirectToWeb});this.tryToCloseWindow()}
;t.prototype.tryToCloseWindow=function(){var e=this,t=this.timers.setTimeout((function(){e.redirectToWeb()}),k);window.addEventListener("blur",(function(){clearTimeout(t)}))
;this.timers.setTimeout((function(){(0,b.trackEng)("pathways try-window-close");window.close()}),_)};t.prototype.validateProps=function(){try{
if((e=E.URI.parse(this.props.relativePadUrl)).getAuthority())return!1}catch(e){return!1}if(this.props.continueOnWebUrl)try{var e=E.URI.parse(this.props.continueOnWebUrl)
;if(-1===[l.default.dropboxDomainWWW,l.default.paperCanonicalDomain].indexOf(e.getAuthority()))return!1}catch(e){return!1}return!0};t.prototype.redirectToWeb=function(){
if(this.props.continueOnWebUrl){var e=(0,m.addNoDesktopRedirectParam)(this.addFragmentToUrl(this.props.continueOnWebUrl));(0,f.locationAssign)("pad-desktop-redirect_open-in-web",e)}else{e=(0,
m.addNoDesktopRedirectParam)(this.getRelativeUrlWithFragment());this.getApp().navigateToUrl(e,{replaceHistory:!0,forceSoftNavigation:!0})}};t.prototype.getRelativeUrlWithFragment=function(){
return this.addFragmentToUrl(this.props.relativePadUrl)};t.prototype.addFragmentToUrl=function(e){var t=c.default.hash.substr(1);return E.URI.parse(e).setFragment(t).toString()}
;t.prototype.renderInterstitial=function(){var e={onContinueOnWebClick:this.followWebUrl,onDownloadDesktopAppClick:this.downloadDesktopApp};switch(this.state.stage){case n.Success:
return v.createElement(u.SuccessInterstitial,r.__assign({},e));case n.Error:return v.createElement(u.ErrorInterstitial,r.__assign({},e));case n.Initial:
return v.createElement(u.InitialInterstitial,r.__assign({},e));default:this.state.stage;return null}};t.prototype.render=function(){return this.validateProps()?v.createElement(i.TrackContext,{
trackContext:i.AppContext.PadDesktopRedirect},v.createElement("div",{className:"pad-desktop-redirect-container"},this.renderInterstitial()),v.createElement(u.SettingsRedirectMessage,null)):null}
;t.displayName="PadDesktopRedirectPage";t.contextTypes={stores:g.object.isRequired};return t=r.__decorate([p.default],t)}(v.Component);t.default=S},1723:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.SettingsRedirectMessage=t.SuccessInterstitial=t.ErrorInterstitial=t.InitialInterstitial=void 0
;var n=a(1),r=a(2),o=a(169),s=a(10),i=a(266),l=a(14),c=a(0),d=a(275),u=(0,l.MsgFactory)("pad"),p=u.F,m=(0,u.defineMessages)({alwaysopeninthisbrowser:{msg:"Always open in this browser"},
openingyourPaperapp:{msg:"Opening your Paper app…"},or:{msg:"or",description:"Vertical separator between the description and the CTA button"},continueinthisbrowser:{msg:"Continue in this browser"},
couldntfindyourPaperapp:{msg:"Couldn't find your Paper app"},thisdocopenedinyourPaperapp:{msg:"This doc opened in your Paper app"},dontwantdocstoopeninyourapp:{
msg:"Don't want docs to open in your app? "},changesettings:{msg:"Change settings",description:"Full sentence is 'Don't want docs to open in your app? Change settings.'"}}),h=((0,r.defineMessages)({
alwaysopeninthisbrowser:{id:"I+eQv+",defaultMessage:"Always open in this browser"},openingyourPaperapp:{id:"nVmlq3",defaultMessage:"Opening your Paper app…"},or:{id:"ifpyy0",defaultMessage:"or"},
continueinthisbrowser:{id:"V0xNhF",defaultMessage:"Continue in this browser"},couldntfindyourPaperapp:{id:"jGg0LW",defaultMessage:"Couldn't find your Paper app"},thisdocopenedinyourPaperapp:{
id:"e/1PpM",defaultMessage:"This doc opened in your Paper app"},dontwantdocstoopeninyourapp:{id:"ZTFRbe",defaultMessage:"Don't want docs to open in your app? "},changesettings:{id:"lYgM/f",
defaultMessage:"Change settings"}}),function(e){return c.createElement(s.default,{className:"pathway-interstitial-auto-redirect-preference",linky:!0,onClick:function(){(0,
o.disableDesktopAutoRedirectForDevice)();e.onAutoRedirectDisabled()},"track-title":"always-continue-in-web"},c.createElement(p,n.__assign({},m.alwaysopeninthisbrowser)))})
;t.InitialInterstitial=function(e){return c.createElement("div",{className:"pathway-interstitial pathway-interstitial--initial"},c.createElement("div",{className:"pathway-interstitial-sticker"
},c.createElement(i.default,{pack:"wizards",sticker:"appreciation",size:"normal"})),c.createElement("h1",{className:"pathway-interstitial-title"
},c.createElement(p,n.__assign({},m.openingyourPaperapp))),c.createElement("div",{className:"pathway-interstitial-separator"},c.createElement(p,n.__assign({},m.or))),c.createElement(s.default,{
className:"pathway-interstitial-continue-button",primary:!0,onClick:e.onContinueOnWebClick,size:"medium","track-title":"continue-in-web"
},c.createElement(p,n.__assign({},m.continueinthisbrowser))),c.createElement(h,{onAutoRedirectDisabled:e.onContinueOnWebClick}))};t.InitialInterstitial.displayName="InitialInterstitial"
;t.ErrorInterstitial=function(e){return c.createElement("div",{className:"pathway-interstitial pathway-interstitial--error"},c.createElement("div",{className:"pathway-interstitial-sticker"
},c.createElement(i.default,{pack:"wizards",sticker:"shy",size:"normal"})),c.createElement("h1",{className:"pathway-interstitial-title"
},c.createElement(p,n.__assign({},m.couldntfindyourPaperapp))),c.createElement("div",{className:"pathway-interstitial-separator"}),c.createElement(s.default,{
className:"pathway-interstitial-continue-button",primary:!0,onClick:e.onContinueOnWebClick,size:"medium","track-title":"continue-in-web"
},c.createElement(p,n.__assign({},m.continueinthisbrowser))),c.createElement(h,{onAutoRedirectDisabled:e.onContinueOnWebClick}))};t.ErrorInterstitial.displayName="ErrorInterstitial"
;t.SuccessInterstitial=function(e){return c.createElement("div",{className:"pathway-interstitial pathway-interstitial--success"},c.createElement("div",{className:"pathway-interstitial-sticker"
},c.createElement(i.default,{pack:"wizards",sticker:"thumbs-up",size:"normal"})),c.createElement("h1",{className:"pathway-interstitial-title"
},c.createElement(p,n.__assign({},m.thisdocopenedinyourPaperapp))),c.createElement("div",{className:"pathway-interstitial-separator"
},c.createElement(p,n.__assign({},m.or))),c.createElement(s.default,{className:"pathway-interstitial-continue-button",primary:!0,onClick:e.onContinueOnWebClick,size:"medium",
"track-title":"continue-in-web"},c.createElement(p,n.__assign({},m.continueinthisbrowser))),c.createElement(h,{onAutoRedirectDisabled:e.onContinueOnWebClick}))}
;t.SuccessInterstitial.displayName="SuccessInterstitial";t.SettingsRedirectMessage=function(){var e=d.getSettingsUrl({page:d.SettingsPage.ConnectedApps});return c.createElement("div",{
className:"pathways-interstitial-settings-redirect"},c.createElement(p,n.__assign({},m.dontwantdocstoopeninyourapp)),c.createElement(s.default,{href:e,target:"_blank"
},c.createElement(p,n.__assign({},m.changesettings))))};t.SettingsRedirectMessage.displayName="SettingsRedirectMessage"},1724:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(2),o=a(7),s=a(14),i=a(271),l=a(0),c=(0,s.MsgFactory)("filterSelector"),d=c.F,u=(0,c.defineMessages)({recentdocs:{msg:"Recent docs"},createdbyme:{msg:"Created by me"},ownedbyme:{
msg:"Owned by me"},sharedwithme:{msg:"Shared with me"},archived:{msg:"Archived"},deleted:{msg:"Deleted"}}),p=((0,r.defineMessages)({recentdocs:{id:"TSQV/G",defaultMessage:"Recent docs"},createdbyme:{
id:"fTvRaJ",defaultMessage:"Created by me"},ownedbyme:{id:"xkg7w5",defaultMessage:"Owned by me"},sharedwithme:{id:"9AyoTw",defaultMessage:"Shared with me"},archived:{id:"7dyBPz",
defaultMessage:"Archived"},deleted:{id:"RBvabN",defaultMessage:"Deleted"}}),function(e){return l.createElement(i.Select,{className:"hp-sidebar-filter-dropdown",onSelected:e.onChange,left:!0
},l.createElement(i.Option,{selected:!e.filter||e.filter==o.ListViewFilter.recents,value:o.ListViewFilter.recents},l.createElement(d,n.__assign({},u.recentdocs))),l.createElement(i.Option,{
selected:e.filter==o.ListViewFilter.createdByMe,value:o.ListViewFilter.createdByMe},l.createElement(d,n.__assign({},u.createdbyme))),l.createElement(i.Option,{
selected:e.filter==o.ListViewFilter.ownedByMe,value:o.ListViewFilter.ownedByMe},l.createElement(d,n.__assign({},u.ownedbyme))),l.createElement(i.Option,{
selected:e.filter==o.ListViewFilter.sharedWithMe,value:o.ListViewFilter.sharedWithMe},l.createElement(d,n.__assign({},u.sharedwithme))),l.createElement(i.Option,{
selected:e.filter==o.ListViewFilter.archived,value:o.ListViewFilter.archived},l.createElement(d,n.__assign({},u.archived))),l.createElement(i.Option,{selected:e.filter==o.ListViewFilter.trashed,
value:o.ListViewFilter.trashed},l.createElement(d,n.__assign({},u.deleted))))});p.displayName="FilterSelector";t.default=p},1725:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.recentNotificationsStatusRenderer=void 0;var n=a(1),r=a(2),o=a(7),s=a(0),i=(0,a(5).PaperIntlFactory)().F,l=(0,r.defineMessages)({sharedwithYou:{id:"FyDTQD",defaultMessage:"Shared with You"},
commentcountpluralonecommentothercomments:{id:"Q6LLjb",defaultMessage:"{commentCount, plural, one {1 comment} other {# comments}}"},mentioncountpluralonementionothermentions:{id:"iDUFPH",
defaultMessage:"{mentionCount, plural, one {1 mention} other {# mentions}}"},taskcountpluraloneupdatedtaskotherupdatedtasks:{id:"Aihue5",
defaultMessage:"{taskCount, plural, one {1 updated task} other {# updated tasks}}"}});t.recentNotificationsStatusRenderer=function(e,t){var a=e.recentNotificationsList.get();if(!a)return null
;var r=a.notificationsList.notifications.filter((function(e){return e.encryptedEntityId==t.id.id}));if(0==r.length)return null
;if(r[0].type==o.NotificationType.PadInvite||r[0].type==o.NotificationType.FolderInvite)return s.createElement("div",{className:"hp-list-item-unread-notifs"},s.createElement("span",{
className:"notranslate"},"●")," ",s.createElement(i,n.__assign({},l.sharedwithYou)));for(var c=0,d=0,u=0,p=0,m=r;p<m.length;p++){switch(m[p].type){case o.NotificationType.Comment:
case o.NotificationType.CommentReminder:c++;break;case o.NotificationType.NewMention:case o.NotificationType.NewSelfMention:d++;break;case o.NotificationType.NewTask:
case o.NotificationType.NewSelfTask:case o.NotificationType.CompleteTask:case o.NotificationType.IncompleteTask:u++}}var h=[];c>0&&h.push(s.createElement(i,n.__assign({key:"comment",values:{
commentCount:c}},l.commentcountpluralonecommentothercomments)));if(d>0){h.length>0&&h.push(s.createElement("span",{className:"notranslate"}," · "));h.push(s.createElement(i,n.__assign({key:"mention",
values:{mentionCount:d}},l.mentioncountpluralonementionothermentions)))}if(u>0){h.length>0&&h.push(s.createElement("span",{className:"notranslate"}," · "));h.push(s.createElement(i,n.__assign({
key:"task",values:{taskCount:u}},l.taskcountpluraloneupdatedtaskotherupdatedtasks)))}return h.length>0?s.createElement("div",{className:"hp-list-item-unread-notifs"},s.createElement("span",{
className:"notranslate"},"●")," ",h):void 0}},1735:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.WelcomeSamplePadsBanner=t.WelcomeSamplePads=t.WelcomeSamplePadsBase=t.Welcome=void 0;var n=a(1),r=a(3),o=a(8),s=a(10),i=a(13),l=a(202),c=a(83),d=a(1736),u=a(4),p=a(0),m=a(2),h=a(638),f=(0,
a(5).PaperIntlFactory)(),g=f.F,v=f._f,y=(0,m.defineMessages)({welcome:{id:"yk+dzy",defaultMessage:"Welcome"},letsgetyoustarted:{id:"VXYgtR",defaultMessage:"Let’s get you started"},
chooseatemplatetobeginorcreateyourfirstdocwithablankslate:{id:"FIBP+0",defaultMessage:"Choose a template to begin or create your first doc with a blank slate."},skip:{id:"PaR0U3",defaultMessage:"Skip"
},createnewdoc:{id:"aUYGpi",defaultMessage:"Create new doc"},welcomename:{id:"3RA5oS",defaultMessage:"Welcome {name}!"},welcomeExclamationPoint:{id:"5S5ebN",defaultMessage:"Welcome!"},
explorewaystousePaperbyselectinganexampledoc:{id:"0EPNvr",defaultMessage:"Explore ways to use Paper by selecting an example doc"}}),b=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.handleSkipClick=function(e){t.getApp().handleCreatePadClick(e);u.IntentionEvent.CreatePad.track({context:u.AppContext.Onboarding.Welcome})};return t}
t.prototype.getApp=function(){return this.props.app};t.prototype.componentDidMount=function(){document.body.classList.add("hp-welcome-page");this.getApp().setPageTitle(v(y.welcome));(0,
u.trackUi)("View Welcome",{context:u.AppContext.Onboarding.Welcome,accountAge:o.default.accountAge,numPadViewed:o.default.numPadViewed})};t.prototype.enter=function(){
this.getApp().getLeftNavSidebar().setVisible(!1)};t.prototype.componentWillUnmount=function(){document.body.classList.remove("hp-welcome-page")};t.prototype.render=function(){
return p.createElement("div",{className:"ob-welcome"},p.createElement("div",{className:"ob-welcome-header"},p.createElement("div",{className:"ob-welcome-header-inner"
},p.createElement(l.default,null),p.createElement("h1",null,p.createElement(g,n.__assign({},y.letsgetyoustarted))),p.createElement("p",null,p.createElement(g,n.__assign({},y.chooseatemplatetobeginorcreateyourfirstdocwithablankslate))))),p.createElement(u.TrackContext,{
trackContext:u.AppContext.Onboarding.Welcome},p.createElement(s.default,{secondary:!0,onClick:this.handleSkipClick,className:"ob-welcome-skip"
},p.createElement(g,n.__assign({},y.skip)))),p.createElement(k,{app:this.getApp(),context:u.AppContext.Onboarding.Welcome}))};t.displayName="Welcome";return t}(p.Component);t.Welcome=b
;var E=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleCreatePadClick=function(e){a.props.onComplete&&a.props.onComplete();a.getApp().handleCreatePadClick(e)
;var t=a.state.samples.map((function(e){return e.key}));u.IntentionEvent.CreatePad.track({context:a.props.context,sampleOrder:t})};a.state={samples:(0,d.getSampleSet)(t.pads)};return a}
t.prototype.getApp=function(){return this.props.app};t.prototype.componentDidMount=function(){var e=this.state.samples.map((function(e){return e.key}));(0,u.trackUi)("View Welcome Sample Pads",{
sampleOrder:e})};t.prototype.sampleClickHandler=function(e){var t=this;return function(a){t.props.onComplete&&t.props.onComplete();var n,r={};if(h.SamplePadTypes.MeetingNotesTemplate==e.key){
n="/pad/meeting-note";r={tzOffset:-(new Date).getTimezoneOffset()}}var s=t.state.samples.map((function(e){return e.key})),i=s.indexOf(e.key)+1
;e.key!=h.SamplePadTypes.WordDocTemplate&&(c.shouldOpenInNewTab(a)||a.shiftKey?(0,d.openSampleInNewTab)(e,t.getApp(),n,r):(0,d.openSample)(e,t.getApp(),n,r));u.IntentionEvent.OpenSamplePad.track({
context:t.props.context,sampleOrder:s,samplePosition:i,samplePad:e.key,sampleTitle:e.title,sampleIcon:e.icon,accountAge:o.default.accountAge,numPadViewed:o.default.numPadViewed})}}
;t.prototype.getSample=function(e){var t=e.key==h.SamplePadTypes.WordDocTemplate?{app:this.props.app}:{},a=r("ob-welcome-btn","ob-welcome-btn-large","sample-"+e.key,"selenium-sample-"+e.key)
;return p.createElement(s.default,n.__assign({styleless:!0,className:a,"track-title":"".concat(e.title," example doc"),key:e.key,onClick:this.sampleClickHandler(e)},t),p.createElement(i.default,{
name:e.icon}),p.createElement("span",{className:"label"},p.createElement("span",{className:"title"},p.createElement(g,n.__assign({},e.title))),p.createElement("span",{className:"subtitle"
},p.createElement(g,n.__assign({},e.subtitle)))))};t.defaultProps={
pads:[h.SamplePadTypes.BrainstormTemplate,h.SamplePadTypes.ProjectPlanTemplate,h.SamplePadTypes.MeetingNotesTemplate,h.SamplePadTypes.WordDocTemplate],onClick:void 0}
;t.displayName="WelcomeSamplePadsBase";return t}(p.Component);t.WelcomeSamplePadsBase=E;var k=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.state={samples:(0,
d.getSampleSet)(t.pads)};return a}t.prototype.render=function(){var e=this,t=r("ob-welcome-sample-docs",{"ob-welcome-four-wide":this.state.samples.length<=3,
"ob-welcome-five-wide":this.state.samples.length>3}),a=this.state.samples.map((function(t,a){return p.createElement("div",{className:"ob-welcome-row",key:a},e.getSample(t))}))
;return p.createElement("div",{className:"ob-welcome-content"},p.createElement("div",{className:"ob-welcome-content-inner"},p.createElement(u.TrackContext,{trackContext:this.props.context
},p.createElement("div",{className:t},a,p.createElement("div",{className:"ob-welcome-row"},p.createElement(s.default,{styleless:!0,className:"ob-welcome-btn ob-welcome-btn-large create-new",
"track-title":"Create new doc",onClick:this.handleCreatePadClick},p.createElement(i.default,{name:"welcome-create-new"}),p.createElement("span",{className:"label"},p.createElement("span",{
className:"title"},p.createElement(g,n.__assign({},y.createnewdoc))))))))))};t.displayName="WelcomeSamplePads";return t}(E);t.WelcomeSamplePads=k;var _=function(e){n.__extends(t,e);function t(t){
var a=e.call(this,t)||this;a.state={samples:(0,d.getSampleSet)(t.pads)};return a}t.prototype.render=function(){var e=this,t=o.default.givenName?p.createElement(g,n.__assign({values:{
name:o.default.givenName}},y.welcomename)):p.createElement(g,n.__assign({},y.welcomeExclamationPoint)),a=this.state.samples.map((function(t,a){return e.getSample(t)}));return p.createElement("div",{
className:"welcome-sample-banner selenium-welcome-sample-banner"},p.createElement(s.default,{className:"welcome-sample-banner-close selenium-welcome-sample-banner-close",onClick:function(){
e.props.onDismiss&&e.props.onDismiss()}},p.createElement(i.default,{name:"close"})),p.createElement("div",{className:"welcome-sample-banner-inner"},p.createElement("div",{
className:"welcome-sample-banner-title"},t),p.createElement("div",{className:"welcome-sample-banner-subtitle"},p.createElement(g,n.__assign({},y.explorewaystousePaperbyselectinganexampledoc))),a))}
;t.displayName="WelcomeSamplePadsBanner";return t}(E);t.WelcomeSamplePadsBanner=_},1736:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.getSampleSet=t.createTemplateAndRedirect=t.openSampleInNewTab=t.openSample=t.ALL_SAMPLES=void 0;var n=a(1),r=a(14),o=a(53),s=a(48),i=a(12),l=a(44),c=a(29),d=a(0),u=a(2),p=a(638),m=a(41),h=(0,
r.MsgFactory)("onboarding"),f=h.defineMessages,g=h.F,v=f({meetingNotes:{msg:"Sample: Meeting Notes"},meetingNotesSubtitle:{msg:"Capture ideas from a meeting"},meetingNotesSubtitleAlt:{
msg:"Where talk turns to action"},projectProposal:{msg:"Sample: Creative Collaboration"},projectProposalSubtitle:{msg:"Plan a project with your team"},brainstorm:{msg:"Sample: Brainstorm"},
brainstormSubtitle:{msg:"Ideate together at the same time"},brainstormSubtitleAlt:{msg:"It all starts somewhere"},intro:{msg:"Blank doc"},introSubtitle:{msg:"Learn the basics of editing"},
projectOverview:{msg:"Project plan"},projectOverviewSubtitle:{msg:"The big picture"},newTemplate:{msg:"Create your own"},importWordDoc:{msg:"Upload Word doc"},importWordDocSubtitle:{
msg:"Make it a team effort"},importMicrosoftWordDoc:{msg:"Import Microsoft Word doc"},brainstormCTA:{msg:"Start with a brainstorm template"},projectCTA:{msg:"Start with a project plan template"},
meetingCTA:{msg:"Start with a meeting template"},wordDocCTA:{msg:"Start with a Word Document"},couldntOpenThisDoc:{msg:"Couldn't open this doc. Try creating a new doc."}}),y=((0,u.defineMessages)({
meetingNotes:{id:"fmq6Kn",defaultMessage:"Sample: Meeting Notes"},meetingNotesSubtitle:{id:"0NBoce",defaultMessage:"Capture ideas from a meeting"},meetingNotesSubtitleAlt:{id:"u2cTm4",
defaultMessage:"Where talk turns to action"},projectProposal:{id:"kVuX5i",defaultMessage:"Sample: Creative Collaboration"},projectProposalSubtitle:{id:"URumQo",
defaultMessage:"Plan a project with your team"},brainstorm:{id:"4sCjbh",defaultMessage:"Sample: Brainstorm"},brainstormSubtitle:{id:"/USCDD",defaultMessage:"Ideate together at the same time"},
brainstormSubtitleAlt:{id:"73iZjC",defaultMessage:"It all starts somewhere"},intro:{id:"9gutK5",defaultMessage:"Blank doc"},introSubtitle:{id:"uXTz3s",defaultMessage:"Learn the basics of editing"},
projectOverview:{id:"WAEQqE",defaultMessage:"Project plan"},projectOverviewSubtitle:{id:"ipjTFM",defaultMessage:"The big picture"},newTemplate:{id:"dHSq4d",defaultMessage:"Create your own"},
importWordDoc:{id:"1PE3GL",defaultMessage:"Upload Word doc"},importWordDocSubtitle:{id:"Hh1N7c",defaultMessage:"Make it a team effort"},importMicrosoftWordDoc:{id:"i7pMgY",
defaultMessage:"Import Microsoft Word doc"},brainstormCTA:{id:"iwin7S",defaultMessage:"Start with a brainstorm template"},projectCTA:{id:"es60sr",defaultMessage:"Start with a project plan template"},
meetingCTA:{id:"w5U9Uk",defaultMessage:"Start with a meeting template"},wordDocCTA:{id:"G1V9T8",defaultMessage:"Start with a Word Document"}}),
"welcome-brainstorm"),b="welcome-meeting-notes",E="welcome-project-proposal",k="/static/img/composer/onboarding/template-chooser/template-meeting.png",_="/static/img/composer/onboarding/template-chooser/template-project.png",S="/static/img/composer/onboarding/template-chooser/template-brainstorm.png"
;t.ALL_SAMPLES=[{key:p.SamplePadTypes.MeetingNotes,title:v.meetingNotes,icon:b,image:k,subtitle:v.meetingNotesSubtitle},{key:p.SamplePadTypes.ProjectProposal,title:v.projectProposal,icon:E,image:_,
subtitle:v.projectProposalSubtitle},{key:p.SamplePadTypes.Brainstorm,title:v.brainstorm,icon:y,image:S,subtitle:v.brainstormSubtitle},{key:p.SamplePadTypes.Intro,title:v.intro,icon:"note",
image:"/static/img/composer/onboarding/template-chooser/template-blank.png",subtitle:v.introSubtitle},{key:p.SamplePadTypes.BrainstormTemplate,title:v.brainstorm,
fullyFledgedDoc:p.SamplePadTypes.Brainstorm,cta:v.brainstormCTA,icon:y,image:S,subtitle:v.brainstormSubtitleAlt},{key:p.SamplePadTypes.ProjectPlanTemplate,title:v.projectOverview,
fullyFledgedDoc:p.SamplePadTypes.ProjectProposal,icon:E,image:_,cta:v.projectCTA,subtitle:v.projectOverviewSubtitle},{key:p.SamplePadTypes.MeetingNotesTemplate,title:v.meetingNotes,
fullyFledgedDoc:p.SamplePadTypes.MeetingNotes,icon:b,image:k,cta:v.meetingCTA,subtitle:v.meetingNotesSubtitleAlt},{key:p.SamplePadTypes.WordDocTemplate,title:v.importMicrosoftWordDoc,
icon:"welcome-word",cta:v.wordDocCTA,image:"/static/img/composer/onboarding/template-chooser/template-word.png",subtitle:v.importWordDocSubtitle},{key:p.SamplePadTypes.CreateNewTemplate,
title:v.newTemplate,icon:"create-new",image:"",subtitle:{msg:""}}];var w=5*m.Time.SECOND;function C(e,t,a,n){i.post({url:a||"/pad/open-sample/".concat(e.key),data:n,
analyticsTag:"onboarding-welcome-open-sample",shardingKey:i.getShardingKeyForCreatingNewPad(),successHandler:function(e){t.navigateToPad({id:e.padId})}})}t.openSample=C
;t.openSampleInNewTab=function(e,t,a,r){var u,p=(0,c.unsafeWindowOpen)("about:blank");p.focus();var m=i.post({url:a||"/pad/open-sample/".concat(e.key),data:r,
analyticsTag:"onboarding-welcome-open-sample",shardingKey:i.getShardingKeyForCreatingNewPad(),successHandler:function(e){clearTimeout(u);var a=e.padId
;!p||p.closed?s.default.show(d.createElement(s.default,{clickToDismiss:!0},d.createElement(g,n.__assign({},v.couldntOpenThisDoc)))):p.location.replace(t.constructUrl(o.default.PAD,{id:a}));return!0},
errorHandler:function(){clearTimeout(u);p&&!p.closed&&p.close();s.default.show(d.createElement(s.default,{clickToDismiss:!0},d.createElement(g,n.__assign({},v.couldntOpenThisDoc))));return!0}});u=(0,
l.realSetTimeout)((function(){m.abort();p&&!p.closed&&p.close();s.default.show(d.createElement(s.default,{clickToDismiss:!0},d.createElement(g,n.__assign({},v.couldntOpenThisDoc))))}),w)}
;t.createTemplateAndRedirect=function(e,t){var a,n={};if(p.SamplePadTypes.MeetingNotesTemplate==e.key){a="/pad/meeting-note";n={tzOffset:-(new Date).getTimezoneOffset()}}
e.key!=p.SamplePadTypes.WordDocTemplate&&C(e,t,a,n)};t.getSampleSet=function(e){return e.map((function(e){return function(e){return t.ALL_SAMPLES.filter((function(t){return t.key==e}))[0]}(e)}))}},
1893:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(374),o=a(4),s=a(8),i=a(2),l=a(383),c=a(7),d=a(11),u=a(372),p=a(274),m=a(14),h=a(377),f=a(315),g=a(45),v=a(23),y=a(0),b=a(150),E=(0,
m.MsgFactory)("favorites"),k=E.defineMessages,_=E.F,S=E.IntlMessageFormat,w=k({pageTitleFallback:{msg:"Favorites"},pageTitle:{msg:"Starred"},createnewdoc:{msg:"Create new doc"},recent:{msg:"Recent"},
all:{msg:"All"}}),C=((0,i.defineMessages)({pageTitleFallback:{id:"B7PkR9",defaultMessage:"Favorites"},pageTitle:{id:"5hVhqA",defaultMessage:"Starred"},createnewdoc:{id:"aUYGpi",
defaultMessage:"Create new doc"},recent:{id:"du7HYM",defaultMessage:"Recent"},all:{id:"anIIVl",defaultMessage:"All"}}),function(e){n.__extends(t,e);function t(t,a){var n=e.call(this,t,a)||this
;n.handleListChange=function(){n.setState({data:n.store.get()})};n.handleToggle=function(e,t){n.setState({multiselectState:n.state.multiselectState.handleClick(e,t,(function(){n.setState({
multiselectState:n.state.multiselectState.clone()})}))})};n.handleMultiselectActionComplete=function(){n.setState({multiselectState:new f.MultiselectState});n.store.load()}
;n.handleSelectionChange=function(e){n.setState({multiselectState:e},(function(){n.state.multiselectState.checkPermissionsForAllCheckedItems((function(){n.setState({
multiselectState:n.state.multiselectState.clone()})}))}))};n.handleCreatePadClick=function(e){n.props.app.handleCreatePadClick(e);o.IntentionEvent.CreatePad.track({context:o.AppContext.FavoritesPage})
};n.store=new u.default({padListStore:n.context.stores.padList,folderListStore:n.context.stores.folderList,filter:n.props.params.filter,includeFolders:!0});n.state={data:n.store.get(),
multiselectState:new f.MultiselectState};return n}t.prototype.isLoaded=function(){return!0};t.prototype.enter=function(){this.props.app.getLeftNavSidebar().autoOpen()}
;t.prototype.componentDidMount=function(){this.props.app.setPageTitle(new S(w.pageTitle,s.default.userLocale).format());this.store.on("change",this.handleListChange)}
;t.prototype.componentWillUnmount=function(){this.store.off("change",this.handleListChange);this.store.dispose()};t.prototype.renderMultiselectButtons=function(){
return y.createElement(h.MultiselectButtons,{multiselectState:this.state.multiselectState,onComplete:this.handleMultiselectActionComplete,stores:this.context.stores,
onSelectionChanged:this.handleSelectionChange,enableStandardActions:!0,enableRestoreAndPermaDelete:!1})};t.prototype.renderActionsMenu=function(){return y.createElement(r.default,{
primary:y.createElement(r.PrimaryAction,{onClick:this.handleCreatePadClick},y.createElement(_,n.__assign({},w.createnewdoc)))})};t.prototype.render=function(){
var e=y.createElement(_,n.__assign({},w.pageTitle));return y.createElement(o.TrackContext,{trackContext:o.AppContext.FavoritesPage},y.createElement(g.default,{
className:"hp-non-pad-page hp-pad-list-page",name:this.props.name,isSelected:this.props.isSelected},y.createElement(p.default,{title:e,app:this.props.app
},this.renderActionsMenu(),this.renderMultiselectButtons(),y.createElement("div",{className:"hp-sidebar-filter-tabs hp-tabs"},y.createElement(b.default,{value:c.ListViewFilter.recentFavorites,
selected:this.props.params.filter,href:"/favorites",linkHandler:this.props.app.onUiTabClicked,isDefault:!0},y.createElement(_,n.__assign({},w.recent))),y.createElement(b.default,{
value:c.ListViewFilter.alphabeticalFavorites,selected:this.props.params.filter,href:"/favorites/all",linkHandler:this.props.app.onUiTabClicked
},y.createElement(_,n.__assign({},w.all))))),y.createElement(o.TrackContext,{trackContext:o.AppContext.FavoritesPage},y.createElement("div",{className:"hp-page-inner"},y.createElement(l.default,{
data:this.state.data,multiselectState:this.state.multiselectState,app:this.props.app,stores:this.context.stores,trackListView:"favorites-page",sortOrder:c.ListViewFilter.recents,
onToggle:this.handleToggle})))))};t.displayName="FavoritesPage";t.contextTypes={stores:v.object.isRequired};return t=n.__decorate([d.default],t)}(y.PureComponent));t.default=C},1909:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(374),o=a(90),s=a(8),i=a(2),l=a(7),c=a(11),d=a(12),u=a(76),p=a(463),m=a(164),h=a(906),f=a(10),g=a(73),v=a(274),y=a(907),b=a(377),E=a(315),k=a(45),_=a(879),S=a(23),w=a(0),C=a(380),P=a(314),I=a(150),T=a(369),N=a(4),M=a(17),A=(0,
a(5).PaperIntlFactory)(),x=A._f,O=A.F,D=(0,i.defineMessages)({pageTitle:{id:"Ga3Ee+",defaultMessage:"Folders"},error:{id:"fy9qFc",defaultMessage:"Error"},unabletocreateasamplefolder:{id:"5j4TMa",
defaultMessage:"Unable to create a sample folder."},createwithtemplates:{id:"QoZ4+r",defaultMessage:"Create with templates"},newinviteonlyfolder:{id:"adgLoN",defaultMessage:"New invite-only folder"},
createnewfolder:{id:"eXL9sz",defaultMessage:"Create new folder"},createnewdoc:{id:"aUYGpi",defaultMessage:"Create new doc"},yourarchiveisempty:{id:"RXsNyk",defaultMessage:"Your archive is empty"},
welcometoFolders:{id:"cRqb1l",defaultMessage:"Welcome to Folders!"},foldersletyoukeepyourteamsdocsorganizedinoneplace:{id:"0Ymqtl",
defaultMessage:"Folders let you keep your team’s docs organized in one place."},allyourfolderswillbelistedhere:{id:"tIMYwa",defaultMessage:"All your folders will be listed here. "},samplefolder:{
id:"63xYTi",defaultMessage:"Sample folder"},createafolder:{id:"dYLLdU",defaultMessage:"Create a folder"},allfolders:{id:"Wju74d",defaultMessage:"All folders"},recentfolders:{id:"6Hd+PC",
defaultMessage:"Recent folders"},createdbyme:{id:"fTvRaJ",defaultMessage:"Created by me"},sharedwithme:{id:"9AyoTw",defaultMessage:"Shared with me"},archived:{id:"7dyBPz",defaultMessage:"Archived"}
}),L=function(e){n.__extends(t,e);function t(t,a){var r=e.call(this,t,a)||this;r.handleFolderListDataSourceChange=function(){r.setState({data:r.store.get()})};r.createSampleFolder_=function(){d.post({
url:"/folder/create-sample",analyticsTag:"create-sample-folder",shardingKey:d.getStatelessShardingKey(),successHandler:function(e){(0,N.trackEng)("create sample folder success")
;r.context.stores.folderList.refresh();App.navigateToUrl(u.prettyFolderUrl(e.data.folder))},errorHandler:function(){(0,N.trackEng)("create sample folder failed")
;o.alert(w.createElement(O,n.__assign({},D.error)),w.createElement(O,n.__assign({},D.unabletocreateasamplefolder)));return!0}})};r.handleCreateFolderClicked=function(e){return(0,
P.showCreateFolderDialog)(r.context.stores,e)};r.handleCreatePrivateFolderClicked=function(e){return(0,P.showCreateFolderDialog)(r.context.stores,e,l.FolderGuestPolicy.private)}
;r.handleToggle=function(e,t){r.setState({multiselectState:r.state.multiselectState.handleClick(e,t,(function(){r.setState({multiselectState:r.state.multiselectState.clone()})}))})}
;r.handleMultiselectActionComplete=function(){r.setState({multiselectState:new E.MultiselectState});r.store.load()};r.handleSelectionChange=function(e){r.setState({multiselectState:e},(function(){
r.state.multiselectState.checkPermissionsForAllCheckedItems((function(){r.setState({multiselectState:r.state.multiselectState.clone()})}))}))};r.store=new p.default({store:r.context.stores.folderList,
filter:r.props.params.filter,includeFolders:!0,folderRecencyShouldIncludePadsInFolder:!0});r.state={data:r.store.get(),multiselectState:new E.MultiselectState};return r}
t.prototype.isLoaded=function(){return this.state.data.isLoaded};t.prototype.componentDidMount=function(){m.folderShareSuggestionsDataSource.loadSuggestions()
;this.props.app.setPageTitle(x(D.pageTitle));this.store.on("change",this.handleFolderListDataSourceChange);this.context.stores.folderList.refreshIfNecessary()}
;t.prototype.componentWillUnmount=function(){this.store.off("change",this.handleFolderListDataSourceChange)};t.prototype.enter=function(){this.props.app.getLeftNavSidebar().autoOpen()
;M.default.consumeQueryParam("openCreateFolder")&&(0,P.showCreateFolderDialog)(this.context.stores)};t.prototype.renderMultiselectButtons=function(){return w.createElement(b.MultiselectButtons,{
multiselectState:this.state.multiselectState,onComplete:this.handleMultiselectActionComplete,stores:this.context.stores,onSelectionChanged:this.handleSelectionChange,
enableStandardActions:this.props.params.filter!=l.ListViewFilter.archived,showRestoreOnly:this.props.params.filter==l.ListViewFilter.archived,
enableRestoreAndPermaDelete:this.props.params.filter==l.ListViewFilter.archived})};t.prototype.renderActionsMenu=function(){var e,t=w.createElement(r.TertiaryAction,{icon:"action-template"
},w.createElement(O,n.__assign({},D.createwithtemplates))),a=w.createElement(N.TrackContext,{trackContext:N.AppContext.FolderList.TemplateMenu},w.createElement(T.TemplateMenuButton,{buttonComponent:t,
padPreviewStore:this.context.stores.padPreview,templateListStore:this.context.stores.templateList,app:this.props.app}));s.default.isPersonalDomainUser||(e=w.createElement(r.TertiaryAction,{
icon:"action-create-folder",onClick:this.handleCreatePrivateFolderClicked},w.createElement(O,n.__assign({},D.newinviteonlyfolder))));return w.createElement(r.default,{
primary:w.createElement(r.PrimaryAction,{onClick:this.handleCreateFolderClicked},w.createElement(O,n.__assign({},D.createnewfolder)))},e,w.createElement(r.TertiaryAction,{icon:"action-create-doc",
onClick:this.props.app.handleCreatePadClick},w.createElement(O,n.__assign({},D.createnewdoc))),a)};t.prototype.render=function(){
var e,t=this.context.stores.folderList.getList().length>0,a=w.createElement(h.default,{app:this.props.app,stores:this.context.stores,includeFolders:!0,scrollSelector:"#hp-page-folder-list"
}),r=w.createElement(C.default,{scrollSelector:"#hp-page-folder-list",offsetHeightSelector:".hp-list-page-header"},this.renderTabs())
;if(this.state.data.isLoaded)if(t||this.props.params.filter!=l.ListViewFilter.archived){if(!t)return w.createElement(N.TrackContext,{trackContext:N.AppContext.FolderList.Page
},w.createElement(k.default,{className:"hp-non-pad-page hp-folder-list-page",name:this.props.name,isSelected:this.props.isSelected},w.createElement("div",{className:"hp-page-inner hp-page-empty-state"
},w.createElement(g.InvertibleImage,{className:"hp-empty-state-hero",src:"/static/img/composer/rebrand/empty-states/empty-folders-tab.png"
}),w.createElement("h1",null,w.createElement(O,n.__assign({},D.welcometoFolders))),w.createElement("p",null,w.createElement(O,n.__assign({},D.foldersletyoukeepyourteamsdocsorganizedinoneplace)),w.createElement("br",null),w.createElement(O,n.__assign({},D.allyourfolderswillbelistedhere))),w.createElement("div",{
className:"hp-page-empty-state-actions dmc-button-pair-full"},w.createElement(f.default,{secondary:!0,onClick:this.createSampleFolder_,"data-track":N.IntentionEvent.CreateSampleFolder,
"data-track-context":N.AppContext.FolderList.EmptyState},w.createElement(O,n.__assign({},D.samplefolder))),w.createElement(f.default,{primary:!0,onClick:this.handleCreateFolderClicked,
"data-track-context":N.AppContext.FolderList.EmptyState},w.createElement(O,n.__assign({},D.createnewfolder)))))));e=w.createElement("div",{className:"hp-page-inner"},a,w.createElement("div",{
className:"hp-scroll-locking-section"},r,w.createElement(_.default,{data:this.state.data,multiselectState:this.state.multiselectState,app:this.props.app,stores:this.context.stores,
trackListView:"folder-list-page-".concat(l.ListViewFilter[this.props.params.filter]),showPath:this.props.params.filter!=l.ListViewFilter.alphabetical,onToggle:this.handleToggle})))
}else e=w.createElement("div",{className:"hp-page-inner hp-page-empty-state"},w.createElement("div",{className:"hp-scroll-locking-section"},r,w.createElement(g.InvertibleImage,{
className:"hp-empty-state-hero",src:"/static/img/composer/rebrand/empty-states/empty-folder.png"
}),w.createElement("p",null,w.createElement("strong",null,w.createElement(O,n.__assign({},D.yourarchiveisempty))))));else e=w.createElement("div",{className:"hp-page-inner"},a,w.createElement("div",{
className:"hp-scroll-locking-section"},r,w.createElement(y.default,null)));return w.createElement(N.TrackContext,{trackContext:N.AppContext.FolderList.Page},w.createElement(k.default,{
className:"hp-non-pad-page hp-folder-list-page selenium-folder-list-page",name:this.props.name,isSelected:this.props.isSelected},w.createElement(v.default,{
title:w.createElement(O,n.__assign({},D.pageTitle)),app:this.props.app,hasTabs:!0},this.renderActionsMenu(),this.renderMultiselectButtons()),w.createElement(N.TrackContext,{
trackContext:N.AppContext.FolderList[this.props.params.filter]},e)))};t.prototype.renderTabs=function(){return w.createElement("div",{className:"hp-tabs"},w.createElement(I.default,{
value:l.ListViewFilter.alphabetical,selected:this.props.params.filter,href:"/folders",linkHandler:this.props.app.onUiTabClicked,isDefault:!0
},w.createElement(O,n.__assign({},D.allfolders))),w.createElement(I.default,{value:l.ListViewFilter.recents,selected:this.props.params.filter,href:"/folders/recents",
linkHandler:this.props.app.onUiTabClicked},w.createElement(O,n.__assign({},D.recentfolders))),w.createElement(I.default,{value:l.ListViewFilter.createdByMe,selected:this.props.params.filter,
href:"/folders/created-by-me",linkHandler:this.props.app.onUiTabClicked},w.createElement(O,n.__assign({},D.createdbyme))),w.createElement(I.default,{value:l.ListViewFilter.sharedWithMe,
selected:this.props.params.filter,href:"/folders/shared-with-me",linkHandler:this.props.app.onUiTabClicked},w.createElement(O,n.__assign({},D.sharedwithme))),w.createElement(I.default,{
value:l.ListViewFilter.archived,selected:this.props.params.filter,href:"/folders/archived",linkHandler:this.props.app.onUiTabClicked},w.createElement(O,n.__assign({},D.archived))))}
;t.displayName="FolderListPage";t.contextTypes={stores:S.object.isRequired};return t=n.__decorate([c.default],t)}(w.Component);t.default=L},1910:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});var n=a(1),r=a(26),o=a(25),s=a(8),i=a(2),l=a(12),c=a(10),d=a(73),u=a(7),p=a(274),m=a(14),h=a(45),f=a(0),g=a(48),v=a(123),y=(0,
m.MsgFactory)("importer"),b=y.defineMessages,E=y.IntlMessageFormat,k=y.F,_=b({hackpadImport:{msg:"Hackpad import",description:"Text that is set as page title."},redirectsAreBeingEnabled:{
msg:"Redirects are being enabled. You will receive an email when completed.",description:"'Redirects' refer here to HTTP 302 redirect."},failedToEnabledRedirects:{msg:"Failed to enable redirects.",
description:"Redirects (HTTP 302) could not be enabled for the given hackpad docs."},loading:{msg:"Loading"},queuedOrRunningImport:{
msg:"Okay! We'll start copying over your docs soon. We'll email when we're done",description:"Interim message being displayed to the user when import is in queue."},canceledImport:{
msg:"Your import was canceled.",description:"Notification label that import from hackpad.com was canceled."},startAnotherImport:{msg:"Start Another Import",
description:"Button label to start another import from of documents from hackpad.com."},failedImport:{msg:"Your import failed. The team's been notified, and we'll be in touch.",
description:"Message displayed when the import fails."},sorryyourteamisntconfiguredtousethisjustyetEmailsupportEmailAddressandwellgetyousetup:{
msg:"Sorry, your team isn't configured to use this just yet.\n                   Email {supportEmailAddress} and we'll get you set up."},importinprogressprogressnumberpercentComplete:{
msg:"Import in progress! {progress, number, percent} Complete'",description:"Import of hackpad documents into Paper is in progress."},weveimportedyourHackpadworkspaceWelcometoPaper:{
msg:"We've imported your Hackpad workspace. Welcome to Paper!"},clickbelowtomakeyourHackpadworkspaceredirecttoyournewPaperworkspacesothatnooneaccidentallylooksatanolddocument:{
msg:"Click below to make your Hackpad workspace redirect to your new Paper\n                             workspace so that no one accidentally looks at an old document."},enableredirects:{
msg:"Enable redirects",description:"Button label to enable HTTP 302 redirects from the old hackpad\n                                     documents to the new Paper documents."},
importpadsfromworkspace:{msg:"Import pads from {workspace}.",
description:"'pads' in this context are documents from www.hackpad.com.\n                            Workspace is the user's domain on hackpad.com."},wellemailuserEmailwhenweredone:{
msg:"We'll email {userEmail} when we're done."},start:{msg:"Start"}}),S=((0,i.defineMessages)({hackpadImport:{id:"GhPv3o",defaultMessage:"Hackpad import"},redirectsAreBeingEnabled:{id:"f3ot7r",
defaultMessage:"Redirects are being enabled. You will receive an email when completed."},failedToEnabledRedirects:{id:"s+otDw",defaultMessage:"Failed to enable redirects."},loading:{id:"jybGUg",
defaultMessage:"Loading"},queuedOrRunningImport:{id:"aPpXK+",defaultMessage:"Okay! We'll start copying over your docs soon. We'll email when we're done"},canceledImport:{id:"4JSjxX",
defaultMessage:"Your import was canceled."},startAnotherImport:{id:"QyuJem",defaultMessage:"Start Another Import"},failedImport:{id:"8y8jfk",
defaultMessage:"Your import failed. The team's been notified, and we'll be in touch."},sorryyourteamisntconfiguredtousethisjustyetEmailsupportEmailAddressandwellgetyousetup:{id:"l5QaWd",
defaultMessage:"Sorry, your team isn't configured to use this just yet.\n                   Email {supportEmailAddress} and we'll get you set up."},importinprogressprogressnumberpercentComplete:{
id:"T0Dylq",defaultMessage:"Import in progress! {progress, number, percent} Complete'"},weveimportedyourHackpadworkspaceWelcometoPaper:{id:"U80Uq3",
defaultMessage:"We've imported your Hackpad workspace. Welcome to Paper!"},clickbelowtomakeyourHackpadworkspaceredirecttoyournewPaperworkspacesothatnooneaccidentallylooksatanolddocument:{id:"Zt9X1o",
defaultMessage:"Click below to make your Hackpad workspace redirect to your new Paper\n                             workspace so that no one accidentally looks at an old document."},enableredirects:{
id:"u+c7co",defaultMessage:"Enable redirects"},importpadsfromworkspace:{id:"9xnCjk",defaultMessage:"Import pads from {workspace}."},wellemailuserEmailwhenweredone:{id:"GgVyy8",
defaultMessage:"We'll email {userEmail} when we're done."},start:{id:"lS83VB",defaultMessage:"Start"}}),function(e){return f.createElement("form",{
action:"/import-hackpad/import-workspace?encryptedTeamId="+s.default.encryptedTeamId,method:"POST",className:"hp-import-sticker"},f.createElement(v.default,null),e.children)})
;S.displayName="StartImportForm";var w=(0,o.createReactClass)({displayName:"ImporterPage",getInitialState:function(){return{isLoading:!0,currentImport:null}},componentDidMount:function(){this.fetch_()
;var e=new E(_.hackpadImport,s.default.userLocale).format();this.props.app.setPageTitle(e)},enter:function(){this.props.app.getLeftNavSidebar().autoOpen()},fetch_:function(){var e=this;l.get({
url:"/import-hackpad/status",analyticsTag:"get-hackpad-import-status",shardingKey:l.getStatelessShardingKey(),successHandler:function(t){t&&t.success&&e.setState({currentImport:t.data,isLoading:!1,
workspace:t.workspace})},complete:function(t){e.setState({isLoading:!1});setTimeout(e.fetch_,2e3)}})},enableRedirects_:function(){l.post({url:"/import-hackpad/enable-redirects",
analyticsTag:"enable-hackpad-import-redirects",shardingKey:l.getStatelessShardingKey(),successHandler:function(){g.default.show(f.createElement(g.default,{autoDismiss:!0
},f.createElement(k,n.__assign({},_.redirectsAreBeingEnabled))))},errorModalMessage:f.createElement(k,n.__assign({},_.failedToEnabledRedirects))})},render:function(){
if(this.state.isLoading)return this.render_(f.createElement(k,n.__assign({},_.loading)),null);if(!this.state.workspace)return this.render_(f.createElement(k,n.__assign({values:{
supportEmailAddress:r.default.supportEmailAddress}},_.sorryyourteamisntconfiguredtousethisjustyetEmailsupportEmailAddressandwellgetyousetup)));var e=this.state.currentImport;if(e){
if(e.state==u.ImportStatus.Running&&e.padsAvailable){var t=(e.padsDownloaded||0)/e.padsAvailable*.8+(e.padsImported||0)/e.padsAvailable*.2;return this.render_(f.createElement(k,n.__assign({values:{
progress:t}},_.importinprogressprogressnumberpercentComplete)),null,f.createElement(d.default,{skip2x:!0,src:"/static/img/ace/stickers/ToasterBots/original/09.png"}))}
if(e.state==u.ImportStatus.Queued||e.state==u.ImportStatus.Running)return this.render_(f.createElement(k,n.__assign({},_.queuedOrRunningImport)),null,f.createElement(d.default,{skip2x:!0,
src:"/static/img/ace/stickers/Beemer/original/07.png"}))
;if(e.state==u.ImportStatus.Cancelled)return this.render_(f.createElement(k,n.__assign({},_.canceledImport)),f.createElement(k,n.__assign({},_.startAnotherImport)),f.createElement(d.default,{
skip2x:!0,src:"/static/img/ace/stickers/Beemer/original/07.png"}))
;if(e.state==u.ImportStatus.Failed)return this.render_(f.createElement(k,n.__assign({},_.failedImport)),f.createElement(k,n.__assign({},_.startAnotherImport)),f.createElement(d.default,{skip2x:!0,
src:"/static/img/ace/stickers/CatBlobs/original/06.png"}));if(e.state==u.ImportStatus.Succeeded||e.state==u.ImportStatus.RedirectsSet){var a=f.createElement(k,n.__assign({},_.hackpadImport))
;return f.createElement(h.default,{className:"hp-non-pad-page",name:this.props.name,isSelected:this.props.isSelected},f.createElement(p.default,{title:a,app:this.props.app}),f.createElement("div",{
className:"hp-page-inner"},f.createElement("div",{className:"hp-import-container"},f.createElement("div",{className:"hp-import-content-and-button"},f.createElement("div",{className:"hp-import-content"
},f.createElement(k,n.__assign({},_.weveimportedyourHackpadworkspaceWelcometoPaper))),f.createElement(S,null,f.createElement(c.default,{type:"submit",primary:!0,size:"large"
},f.createElement(k,n.__assign({},_.startAnotherImport)))),f.createElement("div",{className:"hp-import-enable-redirects"
},f.createElement(k,n.__assign({},_.clickbelowtomakeyourHackpadworkspaceredirecttoyournewPaperworkspacesothatnooneaccidentallylooksatanolddocument))),f.createElement(c.default,{
onClick:this.enableRedirects_,primary:!0,size:"large"},f.createElement(k,n.__assign({},_.enableredirects)))))))}}return this.render_(f.createElement("span",null,f.createElement(k,n.__assign({values:{
workspace:this.state.workspace}},_.importpadsfromworkspace)),f.createElement("br",null),f.createElement("br",null),f.createElement(k,n.__assign({values:{userEmail:s.default.userEmail}
},_.wellemailuserEmailwhenweredone))),f.createElement(k,n.__assign({},_.start)),f.createElement(d.default,{skip2x:!0,src:"/static/img/ace/stickers/Beemer/original/07.png"}))},render_:function(e,t,a){
var r=t?f.createElement(c.default,{type:"submit",primary:!0,size:"large"},t):null,o=f.createElement(k,n.__assign({},_.hackpadImport));return f.createElement(h.default,{className:"hp-non-pad-page",
name:this.props.name,isSelected:this.props.isSelected},f.createElement(p.default,{title:o,app:this.props.app}),f.createElement("div",{className:"hp-page-inner"},f.createElement("div",{
className:"hp-import-container"},f.createElement("div",{className:"hp-import-content-and-button"},f.createElement("div",{className:"hp-import-content"
},e),f.createElement(S,null,r)),f.createElement("div",{className:"hp-import-sticker"},a))))}});t.default=w},1911:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(90),o=a(65),s=a(26),i=a(8),l=a(2),c=a(120),d=a(11),u=a(12),p=a(80),m=a(968),h=a(10),f=a(1912),g=a(7),v=a(43),y=a(274),b=a(29),E=a(14),k=a(45),_=a(0),S=a(52),w=a(13),C=a(4),P=(0,
E.MsgFactory)("importer"),I=P.defineMessages,T=P.IntlMessageFormat,N=P.F,M=I({hackpadEmailLogin:{msg:"Hackpad email login",description:"Placeholder text to tell user to fill in an email."},
hackpadImportPageTitle:{msg:"Hackpad Import Self-Serve",description:"Text that is set as page title."},theaccountthatyouareloggedindoesntmatchtheaccountthatrequestedtheverificationcode:{
msg:"The account that you are logged in doesn't match the account that requested the verification code."},theprovidedemaildoesnotseemtomatchahackpadaccount:{
msg:"The provided email does not seem to match a hackpad account."},personaldocs:{msg:"Personal docs"},yourimportiscomplete:{msg:"Your import is complete!",
description:"Label indicating that the import is completed."},wecouldntimportyourHackpadworkspace:{msg:"We couldn't import your Hackpad workspace",
description:"Label that indicated that the import of the workspace failed."},importingfromHackpadtoPaper:{msg:"Importing from Hackpad to Paper",
description:"Label that lists what workspace is currently being imported."},padscountpluralonepadotherpads:{msg:"{padsCount, plural, one {# pad} other {# pads}}"},progressnumberpercent:{
msg:"{progress, number, percent}",description:"Indicator of the hackpad import progress."},docscountpluralonedocotherdocs:{msg:"{docsCount, plural, one {# doc} other {# docs}}"},viewdocs:{
msg:"View docs"},workspacenamefailedtoimport:{msg:"{workspaceName} failed to import."},emailsupport:{msg:"Email support"},importanotherworkspace:{msg:"Import another workspace"},changeaccount:{
msg:"Change account"},viewandimportpads:{msg:"View and import pads."},signintoyourHackpadaccounttoviewpadsavailabletoimport:{msg:"Sign in to your Hackpad account to view pads available to import"},
viewpads:{msg:"View pads"},hackpadaccount:{msg:"Hackpad account"},failedtosendemailtoemail:{msg:"Failed to send email to ({email})"},emailSent:{msg:"Email Sent"},availabletojoin:{
msg:"Available to join",description:"Component that allows users to claim docs and folders"},jointogetaccesstoshareddocs:{msg:"Join to get access to shared docs."},availabletoimport:{
msg:"Available to import",description:"The list of hackpad workspaces available for import"},importtoconvertpadstoPaperdocs:{msg:"Import to convert pads to Paper docs."},noavailableimports:{
msg:"No available imports"},importedcontent:{msg:"Imported content",description:"The list of hackpad workspaces already imported"},loading:{msg:"Loading…"},importorJoinPadsfromHackpad:{
msg:"Import or Join Pads from Hackpad",description:"The title of the hackpad import page"},itsOK:{msg:"It's OK to close your browser window. We'll send you an email when the import is done."},
anEmail:{msg:"An email with a verification link has been sent to {email}. Please click the link to verify your account."}}),A=((0,l.defineMessages)({hackpadEmailLogin:{id:"9cRGmr",
defaultMessage:"Hackpad email login"},hackpadImportPageTitle:{id:"KhZ67C",defaultMessage:"Hackpad Import Self-Serve"},
theaccountthatyouareloggedindoesntmatchtheaccountthatrequestedtheverificationcode:{id:"aRki4b",
defaultMessage:"The account that you are logged in doesn't match the account that requested the verification code."},theprovidedemaildoesnotseemtomatchahackpadaccount:{id:"U8490h",
defaultMessage:"The provided email does not seem to match a hackpad account."},personaldocs:{id:"a9F/ge",defaultMessage:"Personal docs"},yourimportiscomplete:{id:"MKUEof",
defaultMessage:"Your import is complete!"},wecouldntimportyourHackpadworkspace:{id:"OrhcVi",defaultMessage:"We couldn't import your Hackpad workspace"},importingfromHackpadtoPaper:{id:"TS4q8y",
defaultMessage:"Importing from Hackpad to Paper"},padscountpluralonepadotherpads:{id:"ryC+a0",defaultMessage:"{padsCount, plural, one {# pad} other {# pads}}"},progressnumberpercent:{id:"2KkWZ/",
defaultMessage:"{progress, number, percent}"},docscountpluralonedocotherdocs:{id:"bv+Jdc",defaultMessage:"{docsCount, plural, one {# doc} other {# docs}}"},viewdocs:{id:"GavG9v",
defaultMessage:"View docs"},workspacenamefailedtoimport:{id:"G04Vf1",defaultMessage:"{workspaceName} failed to import."},emailsupport:{id:"5e+wUS",defaultMessage:"Email support"},
importanotherworkspace:{id:"ZMMztO",defaultMessage:"Import another workspace"},changeaccount:{id:"9z4xkb",defaultMessage:"Change account"},viewandimportpads:{id:"0Hwn/E",
defaultMessage:"View and import pads."},signintoyourHackpadaccounttoviewpadsavailabletoimport:{id:"F49HVF",defaultMessage:"Sign in to your Hackpad account to view pads available to import"},viewpads:{
id:"bOkfHC",defaultMessage:"View pads"},hackpadaccount:{id:"pSO0IN",defaultMessage:"Hackpad account"},failedtosendemailtoemail:{id:"7G+tSc",defaultMessage:"Failed to send email to ({email})"},
emailSent:{id:"mzmYWm",defaultMessage:"Email Sent"},availabletojoin:{id:"aAjbYX",defaultMessage:"Available to join"},jointogetaccesstoshareddocs:{id:"mkJnlI",
defaultMessage:"Join to get access to shared docs."},availabletoimport:{id:"NV/idG",defaultMessage:"Available to import"},importtoconvertpadstoPaperdocs:{id:"DWzJFk",
defaultMessage:"Import to convert pads to Paper docs."},noavailableimports:{id:"42Vlc0",defaultMessage:"No available imports"},importedcontent:{id:"poK7xi",defaultMessage:"Imported content"},loading:{
id:"M85BdF",defaultMessage:"Loading…"},importorJoinPadsfromHackpad:{id:"Clzafe",defaultMessage:"Import or Join Pads from Hackpad"},itsOK:{id:"JSTjKx",
defaultMessage:"It's OK to close your browser window. We'll send you an email when the import is done."},anEmail:{id:"UItiIC",
defaultMessage:"An email with a verification link has been sent to {email}. Please click the link to verify your account."}}),function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this
;a.fetchInterval=null;a.hideAccountCallout=function(){a.setState({showAccountCallout:!1})};a.handleAccountKeyUp=function(e){var t=a.refs.emailInput;a.setState({hasEmailValue:!!t.value})
;a.hideAccountCallout();e.keyCode==v.KeyCode.ENTER&&a.handleSubmitEmail()};a.state={isLoading:!0,currentlyImporting:null,importFolderUrl:"",availableWorkspaces:[],pastImports:[],hackpadEmail:null,
hasEmailValue:!1,pastImportsFolderUrls:{},claimableWorkspaces:[],canExternallyShare:!0,showAccountCallout:null};return a}t.prototype.componentDidMount=function(){var e=(0,
p.getQueryParamsFromString)(location.search);e.team_created?this.syncForTeam():"actorMissmatch"==e.verificationError?(0,r.errorModal)({
title:_.createElement(N,n.__assign({},M.theaccountthatyouareloggedindoesntmatchtheaccountthatrequestedtheverificationcode)),callback:this.fetch.bind(this)}):"noHackpadAccount"==e.verificationError?(0,
r.errorModal)({title:_.createElement(N,n.__assign({},M.theprovidedemaildoesnotseemtomatchahackpadaccount)),callback:this.fetch.bind(this)}):this.fetch()};t.prototype.componentDidUpdate=function(){
this.state.hackpadEmail||null!==this.state.showAccountCallout||this.setState({showAccountCallout:!0})};t.prototype.enter=function(){var e=new T(M.hackpadImportPageTitle,i.default.userLocale).format()
;this.props.app.setPageTitle(e);this.props.app.getLeftNavSidebar().autoOpen()};t.prototype.syncForTeam=function(){(0,b.locationAssign)("sync-team","/hackpad/sync-for-team")}
;t.prototype.fetch=function(){var e=this;u.get({url:"/hackpad/status",data:{getImport:!!this.state.currentlyImporting},analyticsTag:"get-hackpad-import-status",shardingKey:u.getStatelessShardingKey(),
successHandler:function(t){if(t&&t.success){var a=t.data.currentlyImporting||e.state.currentlyImporting;e.setState({currentlyImporting:a,importFolderUrl:t.data.importFolderUrl,
availableWorkspaces:t.data.availableWorkspaces||[],pastImports:t.data.pastImports,hackpadEmail:t.data.hackpadEmail,hasEmailValue:!1,pastImportsFolderUrls:t.data.pastImportsFolderUrls,
claimableWorkspaces:t.data.claimableWorkspaces,canExternallyShare:t.data.canExternallyShare,isLoading:!1})
;a&&a.state!=g.ImportStatus.Succeeded&&a.state!=g.ImportStatus.RedirectsSet&&a.state!=g.ImportStatus.Failed?e.fetchInterval||(e.fetchInterval=e.timers.setInterval(e.fetch.bind(e),1e3)):e.stopPollingStatus()
}},errorHandler:function(){e.stopPollingStatus();return!1},complete:function(t){e.setState({isLoading:!1})}})};t.prototype.stopPollingStatus=function(){if(this.fetchInterval){
clearInterval(this.fetchInterval);this.fetchInterval=null}};t.prototype.disconnectAccount=function(e){var t=this;e.preventDefault();u.post({url:"/hackpad/disconnect",data:{},
analyticsTag:"get-hackpad-import-status",shardingKey:u.getStatelessShardingKey(),hpAppLevel:!0,successHandler:function(e){t.fetch()},errorHandler:function(){return!1}});return!1}
;t.prototype.renderCurrentImport=function(){var e,t,a=function(e){return e==g.ImportStatus.Succeeded||e==g.ImportStatus.RedirectsSet
},r=this.state.currentlyImporting,o=r.subDomain==m.HACKPAD_PERSONAL_DOCS_DOMAIN?_.createElement(N,n.__assign({},M.personaldocs)):r.subDomain,i=(r.padsDownloaded||0)/r.padsAvailable*.8+(r.padsImported||0)/r.padsAvailable*.2
;i||(i=0);a(r.state)&&(i=1);e=a(r.state)?_.createElement("img",{src:(0,S.default)("/static/img/ace/live-stickers/wizards/hilarious.gif"),srcSet:(0,
S.default)("/static/img/ace/live-stickers/wizards/hilarious@2x.gif")+" 2x"}):r.state==g.ImportStatus.Failed?_.createElement("img",{src:(0,
S.default)("/static/img/ace/live-stickers/wizards/face-palm.gif"),srcSet:(0,S.default)("/static/img/ace/live-stickers/wizards/face-palm@2x.gif")+" 2x"}):_.createElement("img",{src:(0,
S.default)("/static/img/ace/live-stickers/wizards/appreciation.gif"),srcSet:(0,S.default)("/static/img/ace/live-stickers/wizards/appreciation@2x.gif")+" 2x"})
;t=a(r.state)?_.createElement(N,n.__assign({},M.yourimportiscomplete)):r.state==g.ImportStatus.Failed?_.createElement(N,n.__assign({},M.wecouldntimportyourHackpadworkspace)):_.createElement(N,n.__assign({},M.importingfromHackpadtoPaper))
;var l=[_.createElement("span",null,e,_.createElement("br",null),_.createElement("div",{className:"hackpad-import-progress-title"},t))];r.state!=g.ImportStatus.Failed&&l.push(_.createElement("div",{
className:"hackpad-import-progress-box"},_.createElement("div",{className:"hackpad-import-progress-from"},_.createElement("img",{src:(0,S.default)("/static/img/composer/hackpad-logo.png"),style:{
width:"32px",float:"left"}}),_.createElement("span",{className:"notranslate"},o),_.createElement("br",null),_.createElement("span",{className:"hackpad-import-progress-count"
},_.createElement(N,n.__assign({values:{padsCount:r.padsAvailable}},M.padscountpluralonepadotherpads)))),_.createElement("span",{className:"hackpad-import-progress-percentage"
},_.createElement(N,n.__assign({values:{progress:i}},M.progressnumberpercent))),_.createElement("div",{className:"hackpad-import-arrow"}),_.createElement("div",{className:"hackpad-import-progress-to"
},_.createElement(w.default,{name:"company-folder"}),_.createElement("span",{className:"notranslate"},o),_.createElement("br",null),_.createElement("span",{className:"hackpad-import-progress-count"
},_.createElement(N,n.__assign({values:{docsCount:r.padsAvailable}},M.docscountpluralonedocotherdocs)))),_.createElement("div",{className:"clear"})))
;a(r.state)&&r.state!=g.ImportStatus.Failed&&l.push(_.createElement("span",{className:"hackpad-import-progress-text"},_.createElement(N,n.__assign({},M.itsOK))));if(a(r.state)){
l.push(_.createElement("br",null));l.push(_.createElement("br",null));l.push(_.createElement(h.default,{href:this.state.importFolderUrl,primary:!0},_.createElement(N,n.__assign({},M.viewdocs))))
}else if(r.state==g.ImportStatus.Failed){l.push(_.createElement("br",null));l.push(_.createElement("span",{className:"hackpad-import-progress-text"},_.createElement(N,n.__assign({values:{
workspaceName:o}},M.workspacenamefailedtoimport))));l.push(_.createElement("br",null));l.push(_.createElement("br",null));l.push(_.createElement(h.default,{
href:"mailto:".concat(s.default.supportEmailAddress),primary:!0},_.createElement(N,n.__assign({},M.emailsupport))))}if(a(r.state)||r.state==g.ImportStatus.Failed){l.push(_.createElement("br",null))
;l.push(_.createElement("br",null));l.push(_.createElement("a",{href:"/hackpad"},_.createElement(N,n.__assign({},M.importanotherworkspace))))}return _.createElement("div",{
className:"hackpad-import-progress"},l)};t.prototype.renderAccountSelector=function(){var e,t=this;if(this.state.hackpadEmail)e=_.createElement("div",null,_.createElement("span",{
className:"notranslate hp-importer-account-email"},this.state.hackpadEmail),_.createElement("span",{className:"notranslate"}," "),_.createElement(h.default,{href:"#",
onClick:this.disconnectAccount.bind(this)},_.createElement(N,n.__assign({},M.changeaccount))),_.createElement("span",{className:"notranslate"}));else{var a=void 0
;this.state.showAccountCallout&&(a=_.createElement(o.default,{onboarding:!0,closeButton:!0,overlay:!1,onClose:this.hideAccountCallout,dontCloseOnKeypress:!0,className:"hackpad-account-prompt-callout",
target:this.selectAccount,attachment:"top center",targetAttachment:"bottom center"
},_.createElement("strong",null,_.createElement(N,n.__assign({},M.viewandimportpads))),_.createElement("br",null),_.createElement(N,n.__assign({},M.signintoyourHackpadaccounttoviewpadsavailabletoimport))))
;e=_.createElement("span",{ref:function(e){return t.selectAccount=e}},_.createElement("input",{type:"text",ref:"emailInput",onKeyUp:this.handleAccountKeyUp,
placeholder:new T(M.hackpadEmailLogin,i.default.userLocale).format()}),_.createElement(h.default,{primary:!0,disabled:!this.state.hasEmailValue,onClick:this.handleSubmitEmail.bind(this)
},_.createElement(N,n.__assign({},M.viewpads))),a)}return _.createElement("div",null,_.createElement("h2",null,_.createElement(N,n.__assign({},M.hackpadaccount))),_.createElement("div",{
className:"hp-import-account-selector"},e))};t.prototype.handleSubmitEmail=function(){var e=this,t=this.refs.emailInput,a=t.value,o=_.createElement(N,n.__assign({values:{
email:_.createElement("b",null,a)}},M.failedtosendemailtoemail));u.post({url:"/hackpad/verify-email",data:{email:a},analyticsTag:"post-verify-email",shardingKey:u.getStatelessShardingKey(),
successHandler:function(t){if(t&&t.success)if(t.tokenAvailable)e.fetch();else{var s=_.createElement(N,n.__assign({},M.emailSent)),i=_.createElement(N,n.__assign({},M.anEmail,{values:{
email:_.createElement("b",null,a)}}));(0,r.alert)(s,i)}else(0,r.errorModal)({title:o})},errorHandler:function(){(0,r.errorModal)({title:o});return!1}});t.value=""};t.prototype.renderList=function(){
var e=this,t=[],a=[],r=[];this.state.availableWorkspaces.forEach((function(a){t.push(_.createElement(f.ImporterSelfServeDomainAvailable,{key:a.id,domain:a.subDomain,domainId:a.id,
padsCount:a.padsCount,canExternallyShare:e.state.canExternallyShare,accountsCount:a.accountsCount}))}));this.state.pastImports.forEach((function(t){a.push(_.createElement(f.ImporterSelfServeDomain,{
key:t.id,domain:t.subDomain,domainId:t.sourceDomainId,lastImport:t,url:e.state.pastImportsFolderUrls[t.id]}))}));this.state.claimableWorkspaces.forEach((function(e){
r.push(_.createElement(f.ImporterSelfServeDomainClaimable,{key:e.hackpadImport.id,numClaimablePads:e.numClaimablePads,domain:e.subDomain,hackpadImport:e.hackpadImport,
claimableAccountId:e.claimableAccountId}))}))
;var o=_.createElement("span",null,_.createElement("span",null,r.length?_.createElement("span",null,_.createElement("h2",null,_.createElement(N,n.__assign({},M.availabletojoin)),_.createElement(c.default,{
className:"hackpad-info-tooltip",tooltip:_.createElement(N,n.__assign({},M.jointogetaccesstoshareddocs))},_.createElement(w.default,{name:"info"
}))),r):null,_.createElement("h2",null,_.createElement(N,n.__assign({},M.availabletoimport)),_.createElement(c.default,{className:"hackpad-info-tooltip",
tooltip:_.createElement(N,n.__assign({},M.importtoconvertpadstoPaperdocs))},_.createElement(w.default,{name:"info"}))),t.length?null:_.createElement("div",{className:"hackpad-import-disconnected"
},_.createElement(N,n.__assign({},M.noavailableimports))),t)),s=a.length?_.createElement("span",null,_.createElement("h2",null,_.createElement(N,n.__assign({},M.importedcontent))),a):null
;return _.createElement("div",null,_.createElement("div",{className:"hp-import-account"},this.renderAccountSelector()),o,s)};t.prototype.render=function(){var e
;e=this.state.isLoading?_.createElement("span",null,_.createElement(N,n.__assign({},M.loading))):this.state.currentlyImporting?this.renderCurrentImport():this.renderList()
;return _.createElement(k.default,{className:"hp-non-pad-page",name:this.props.name,isSelected:this.props.isSelected},_.createElement(y.default,{
title:_.createElement(N,n.__assign({},M.importorJoinPadsfromHackpad)),app:this.props.app}),_.createElement(C.TrackContext,{trackContext:C.AppContext.HackpadImport},_.createElement("div",{
className:"hp-page-inner"},_.createElement("div",{className:"hp-import-self-serve-container"},e))))};t.displayName="ImporterSelfServePage";t.defaultProps={isSelected:!1,name:""}
;return t=n.__decorate([d.default],t)}(_.PureComponent));t.default=A},1912:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.ImporterSelfServeDomain=t.ImporterSelfServeDomainClaimable=t.ImporterSelfServeDomainAvailable=void 0
;var n=a(1),r=a(90),o=a(8),s=a(2),i=a(12),l=a(968),c=a(10),d=a(7),u=a(14),p=a(0),m=a(52),h=a(13),f=a(123),g=(0,u.MsgFactory)("importer"),v=g.F,y=(0,g.defineMessages)({recommendedupdateforteams:{
msg:"Recommended update for teams"},youhaveapersonalDropboxaccountemailWerecommendcreatingafreeTeamDropboxinorderto:{
msg:"You have a personal Dropbox account ({email}). We recommend creating a free Team Dropbox in order to:"},createteamfoldersandeasilysharewithteammembers:{
msg:"Create team folders and easily share with team members"},keepyourpersonalDropboxseparatefromyourworkaccount:{msg:"Keep your personal Dropbox separate from your work account"},
ifyouskipthissteppadswillbeimportedintoasharedfolderinyourpersonalDropbox:{msg:"If you skip this step, pads will be imported into a shared folder in your personal Dropbox."},updatetofreeteam:{
msg:"Update to free team"},skip:{msg:"Skip"},sharingdisabled:{msg:"Sharing disabled"},hackpadimportsofsharedpadsarecurrentlynotsupportedforteamswithexternalsharingdisabled:{
msg:"Hackpad imports of shared pads are currently not supported for teams with external sharing disabled."},pleaseruntheimportusingyourPersonalDropboxaccountorenablesharingoutsidetheteam:{
msg:"Please run the import using your Personal Dropbox account or enable sharing outside the team."},yourDropboxadminhasdisabledsharingoutsideofyourDropboxBusinessteam:{
msg:"Your Dropbox admin has disabled sharing outside of your Dropbox Business team."},importfromHackpad:{msg:"Import from Hackpad?"},
padscountpluralonepersonalpadotherpersonalpadswillbeimportedintoyourDropboxaccount:{msg:"{padsCount, plural, one {# personal pad} other {# personal pads}} will be imported into your Dropbox account. "
},peoplewithaccesstoadoccanseeeachothersemailaddresses:{msg:"People with access to a doc can see each other's email addresses."},import:{msg:"Import"},personalpads:{msg:"Personal pads",
description:"Label used to import personal documents for persona accounts."},padscountpluralonepadotherpads:{msg:"{padsCount, plural, one {# pad} other {# pads}}"},
accountscountpluralonememberothermembers:{msg:"{accountsCount, plural, one {# member} other {# members}}"},joinpersonaldocs:{msg:"Join personal docs?"},joindocs:{msg:"Join docs?"},
joininggivesyouaccesstodocssharedwithyouYouremailemailwillbevisibletootherswithaccess:{
msg:"Joining gives you access to docs shared with you. Your email ({email}) will be visible to others with access."},join:{msg:"Join"},numclaimablepadspluralonepadotherpads:{
msg:"{numClaimablePads, plural, one {1 pad} other {# pads}}"},viewdocs:{msg:"View docs"},numberofimportedpadsoutofnumberOfPadspluralonepadotherpadsimported:{
msg:"{numberOfImportedPads} out of {numberOfPads, plural, one {1 pad} other {# pads}} imported"},importfailed:{msg:"Import failed"},runImport:{
msg:"Please run the import using your Personal Dropbox account or talk to your admin about enabling sharing outside the team."},willBeImported:{
msg:"{padsCount, plural, one {# pad} other {# pads}} will be imported from workspace {workspaceName} and become Paper docs. Team members can then join docs they want to access. "},joining:{
msg:"Joining personal docs gives you access to shared pads in your personal Hackpad account. Shared pads will automatically show up in your Paper doc list as each owner imports. Your email ({email}) will be visible to others with access."
}}),b=((0,s.defineMessages)({recommendedupdateforteams:{id:"A8fIhw",defaultMessage:"Recommended update for teams"},youhaveapersonalDropboxaccountemailWerecommendcreatingafreeTeamDropboxinorderto:{
id:"CNNdaN",defaultMessage:"You have a personal Dropbox account ({email}). We recommend creating a free Team Dropbox in order to:"},createteamfoldersandeasilysharewithteammembers:{id:"Im0Rtp",
defaultMessage:"Create team folders and easily share with team members"},keepyourpersonalDropboxseparatefromyourworkaccount:{id:"zofXT6",
defaultMessage:"Keep your personal Dropbox separate from your work account"},ifyouskipthissteppadswillbeimportedintoasharedfolderinyourpersonalDropbox:{id:"W9bZ+p",
defaultMessage:"If you skip this step, pads will be imported into a shared folder in your personal Dropbox."},updatetofreeteam:{id:"rJ3ZMQ",defaultMessage:"Update to free team"},skip:{id:"PaR0U3",
defaultMessage:"Skip"},sharingdisabled:{id:"sbGTxI",defaultMessage:"Sharing disabled"},hackpadimportsofsharedpadsarecurrentlynotsupportedforteamswithexternalsharingdisabled:{id:"tke7xH",
defaultMessage:"Hackpad imports of shared pads are currently not supported for teams with external sharing disabled."},pleaseruntheimportusingyourPersonalDropboxaccountorenablesharingoutsidetheteam:{
id:"1auBeh",defaultMessage:"Please run the import using your Personal Dropbox account or enable sharing outside the team."},yourDropboxadminhasdisabledsharingoutsideofyourDropboxBusinessteam:{
id:"ziIr3T",defaultMessage:"Your Dropbox admin has disabled sharing outside of your Dropbox Business team."},importfromHackpad:{id:"xvlVM8",defaultMessage:"Import from Hackpad?"},
padscountpluralonepersonalpadotherpersonalpadswillbeimportedintoyourDropboxaccount:{id:"pA6AhX",
defaultMessage:"{padsCount, plural, one {# personal pad} other {# personal pads}} will be imported into your Dropbox account. "},peoplewithaccesstoadoccanseeeachothersemailaddresses:{id:"0zaBqe",
defaultMessage:"People with access to a doc can see each other's email addresses."},import:{id:"1vvJ0r",defaultMessage:"Import"},personalpads:{id:"c0HMns",defaultMessage:"Personal pads"},
padscountpluralonepadotherpads:{id:"ryC+a0",defaultMessage:"{padsCount, plural, one {# pad} other {# pads}}"},accountscountpluralonememberothermembers:{id:"ZeAXxT",
defaultMessage:"{accountsCount, plural, one {# member} other {# members}}"},joinpersonaldocs:{id:"GGG+7d",defaultMessage:"Join personal docs?"},joindocs:{id:"UWLac7",defaultMessage:"Join docs?"},
joininggivesyouaccesstodocssharedwithyouYouremailemailwillbevisibletootherswithaccess:{id:"8FQKhR",
defaultMessage:"Joining gives you access to docs shared with you. Your email ({email}) will be visible to others with access."},join:{id:"4NcxQ9",defaultMessage:"Join"},
numclaimablepadspluralonepadotherpads:{id:"PG9kot",defaultMessage:"{numClaimablePads, plural, one {1 pad} other {# pads}}"},viewdocs:{id:"GavG9v",defaultMessage:"View docs"},
numberofimportedpadsoutofnumberOfPadspluralonepadotherpadsimported:{id:"UJhF8F",defaultMessage:"{numberOfImportedPads} out of {numberOfPads, plural, one {1 pad} other {# pads}} imported"},
importfailed:{id:"+66JKZ",defaultMessage:"Import failed"},runImport:{id:"QI6pfZ",
defaultMessage:"Please run the import using your Personal Dropbox account or talk to your admin about enabling sharing outside the team."},willBeImported:{id:"ko1mL8",
defaultMessage:"{padsCount, plural, one {# pad} other {# pads}} will be imported from workspace {workspaceName} and become Paper docs. Team members can then join docs they want to access. "},joining:{
id:"UuULd3",
defaultMessage:"Joining personal docs gives you access to shared pads in your personal Hackpad account. Shared pads will automatically show up in your Paper doc list as each owner imports. Your email ({email}) will be visible to others with access."
}}),function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.createTeamConfirm=function(){(0,
r.confirm)(p.createElement(v,n.__assign({},y.recommendedupdateforteams)),p.createElement("div",null,p.createElement(v,n.__assign({values:{email:p.createElement("b",null,o.default.userEmail)}
},y.youhaveapersonalDropboxaccountemailWerecommendcreatingafreeTeamDropboxinorderto)),p.createElement("br",null),p.createElement("br",null),p.createElement("ul",{style:{listStyle:"initial",
marginLeft:"20px"}
},p.createElement("li",null,p.createElement(v,n.__assign({},y.createteamfoldersandeasilysharewithteammembers))),p.createElement("li",null,p.createElement(v,n.__assign({},y.keepyourpersonalDropboxseparatefromyourworkaccount)))),p.createElement("br",null),p.createElement(v,n.__assign({},y.ifyouskipthissteppadswillbeimportedintoasharedfolderinyourpersonalDropbox))),a.redirectForTeamCreation,{
confirmText:p.createElement(v,n.__assign({},y.updatetofreeteam)),cancelText:p.createElement(v,n.__assign({},y.skip)),cancelCallback:a.adminChangeConfirm,size:"large"})}
;a.noExternalSharesWarning=function(){var e=p.createElement(v,n.__assign({},y.sharingdisabled)),t=null
;t=o.default.isDomainAdmin?p.createElement("div",null,p.createElement(v,n.__assign({},y.hackpadimportsofsharedpadsarecurrentlynotsupportedforteamswithexternalsharingdisabled)),p.createElement("br",null),p.createElement(v,n.__assign({},y.pleaseruntheimportusingyourPersonalDropboxaccountorenablesharingoutsidetheteam))):p.createElement("div",null,p.createElement(v,n.__assign({},y.yourDropboxadminhasdisabledsharingoutsideofyourDropboxBusinessteam)),p.createElement("br",null),p.createElement(v,n.__assign({},y.runImport)))
;(0,r.alert)(e,t,(function(){return a.setState({disabled:!1})}))};a.adminChangeConfirm=function(){(0,
r.confirm)(p.createElement(v,n.__assign({},y.importfromHackpad)),p.createElement("span",null,a.props.domain==l.HACKPAD_PERSONAL_DOCS_DOMAIN?p.createElement(v,n.__assign({values:{
padsCount:a.props.padsCount}},y.padscountpluralonepersonalpadotherpersonalpadswillbeimportedintoyourDropboxaccount)):p.createElement(v,n.__assign({},y.willBeImported,{values:{
padsCount:a.props.padsCount,workspaceName:p.createElement("b",null,a.props.domain)}})),p.createElement(v,n.__assign({},y.peoplewithaccesstoadoccanseeeachothersemailaddresses))),a.runImport,{
confirmText:p.createElement(v,n.__assign({},y.import)),cancelCallback:function(){a.setState({disabled:!1})},size:"large"})};a.runImport=function(){a.refs["import-form"].submit()}
;a.redirectForTeamCreation=function(){a.refs["create-team-form"].submit()};a.onClick=function(){a.setState({disabled:!0})
;a.props.canExternallyShare?o.default.isPersonalDomainUser&&!o.default.linkedAccount&&a.props.domain!=l.HACKPAD_PERSONAL_DOCS_DOMAIN?a.createTeamConfirm():a.adminChangeConfirm():a.noExternalSharesWarning()
};a.state={disabled:!1};return a}t.prototype.componentWillReceiveProps=function(){this.setState({disabled:!1})};t.prototype.render=function(){
var e=this.props.domain==l.HACKPAD_PERSONAL_DOCS_DOMAIN?p.createElement(v,n.__assign({},y.personalpads)):p.createElement("span",{className:"notranslate"},this.props.domain),t=p.createElement("img",{
src:(0,m.default)("/static/img/composer/hackpad-logo.png"),style:{width:"24px",float:"left"}}),a=this.state.disabled,r=this.props.domain==l.HACKPAD_PERSONAL_DOCS_DOMAIN?p.createElement(v,n.__assign({
values:{padsCount:this.props.padsCount}},y.padscountpluralonepadotherpads)):p.createElement("div",null,p.createElement(v,n.__assign({values:{padsCount:this.props.padsCount}
},y.padscountpluralonepadotherpads)),p.createElement("span",{className:"notranslate"}," · "),p.createElement(v,n.__assign({values:{accountsCount:this.props.accountsCount}
},y.accountscountpluralonememberothermembers)));return p.createElement("div",{className:"hp-list-item"},p.createElement("div",{className:"hp-list-item-icon"},t),p.createElement("div",{
className:"hp-list-item-content"},p.createElement("div",{className:"hp-list-item-title"},e),p.createElement("div",{className:"hp-list-item-subtitle"
},r)),p.createElement("div",null,p.createElement("form",{ref:"create-team-form",action:"/hackpad/create-team?subdomain="+this.props.domain,method:"POST"
},p.createElement(f.default,null)),p.createElement("form",{ref:"import-form",action:"/hackpad/import?hackpadDomainId="+this.props.domainId,method:"POST"
},p.createElement(f.default,null),p.createElement(c.default,{primary:!0,type:"submit",disabled:a,onClick:this.onClick},p.createElement(v,n.__assign({},y.import))))))}
;t.displayName="ImportDomainAvailable";return t}(p.PureComponent));t.ImporterSelfServeDomainAvailable=b;var E=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this
;a.onClick=function(){
var e=a.isPersonalClaim?p.createElement(v,n.__assign({},y.joinpersonaldocs)):p.createElement(v,n.__assign({},y.joindocs)),t=a.isPersonalClaim?p.createElement(v,n.__assign({},y.joining,{values:{
email:p.createElement("b",null,o.default.userEmail)}})):p.createElement(v,n.__assign({values:{email:p.createElement("b",null,o.default.userEmail)}
},y.joininggivesyouaccesstodocssharedwithyouYouremailemailwillbevisibletootherswithaccess));(0,r.confirm)(e,t,(function(){a.setState({disabled:!0});i.post({url:"/hackpad/claim-pads",data:{
claimableAccountId:a.props.claimableAccountId},analyticsTag:"claim-hackpad-docs",shardingKey:i.getStatelessShardingKey(),hpAppLevel:!0,successHandler:function(e){a.setState({claimed:!0,disabled:!1})},
errorHandler:function(){a.setState({disabled:!1});return!1}})}),{confirmText:p.createElement(v,n.__assign({},y.join))});return!1};a.state={disabled:!1,claimed:!1}
;a.isPersonalClaim=a.props.domain==l.HACKPAD_PERSONAL_DOCS_DOMAIN;return a}t.prototype.render=function(){
var e=this.isPersonalClaim?p.createElement(v,n.__assign({},y.personalpads)):p.createElement("span",{className:"notranslate"},this.props.domain),t=p.createElement(v,n.__assign({values:{
numClaimablePads:this.props.numClaimablePads}},y.numclaimablepadspluralonepadotherpads)),a=this.state.claimed?p.createElement(c.default,{primary:!0,type:"submit",href:"/docs"
},p.createElement(v,n.__assign({},y.viewdocs))):p.createElement(c.default,{primary:!0,type:"submit",disabled:this.state.disabled,onClick:this.onClick},p.createElement(v,n.__assign({},y.join)))
;return p.createElement("div",{className:"hp-list-item"},p.createElement("div",{className:"hp-list-item-icon"},p.createElement(h.default,{name:"folder"})),p.createElement("div",{
className:"hp-list-item-content"},p.createElement("div",{className:"hp-list-item-title"},e),p.createElement("div",{className:"hp-list-item-subtitle"},t)),p.createElement("div",null,a))}
;t.displayName="ImportDomainClaimable";return t}(p.PureComponent);t.ImporterSelfServeDomainClaimable=E;var k=function(e){n.__extends(t,e);function t(t){return e.call(this,t)||this}
t.prototype.render=function(){var e=this.props.domain==l.HACKPAD_PERSONAL_DOCS_DOMAIN?p.createElement(v,n.__assign({},y.personalpads)):p.createElement("span",{className:"notranslate"
},this.props.domain),t=null,a="";if(this.props.lastImport.state==d.ImportStatus.Succeeded||this.props.lastImport.state==d.ImportStatus.RedirectsSet){
var r=this.props.lastImport.padsImported,o=this.props.lastImport.padsAvailable;t=p.createElement("div",null,p.createElement(v,n.__assign({values:{numberOfPads:o,numberOfImportedPads:r}
},y.numberofimportedpadsoutofnumberOfPadspluralonepadotherpadsimported)));a=this.props.url
}else if(this.props.lastImport.state==d.ImportStatus.Failed||this.props.lastImport.state==d.ImportStatus.Initialized){
t=p.createElement("div",null," ",p.createElement(v,n.__assign({},y.importfailed))," ");a="#"}return p.createElement("a",{href:a,className:"hp-list-item"},p.createElement("div",{
className:"hp-list-item-icon"},p.createElement(h.default,{name:"folder"})),p.createElement("div",{className:"hp-list-item-content"},p.createElement("div",{className:"hp-list-item-title"
},e),p.createElement("div",{className:"hp-list-item-subtitle"},t)))};t.displayName="ImportDomain";return t}(p.PureComponent);t.ImporterSelfServeDomain=k},1913:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(54),o=a(134),s=a(648),i=a(1914),l=a(0),c=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}
t.prototype.renderPageBody=function(e,t){return this.padController?l.createElement("div",{id:"padpage-container",ref:"padPageContainer",tabIndex:-1},l.createElement(i.default,{ref:"presenter",
padController:this.padController},l.createElement(o.default,{id:this.editorId,ref:e,className:"hp-editor",type:"presenter",editableState:r.EditableState.Readonly,contentEditable:!0,toolbar:!1,toc:!1,
manuallyAttachAce:!0,onAceCreated:t,serverRenderInfo:this.getServerRenderInfo(),padController:this.padController,padId:this.padController&&this.padController.getPadId(),stores:this.context.stores
}))):null};t.prototype.handlePageLoaded=function(t){e.prototype.handlePageLoaded.call(this,t);this.refs.presenter.handlePageLoaded()};t.prototype.shouldDoDefaultFocus=function(){return!0};return t
}(s.PadPageBase);t.default=c},1914:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(3),o=a(54),s=a(20),i=a(74),l=a(239),c=a(6),d=a(6),u=a(75),p=a(1915),m=a(1918),h=a(1919),f=a(1920),g=a(1923),v=a(1924),y=a(398),b=a(236),E=a(117),k=a(119),_=a(11),S=a(950),w=a(951),C=a(18),P=a(4),I=a(4),T=a(0),N=a(43),M=a(30),A=a(38),x=a(61),O=a(1925),D=.9,L=parseInt(M.default.header_full_height,10),F=function(e){
n.__extends(t,e);function t(t,a){var n,r=this;(r=e.call(this,t)||this).keyboardSelectors=[];r.viewportSlides=null;r.reverse=!1;r.scrollElementAnimation=null;r.onFullscreenChange=function(){
var e=S.isToggled();e?I.IntentionEvent.EnterFullScreenPresentation.track({context:I.AppContext.Presentation,secondsOnPage:r.secondsOnPage()}):I.IntentionEvent.ExitFullScreenPresentation.track({
context:I.AppContext.Presentation,duration:r.state.fullscreenStartTime?Date.now()-r.state.fullscreenStartTime:0,secondsOnPage:r.secondsOnPage()});var t=e?Date.now():null;r.setState({fullscreen:e,
fullscreenStartTime:t})};r.updateViewportSize=function(){r.viewportSlides=null;var e=window.innerHeight;r.state.fullscreen||(e-=L);r.setState({viewportWidth:window.innerWidth,viewportHeight:e})}
;r.detectScrolling=function(){var e=r.state,t=e.animating,a=e.keyboardNavigating,n=e.lastScrollTop,o=Math.abs(r.scrollingElement.scrollTop-n)>=100;t||r.trackScrolling();!t&&a&&o&&r.setState({
keyboardNavigating:!1})};r.trackScrolling=c.debounce((function(){I.IntentionEvent.ScrollPresentation.track({context:I.AppContext.Presentation,secondsOnPage:r.secondsOnPage()})}),500)
;r.next=function(e){if(!!document.body.classList.contains("dmc-no-focusring")||!e||e.keyCode!=N.KeyCode.SPACE&&e.keyCode!=N.KeyCode.ENTER){e&&e.preventDefault()
;I.IntentionEvent.KeyboardNavigatePresentation.track({context:I.AppContext.Presentation,key:e?e.key:null,navigate:"next",secondsOnPage:r.secondsOnPage()});r.jump()}};r.previous=function(e){
e&&e.preventDefault();I.IntentionEvent.KeyboardNavigatePresentation.track({context:I.AppContext.Presentation,key:e?e.key:null,navigate:"previous",secondsOnPage:r.secondsOnPage()});r.jump(!0)}
;r.present=function(e){e.preventDefault();r.toggleFullscreen()};r.toggleFullscreen=function(){r.setState({hotkeysOpen:!1},(function(){var e=r.scrollingElement.scrollTop;S.toggle()
;x.default.fullscreenChange&&r.events.once(document,x.default.fullscreenChange,(function(){r.scrollingElement.scrollTop=e}))}))};r.toggleBlackOverlay=function(e){e.preventDefault();r.setState({
overlay:"black"!=r.state.overlay?"black":null})};r.toggleWhiteOverlay=function(e){e.preventDefault();r.setState({overlay:"white"!=r.state.overlay?"white":null})};r.toggleHotkeysPopup=function(e){
e.preventDefault();r.state.hotkeysOpen||I.IntentionEvent.OpenHotkeysPresentation.track({context:I.AppContext.Presentation,secondsOnPage:r.secondsOnPage()});r.setState({hotkeysOpen:!r.state.hotkeysOpen
})};r.toggleBackToDoc=function(e){var t=r.state.fullscreen?r.toggleFullscreen:function(){};(0,y.navigateBackToDoc)(e,t,r.state.presenterSclUrl)};r.onHotkeysPopupClose=function(){r.setState({
hotkeysOpen:!1})};r.toggleDarkTheme=function(){if(r.context.themeService){var e="dark"!=r.context.themeService.getTheme()?"dark":"light";r.context.themeService.setTheme(e,{doNotPersist:!0})
;r.setState({currentTheme:e})}};r.state={slideNumber:0,slides:[],animating:!1,keyboardNavigating:!1,scrollingTo:null,lastScrollTop:0,fullscreen:!1,fullscreenStartTime:null,hotkeysOpen:!1,overlay:null,
initialRender:!0,viewportWidth:0,viewportHeight:0,currentTheme:(null===(n=a.themeService)||void 0===n?void 0:n.getTheme())||"light"};return r}t.prototype.componentDidMount=function(){var e=this
;this.enteredPage=Date.now();this.setDocumentClass();this.zoomStyleEl=document.createElement("style");this.paddingStyleEl=document.createElement("style");document.body.appendChild(this.zoomStyleEl)
;document.body.appendChild(this.paddingStyleEl);this.bindEvents();this.scrollingElement=(0,w.default)();this.updateViewportSize();(0,b.isCloudDocNoframe)()&&(0,
l.getCloudDocUrls)(this.props.padController.getPadId(),(function(t){var a,n,r,o,s=e.props.padController.padClientVars.cloudDocMaxAccessUrl;if(s)e.setState({presenterSclUrl:s});else{
var i=t.maxAccessUrl,l=e.props.padController.isPadEditable()?null===(n=null===(a=t.sharedLinks)||void 0===a?void 0:a.editLink)||void 0===n?void 0:n.url:null===(o=null===(r=t.sharedLinks)||void 0===r?void 0:r.viewLink)||void 0===o?void 0:o.url
;e.setState({presenterSclUrl:i||l||t.referenceLink})}}),(function(){}))};t.prototype.handlePageLoaded=function(){var e=this;this.setReadOnly();this.awaitImages();this.updateSlidesState((function(){
e.setState({initialRender:!1})}))};t.prototype.turnSlideVisible=function(e,t){for(var a=this.getAce(),n=a.dynamicCSS,r=0,o=e[t].lines;r<o.length;r++){
var s=o[r],i=".hp-p8n-mode "+a.dom.getSelectorWithId(s.node.id);n.selectorStyle(i).opacity="initial";this.keyboardSelectors.push(i)}};t.prototype.componentDidUpdate=function(e,t){
if(t.slides!=this.state.slides){this.awaitImages();this.updateDynamicZoom()}else t.viewportWidth==this.state.viewportWidth&&t.viewportHeight==this.state.viewportHeight||this.updateDynamicZoom()
;var a=this.peek(this.reverse);if(-1!=a&&Math.abs(a-this.state.slideNumber)>1){var n=this.getViewportSlides(),r=this.reverse?this.state.slideNumber-1:this.state.slideNumber+1
;r>=0&&r<n.length&&this.turnSlideVisible(n,r)}if(t.slideNumber!=this.state.slideNumber){this.reverse=t.slideNumber>this.state.slideNumber;n=this.getViewportSlides()
;for(var o=this.getAce().dynamicCSS,s=0,i=this.keyboardSelectors;s<i.length;s++){var l=i[s];o.removeSelectorStyle(l)}this.keyboardSelectors=[];this.turnSlideVisible(n,this.state.slideNumber)}
t.initialRender!=this.state.initialRender&&P.trigger("presenter-rendered");this.setDocumentClass()};t.prototype.componentWillUnmount=function(){this.unbindEvents()
;document.documentElement.classList.remove("hp-p8n-mode");(0,C.removeElements)([this.zoomStyleEl,this.paddingStyleEl])};t.prototype.setDocumentClass=function(){
var e=this.state,t=e.fullscreen,a=e.initialRender;document.documentElement.classList.add("hp-p8n-mode");document.documentElement.classList.add("paper-dig-base")
;document.documentElement.classList.toggle("hp-p8n-fullscreen",!!t);document.documentElement.classList.toggle("hp-p8n-rendered",!a)};t.prototype.bindEvents=function(){
this.events.on(window,"resize",this.updateViewportSize);x.default.fullscreenChange&&this.events.on(document,x.default.fullscreenChange,this.onFullscreenChange)
;this.events.on(window,"scroll",c.throttle(this.detectScrolling,100,{trailing:!1}));k.WindowKeyEvents.define(u.PresentationHotkeys.ToggleDarkTheme,this.toggleDarkTheme)
;k.WindowKeyEvents.define(u.PresentationHotkeys.Help,this.toggleHotkeysPopup);k.WindowKeyEvents.define(u.PresentationHotkeys.ExitPresentation,this.toggleBackToDoc)}
;t.prototype.bindPresentHotkeys=function(){k.WindowKeyEvents.define(u.PresentationHotkeys.Present,this.present);k.WindowKeyEvents.define(u.PresentationHotkeys.NextSlide,this.next)
;k.WindowKeyEvents.define(u.PresentationHotkeys.PreviousSlide,this.previous);k.WindowKeyEvents.define(u.PresentationHotkeys.BlackScreen,this.toggleBlackOverlay)
;k.WindowKeyEvents.define(u.PresentationHotkeys.WhiteScreen,this.toggleWhiteOverlay)};t.prototype.unbindEvents=function(){this.unbindPresentHotkeys()
;k.WindowKeyEvents.off(u.PresentationHotkeys.ToggleDarkTheme,this.toggleDarkTheme);k.WindowKeyEvents.off(u.PresentationHotkeys.Help,this.toggleHotkeysPopup)
;k.WindowKeyEvents.off(u.PresentationHotkeys.ExitPresentation,this.toggleBackToDoc)};t.prototype.unbindPresentHotkeys=function(){k.WindowKeyEvents.off(u.PresentationHotkeys.Present,this.present)
;k.WindowKeyEvents.off(u.PresentationHotkeys.NextSlide,this.next);k.WindowKeyEvents.off(u.PresentationHotkeys.PreviousSlide,this.previous)
;k.WindowKeyEvents.off(u.PresentationHotkeys.BlackScreen,this.toggleBlackOverlay);k.WindowKeyEvents.off(u.PresentationHotkeys.WhiteScreen,this.toggleWhiteOverlay)}
;t.prototype.secondsOnPage=function(){return(Date.now()-this.enteredPage)/1e3};t.prototype.awaitImages=function(){var e=this;c.defer((function(){
var t=Array.prototype.slice.call(document.querySelectorAll("img")),a=c.after(t.length,e.updateDynamicZoom.bind(e));t.forEach((function(e){if(e.complete)a();else{e.addEventListener("load",a,{once:!0})
;e.addEventListener("error",(function(){console.error("Image failed to load");a()}),{once:!0})}}))}))};t.prototype.updateDynamicZoom=function(){
var e=this.state,t=e.fullscreen,a=e.viewportWidth,n=e.viewportHeight,r=a/745
;this.zoomStyleEl.innerText="\n      .gallery {\n        zoom: ".concat(r,";\n      }\n\n      /* Ensure that images and embeds fit on a single page */\n      .gallery-item,\n      .gallery-item .thumb-wrap,\n      .embed-iframe-overrides {\n        max-height: ").concat(85/r,"vh;\n      }\n    ")
;if(this.state.slides&&this.state.slides.length){this.viewportSlides=null;var o=this.getViewportSlides(),s=o[0].isTitle,i=Math.floor(.05*n),l=i;if(s){var c=(0,
g.getSlideDimensions)(o[0].lines,this.getAce()).height;l=Math.max(i,Math.floor((n-c)/2))}var d=l;t||(l+=L);var u=(0,
g.getSlideDimensions)(o[o.length-1].lines,this.getAce()).height,p=Math.max(i,Math.floor((n-u)/2))
;this.paddingStyleEl.innerText="\n        #presenter {\n          padding: ".concat(l,"px 0 ").concat(p,"px;\n        }\n\n        .ace-line[data-is-title] {\n          margin-bottom: ").concat(s?d:0,"px;\n        }\n      ")
}};t.prototype.updateSlidesState=function(e){var t=this.getAce().getRep(s.Position.ROOT_ZONE),a=(0,g.splitSlides)(t.lines);this.setState({slides:a},e)};t.prototype.getViewportSlides=function(){
if(!this.viewportSlides){var e=.9*this.state.viewportHeight;this.viewportSlides=(0,g.splitViewportSlides)(e,this.state.slides,this.getAce())}return this.viewportSlides};t.prototype.peek=function(e,t){
void 0===e&&(e=!1);void 0===t&&(t=!1);if(!this.hasAce())return-1;var a=this.state,n=a.fullscreen,r=a.scrollingTo,o=a.viewportHeight,s=this.getViewportSlides(),i=r
;i||(i=this.scrollingElement.scrollTop);n||(i+=L);for(var l=o+i,c=(i+l)/2,d=-1,u=0;u<s.length;u++){var p=(0,g.getSlideDimensions)(s[u].lines,this.getAce()),m=p.top,h=p.bottom;if(e){if(h>=c){if(m<i){
t&&this.scrollTo(i-D*o);break}d=u-1;break}}else{if(m>c){d=u;break}if(h>l){t&&this.scrollTo(i+D*o);break}}}return-1!=d?(0,A.clamp)(d,0,s.length-1):-1};t.prototype.jump=function(e){void 0===e&&(e=!1)
;var t=this.peek(e,!0);if(-1!=t)return this.jumpToSlide(t,e)};t.prototype.jumpToSlide=function(e,t){this.setState({slideNumber:e});var a,n=this.state.viewportHeight,r=this.getViewportSlides(),o=(0,
g.getSlideDimensions)(r[e].lines,this.getAce()),s=o.top,i=o.bottom,l=o.height;a=n>=l?s-Math.floor((n-l)/2):t?i-.95*n:s-.04999999999999999*n;this.scrollTo(a)};t.prototype.scrollTo=function(e){
var t=this;this.state.fullscreen||(e-=L);this.setState({scrollingTo:e,animating:!0,keyboardNavigating:!0},(function(){null!=t.scrollElementAnimation&&t.scrollElementAnimation.stop()
;t.scrollElementAnimation=(0,C.animateElementScroll)({element:t.scrollingElement,direction:{scrollTop:e},duration:400,onFinished:function(){t.setState({scrollingTo:null,animating:!1,lastScrollTop:e})}
})}))};t.prototype.setReadOnly=function(){var e=this.props.padController;e.collabClient.pauseSync();e.setPreferredEditableState(o.EditableState.Readonly,!1);this.bindPresentHotkeys();this.setState({
keyboardNavigating:!1})};t.prototype.render=function(){var e,t=this.props,a=t.children,n=t.padController,o=this.state,s=o.fullscreen,i=o.hotkeysOpen,l=o.keyboardNavigating,c=o.overlay,d=r({
"hp-p8n-keyboard-mode":l}),u=null;this.hasAce()&&this.getAce().contents.isBlankDoc()&&(u=T.createElement(p.default,{isFullscreen:s,toggleFullscreen:this.toggleFullscreen,
presenterSclUrl:this.state.presenterSclUrl,currentTheme:this.state.currentTheme}));var g=r(O.default.overlay,((e={})[O.default.whiteoverlay]="white"==c,e));return T.createElement("div",{
id:"presenter__wrapper"},T.createElement(I.TrackContext,{trackContext:I.AppContext.Presentation},T.createElement("div",{id:"presenter",className:d},T.createElement(v.default,{onSwipeLeft:this.next,
onSwipeRight:this.previous},T.createElement(f.default,{toggleTheme:this.toggleDarkTheme,fullscreen:s,toggleFullscreen:this.toggleFullscreen,presenterSclUrl:this.state.presenterSclUrl,
currentTheme:this.state.currentTheme}),a,T.createElement(E.default,{className:"hp-p8n-hotkeys-popup-wrapper"},T.createElement(m.default,{open:i,onClose:this.onHotkeysPopupClose
})),c?T.createElement("div",{className:g}):null),u),T.createElement(h.default,{fullscreen:s,padController:n,toggleHotkeysPopup:this.toggleHotkeysPopup})))};t.prototype.hasAce=function(){
return!!this.props.padController.mainAce};t.prototype.getAce=function(){var e=this.props.padController;if(!e.mainAce)throw new Error("Main Ace not available");return e.mainAce}
;t.displayName="Presenter";t.contextTypes=(0,d.pick)(i.ReactAppContextTypes,"themeService");return t=n.__decorate([_.default],t)}(T.Component);t.default=F},1915:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(5),o=a(398),s=a(21),i=a(73),l=a(0),c=a(2),d=a(1916),u=(0,r.PaperIntlFactory)().F,p=(0,c.defineMessages)({backToDoc:{id:"gyqADV",
defaultMessage:"Keep writing"},readytoshowoffyourwork:{id:"kKlTma",defaultMessage:"Ready to show off your work?"},skiptheslidesandpresentwithasingleclick:{id:"rOOrgM",
defaultMessage:"Skip the slides and present with a single click."}}),m=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.backToDoc=function(e){
var a=t.props.isFullscreen?t.props.toggleFullscreen:function(){};(0,o.navigateBackToDoc)(e,a,t.props.presenterSclUrl)};return t}t.prototype.render=function(){
var e=l.createElement("h1",null,l.createElement(u,n.__assign({},p.readytoshowoffyourwork))),t=l.createElement("p",null,l.createElement(u,n.__assign({},p.skiptheslidesandpresentwithasingleclick))),a=l.createElement(s.default,{
variant:"primary",onClick:this.backToDoc},l.createElement(u,n.__assign({},p.backToDoc)));return l.createElement("div",{className:d.default.emptystate},l.createElement(i.default,{
src:"/static/img/composer/presentation/empty_state/empty_state_".concat("dark"==this.props.currentTheme?"dark":"white",".png"),className:d.default.img}),e,t,a)};t.displayName="PresentationEmptyState"
;return t}(l.PureComponent);t.default=m},1916:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.img=t.emptystate=void 0;a(1917);t.emptystate="_emptystate_1dtza_1"
;t.img="_img_1dtza_23";t.default={emptystate:"_emptystate_1dtza_1",img:"_img_1dtza_23"}},1917:function(e,t,a){},1918:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(5),o=a(70),s=a(83),i=a(4),l=a(0),c=a(2),d=(0,r.PaperIntlFactory)().F,u=(0,c.defineMessages)({keyboardShortcuts:{id:"tGV1HA",defaultMessage:"Keyboard Shortcuts"},navigation:{
id:"zwPPLp",defaultMessage:"Navigation"},nextslide:{id:"pM+XGv",defaultMessage:"Next slide"},hotkeyoraltHotkey:{id:"7Ln5Ne",defaultMessage:"{hotkey} or {altHotkey}"},space:{id:"BvM6vx",
defaultMessage:"Space"},previousslide:{id:"jlNRKl",defaultMessage:"Previous slide"},actions:{id:"w81jal",defaultMessage:"Actions"},startslideshow:{id:"QDCoJ9",defaultMessage:"Start slideshow"},enter:{
id:"5o8Jz2",defaultMessage:"Enter"},endslideshow:{id:"POtyMF",defaultMessage:"End slideshow"},esc:{id:"xYV0nB",defaultMessage:"Esc"},toggleblackscreen:{id:"q5tSEG",defaultMessage:"Toggle black screen"
},togglewhitescreen:{id:"HgGq3n",defaultMessage:"Toggle white screen"},togglethroughthemes:{id:"CEHaDk",defaultMessage:"Toggle through themes"},keyboardshortcuthelp:{id:"2eIoYx",
defaultMessage:"Keyboard shortcut help"}}),p=function(e){var t=e.open,a=e.onClose,r=(0,s.getAccel)(),c=(0,s.getAlt)();return l.createElement(o.default,{
className:"hp-hotkeys-popup hp-p8n-hotkeys-popup",size:"medium",isOpen:t,onOpen:function(){return(0,i.track)("hotkeys-open")},onClose:a,closeButton:!0,hud:!0},l.createElement("div",{
className:"hp-popup-content hp-hotkeys-popup-content"},l.createElement("div",null,l.createElement("h1",null,l.createElement(d,n.__assign({},u.keyboardShortcuts))),l.createElement("div",{
className:"hp-hotkeys-wrapper"},l.createElement("div",{className:"hp-hotkeys-column"},l.createElement("h2",null,l.createElement(d,n.__assign({},u.navigation))),l.createElement("table",{
className:"hp-hotkeys-section"
},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.nextslide))),l.createElement("td",null,l.createElement(d,n.__assign({values:{
hotkey:l.createElement("kbd",null,"→"),altHotkey:l.createElement("kbd",null,l.createElement(d,n.__assign({},u.space)))}
},u.hotkeyoraltHotkey)))),l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.previousslide))),l.createElement("td",null,l.createElement("kbd",null,"←"))))),l.createElement("h2",null,l.createElement(d,n.__assign({},u.actions))),l.createElement("table",{
className:"hp-hotkeys-section"
},l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.startslideshow))),l.createElement("td",null,l.createElement(d,n.__assign({values:{
hotkey:l.createElement("kbd",null,"F5"),altHotkey:l.createElement("span",null,l.createElement("kbd",null,r),"+",l.createElement("kbd",null,l.createElement(d,n.__assign({},u.enter))))}
},u.hotkeyoraltHotkey)))),l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.endslideshow))),l.createElement("td",null,l.createElement("kbd",null,l.createElement(d,n.__assign({},u.esc))))),l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.toggleblackscreen))),l.createElement("td",null,l.createElement("kbd",null,"b"))),l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.togglewhitescreen))),l.createElement("td",null,l.createElement("kbd",null,"w"))),l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.togglethroughthemes))),l.createElement("td",null,l.createElement("kbd",null,r),"+",l.createElement("kbd",null,c),"+",l.createElement("kbd",null,"t"))),l.createElement("tr",null,l.createElement("td",null,l.createElement(d,n.__assign({},u.keyboardshortcuthelp))),l.createElement("td",null,l.createElement("kbd",null,r),"+",l.createElement("kbd",null,"/"))))))))))
};p.displayName="PresentationHotkeysPopup";t.default=p},1919:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.PresenterFeedbackButtonWithOmnibar=void 0
;var n=a(1),r=a(3),o=a(8),s=a(5),i=a(130),l=a(848),c=a(10),d=a(68),u=a(69),p=a(103),m=a(170),h=a(849),f=a(71),g=a(11),v=a(29),y=a(16),b=a(15),E=a(0),k=a(2),_=a(7),S=a(36),w=(0,
s.PaperIntlFactory)(),C=w.F,P=w._f,I=(0,k.defineMessages)({helpButtonAria:{id:"xHrhU3",defaultMessage:"Help"},feedback:{id:"v/mfal",defaultMessage:"Feedback"},debug:{id:"yLfFBw",defaultMessage:"Debug"
},helptipsandfeedback:{id:"mKANEf",defaultMessage:"Help, tips, and feedback"},help:{id:"N+xssZ",defaultMessage:"Help"},keyboardshortcuts:{id:"JmaVR5",defaultMessage:"Keyboard shortcuts"},legal:{
id:"4rrkss",defaultMessage:"Legal"},opensource:{id:"fr2idX",defaultMessage:"Open source"}});t.PresenterFeedbackButtonWithOmnibar=function(e){var t=e.runCommandById;return E.createElement(c.default,{
id:"feedbackbutton",onClick:function(){document.body.dispatchEvent(new Event("close-menu"));t("show_feedback")}},E.createElement(C,n.__assign({},I.feedback)))};var T=function(e){n.__extends(a,e)
;function a(){var t=null!==e&&e.apply(this,arguments)||this;t.getPresenterFeedbackPopupEl=function(){return E.createElement(f.ToastAndUnmountErrorBoundary,null,E.createElement(l.FeedbackPopup,{
productType:_.ProductType.Paper}))};t.debugPanel=null;t.onDebugClicked=function(e){t.debugPanel?t.timers.setTimeout((function(){t.debugPanel.show()
}),0):S.reactDomRender(E.createElement(f.ToastAndUnmountErrorBoundary,null,E.createElement(h.default,{ref:function(e){return t.debugPanel=e},
collabClient:t.props.padController&&t.props.padController.collabClient,productType:_.ProductType.Paper,localPadId:t.props.padController&&t.props.padController.localPadId
})),document.getElementById("debug-panel"))};return t}a.prototype.onHelpClick=function(){(0,v.safeWindowOpen)("https://www.dropbox.com/help/topics/paper")}
;a.prototype.renderFeedbackButtonWithCommand=function(e){return E.createElement(t.PresenterFeedbackButtonWithOmnibar,n.__assign({},e))};a.prototype.renderMenu=function(){var e,t
;(o.default.isAppAdmin||o.default.isDropboxer||o.default.canDebug)&&(e=E.createElement(p.HpMenuItem,null,E.createElement(c.default,{id:"debugbutton",onClick:this.onDebugClicked
},E.createElement(C,n.__assign({},I.debug)))));o.default.isSignedIn()&&(t=E.createElement(p.HpMenuItem,null,E.createElement(i.default,{commands:["show_feedback"],context:[]
},this.renderFeedbackButtonWithCommand)));var a=this.props,s=a.fullscreen,l=a.toggleHotkeysPopup,h=r("hp-p8n-editor-assist-buttons",{"hp-editor-assist-buttons-inactive":s
}),f=P(I.helpButtonAria),g=E.createElement(C,n.__assign({},I.helptipsandfeedback));return E.createElement(u.default,{id:"hp-editor-assist-buttons",className:h},E.createElement(c.default,{
id:"hp-editor-help-button",hasPopup:!0,"aria-label":f,tooltipAbove:!0,tooltip:g},E.createElement(y.UIIcon,{src:b.HelpLine,size:"large"
})),E.createElement(d.default,null,E.createElement("ul",null,t,E.createElement(p.HpMenuItem,null,E.createElement(c.default,{id:"hp-help",onClick:this.onHelpClick
},E.createElement(C,n.__assign({},I.help)))),E.createElement(p.HpMenuItem,null,E.createElement(c.default,{id:"hp-hotkeys-button",onClick:l
},E.createElement(C,n.__assign({},I.keyboardshortcuts)))),E.createElement(m.HpMenuSeparator,null),E.createElement(p.HpMenuItem,null,E.createElement(c.default,{id:"hp-app-legal-button",
href:"https://www.dropbox.com/privacy",target:"_blank"},E.createElement(C,n.__assign({},I.legal)))),E.createElement(p.HpMenuItem,null,E.createElement(c.default,{
href:"https://www.dropbox.com/static/metaserver/static/docs/opensource/Dropbox_Paper_FOSS_Notices.pdf",target:"_blank"
},E.createElement(C,n.__assign({},I.opensource)))),E.createElement(m.HpMenuSeparator,null),e)))};a.prototype.renderFeedbackPopup=function(){var e=null
;o.default.isSignedIn()&&(e=this.getPresenterFeedbackPopupEl());return e};a.prototype.render=function(){return E.createElement(E.Fragment,null,this.renderMenu(),this.renderFeedbackPopup())}
;a.displayName="PresenterAssistMenuButton";return a=n.__decorate([g.default],a)}(E.PureComponent);t.default=T},1920:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(3),o=a(5),s=a(6),i=a(398),l=a(21),c=a(83),d=a(11),u=a(281),p=a(16),m=a(15),h=a(0),f=a(2),g=a(41),v=a(194),y=a(30),b=a(1921),E=(0,o.PaperIntlFactory)(),k=E.F,_=E._f,S=(0,
f.defineMessages)({disableDarkMode:{id:"RewM2o",defaultMessage:"Disable dark mode"},enableDarkMode:{id:"JgT4/R",defaultMessage:"Enable dark mode"},leaveFullscreen:{id:"nnKrub",
defaultMessage:"Leave fullscreen"},enterFullscreen:{id:"TJaCA/",defaultMessage:"Enter fullscreen"},enter:{id:"kfD7h+",defaultMessage:"enter"},backtodoc:{id:"LKk0Uk",defaultMessage:"Back to doc"}
}),w=2*g.Time.SECOND,C=parseInt(y.default.header_full_height,10)+24,P=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={active:!0,clientY:null}
;t.handleMouseMove=function(e){var a=e.clientY;if(t.state.clientY){if(!(Math.abs(t.state.clientY-a)<16)){var n=a<C,r=t.state.active||n;clearTimeout(t.inactivityTimeout);t.setState({active:r,clientY:a
});n||(t.inactivityTimeout=t.timers.setTimeout(t.setInactive,w))}}else t.setState({clientY:a})};t.setInactive=function(){t.setState({active:!1})};t.present=function(e){e.preventDefault()
;t.props.toggleFullscreen()};t.backToDoc=function(e){var a=t.props.fullscreen?t.props.toggleFullscreen:function(){};(0,i.navigateBackToDoc)(e,a,t.props.presenterSclUrl)};return t}
t.prototype.componentWillMount=function(){this.handleMouseMove=s.throttle(this.handleMouseMove,100)};t.prototype.componentWillReceiveProps=function(e){
if(this.props.fullscreen!=e.fullscreen)if(e.fullscreen)this.addEventHandlers();else{this.events.removeAll();clearTimeout(this.inactivityTimeout);this.setState({active:!0})}}
;t.prototype.addEventHandlers=function(){this.events.on(document,"mousemove",this.handleMouseMove)};t.prototype.render=function(){
var e,t=this,a=this.props,o=a.toggleTheme,s=a.fullscreen,i=a.currentTheme,d=this.state.active,f=r(b.default.controls,((e={})[b.default.active]=d,
e)),g="dark"==i?S.disableDarkMode:S.enableDarkMode,y=h.createElement("span",null,h.createElement(k,n.__assign({},g)),"\n",(0,c.getAccel)(),"+",(0,
c.getAlt)(),"+t"),E=s?S.leaveFullscreen:S.enterFullscreen,w=h.createElement("span",null,h.createElement(k,n.__assign({},E)),"\n",(0,
c.getAccel)(),"+",h.createElement(k,n.__assign({},S.enter))),C=h.createElement(k,n.__assign({},S.backtodoc));return h.createElement("header",{className:f},h.createElement(l.default,{
"aria-label":_(S.backtodoc),withIconLeft:h.createElement(p.UIIcon,{src:m.ChevronLeftLine}),variant:"transparent",hasNoUnderline:!0,onClick:this.backToDoc
},C),h.createElement(u.IconButtonGroup,null,(function(e){var a=e.getButtonProps;return h.createElement(h.Fragment,null,h.createElement(l.default,n.__assign({tooltip:{title:y,openDelay:v.TOOLTIP_DELAY,
placement:"bottom"},variant:"transparent","aria-label":_(g),hasNoUnderline:!0,"track-title":_(g),onClick:o},a()),h.createElement(p.UIIcon,{src:m.ThemeLine})),h.createElement(l.default,n.__assign({
tooltip:{title:w,openDelay:v.TOOLTIP_DELAY,placement:"bottom"},hasNoUnderline:!0,variant:"transparent","aria-label":_(E),"track-title":_(E),onClick:t.present},a()),h.createElement(p.UIIcon,{
src:s?m.FullscreenExitLine:m.FullscreenLine})))})))};t.displayName="PresenterControls";return t=n.__decorate([d.default],t)}(h.PureComponent);t.default=P},1921:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.active=t.controls=void 0;a(1922);t.controls="_controls_5ri1q_1";t.active="_active_5ri1q_24";t.default={controls:"_controls_5ri1q_1",
active:"_active_5ri1q_24"}},1922:function(e,t,a){},1923:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.getSlideDimensions=t.splitViewportSlides=t.splitSlides=void 0
;var n=a(18),r=function(){this.isTitle=!1;this.line={num:-1,type:"hfake",node:null,indentLevel:0};this.children=[];this.allLines=[]},o={hone:1,htwo:2,hthree:3,hfake:4,boring:5,aceTable:5,gallery:6,
code:6,bullet:7,indent:7,number:7,task:7,taskdone:7,quote:7},s=100,i=["hone","htwo","hthree"],l=["bullet","indent","number","task","taskdone"];t.splitSlides=function(e){
for(var t=[],a=0,n=e.length();a<n;a++){var o=e.atIndex(a).domInfo,s=o.slideThingType,l=o.node,d=o.indentLevel;"blank"!=s&&t.push({num:a,type:s,node:l,indentLevel:d})}return function(e){var t=[],a=[]
;if(0==e.length)return t;var n=e[0];if(0==n.num){t.push({isTitle:!0,line:n,children:[],allLines:[n]});if(0==(e=e.slice(1)).length)return t}for(var o=0,s=e;o<s.length;o++){var l=s[o]
;if("break"!=l.type){if(0==a.length&&-1==i.indexOf(l.type)){var d=new r;t.push(d);a.push(d)}for(;a.length&&c(a[a.length-1].line)>=c(l);)a.pop();var u={isTitle:!1,line:l,children:[],allLines:[l]}
;if(a.length){for(var p=0,m=a;p<m.length;p++){m[p].allLines.push(l)}a[a.length-1].children.push(u)}else t.push(u);a.push(u)}else a=[]}return t}(t)};function c(e){var t=o[e.type]*s
;-1!=l.indexOf(e.type)&&(t+=e.indentLevel);return t}t.splitViewportSlides=function(e,t,a){return t.reduce((function(t,n){return t.concat(d(e,n,a))}),[])};function d(e,t,a){var n=[]
;if(u(t.allLines,a).height<=e){n.push({isTitle:t.isTitle,lines:t.allLines.slice()});return n}var r={isTitle:t.isTitle,lines:t.line.node?[t.line]:[]};n.push(r);for(var o=0,s=t.children;o<s.length;o++){
var i=s[o];if(r){var l=r.lines.concat(i.allLines);if(u(l,a).height<=e){r.lines=l;continue}0==r.lines.length&&n.pop()}var c=d(e,i,a);n=n.concat(c);r=1==c.length?n[n.length-1]:null}return n}
function u(e,t){if(0==e.length)return{top:0,bottom:0,height:0}
;var a=e[0].node,r=e[e.length-1].node,o=t.dom.getElementWithSelector(t.dom.getSelectorWithId(a&&a.id)),s=t.dom.getElementWithSelector(t.dom.getSelectorWithId(r&&r.id)),i=(0,
n.offset)(o),l=i.top,c=i.left,d=(0,n.offset)(s),u=d.top,p=d.left;if(0==l&&0==c||0==u&&0==p)return{top:0,bottom:0,height:0};var m=l,h=u+(0,n.height)(s);return{top:m,bottom:h,height:h-l}}
t.getSlideDimensions=u},1924:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(0),o=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.state={initialX:null,initialY:null,lastTouch:null};t.handleTouchStart=function(e){if(1==e.touches.length){var a=e.touches[0],n=a.pageX,r=a.pageY
;t.setState({initialX:n,initialY:r,lastTouch:{pageX:n,pageY:r}})}};t.handleTouchEnd=function(e){var a,n,r,o;if(t.state.lastTouch){var s=t.swipeLengthX();if(null!==s&&Math.abs(s)>window.innerWidth/3){
s>0?null===(n=(a=t.props).onSwipeLeft)||void 0===n||n.call(a):null===(o=(r=t.props).onSwipeRight)||void 0===o||o.call(r);e.preventDefault()}t.resetSwipe()}};t.handleTouchCancel=function(){
t.resetSwipe()};t.handleTouchMove=function(e){if(1==e.touches.length&&t.state.lastTouch){var a=e.touches[0],n=a.pageX,r=a.pageY,o=t.swipeLengthY({pageX:n,pageY:r})
;if(null!==o&&Math.abs(o)>25)t.resetSwipe();else{t.setState({lastTouch:{pageX:n,pageY:r}});e.preventDefault()}}};return t}t.prototype.resetSwipe=function(){this.setState({initialX:null,initialY:null,
lastTouch:null})};t.prototype.swipeLengthX=function(e){void 0===e&&(e=this.state.lastTouch);return e&&this.state.initialX?this.state.initialX-e.pageX:null};t.prototype.swipeLengthY=function(e){
void 0===e&&(e=this.state.lastTouch);return e&&this.state.initialY?this.state.initialY-e.pageY:null};t.prototype.render=function(){return r.createElement("div",{onTouchStart:this.handleTouchStart,
onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onTouchMove:this.handleTouchMove},this.props.children)};t.displayName="Swipething";return t}(r.Component);t.default=o},
1925:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.whiteoverlay=t.overlay=void 0;a(1926);t.overlay="_overlay_1dkxf_1";t.whiteoverlay="_whiteoverlay_1dkxf_14";t.default={
overlay:"_overlay_1dkxf_1",whiteoverlay:"_whiteoverlay_1dkxf_14"}},1926:function(e,t,a){},1927:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.AssumeUserBanner=t.OldBrowserBanner=t.FastrakBanner=void 0;var n=a(1),r=a(8),o=a(575),s=a(14),i=a(10),l=a(25),c=a(4),d=a(29),u=a(0),p=(0,s.MsgFactory)("ui"),m=p.F,h=(0,p.defineMessages)({
learnmore:{msg:"Learn more"},notOnboarded:{msg:"The user you're signed in as hasn't onboarded :("},youresignedinasname:{msg:"You're signed in as {name}."},signout:{msg:"Sign out"}})
;t.FastrakBanner=(0,l.createReactClass)({displayName:"FastrakBanner",getInitialState:function(){return{shouldDisplayHelp:!1}},showHelp:function(){this.setState({shouldDisplayHelp:!0})},
hideHelp:function(){this.setState({shouldDisplayHelp:!1})},signUpForFreeClicked:function(){(0,d.locationReplace)("banner-signUpForFreeClicked","/ep/team/create-ft-team-info")},
componentDidMount:function(){c.track("showing-ft-banner",{isDomainAdmin:r.default.isDomainAdmin});document.body.classList.add("has-banner")},componentWillUnmount:function(){
document.body.classList.remove("has-banner")},render:function(){var e=r.default.isDomainAdmin?u.createElement(m,{
msg:"We're integrating Dropbox Paper into Dropbox Teams. To continue using Paper after March 9 2016, please create a free Dropbox Team."}):u.createElement(m,{
msg:"We're integrating Dropbox Paper into Dropbox Teams. To continue using Paper after March 9 2016, please tell your admin to create a free Dropbox team."}),t=null
;r.default.isDomainAdmin&&(t=u.createElement(i.default,{secondary:!0,className:"hp-banner-sign-up-button",onClick:this.signUpForFreeClicked},u.createElement(m,n.__assign({},h.learnmore))))
;return u.createElement("div",{className:"hp-banner-container"},u.createElement(s.IntlProvider,{locale:r.default.userLocale},u.createElement("div",{className:"hp-banner"},u.createElement("div",{
className:"hp-banner-left"},u.createElement("span",null,e)),u.createElement("div",{className:"hp-banner-right"},t))))}});t.OldBrowserBanner=(0,l.createReactClass)({displayName:"OldBrowserBanner",
componentDidMount:function(){document.body.classList.add("has-banner")},componentWillUnmount:function(){document.body.classList.remove("has-banner")},render:function(){return u.createElement("div",{
className:"hp-banner-container hp-banner-warning"},u.createElement(s.IntlProvider,{locale:r.default.userLocale},u.createElement("div",{className:"hp-banner"},u.createElement("div",{
className:"hp-banner-center"},u.createElement("span",null,u.createElement(m,{msg:"Your browser version is not supported. Some things may not display correctly."}))))))}});t.AssumeUserBanner=(0,
l.createReactClass)({displayName:"AssumeUserBanner",componentDidMount:function(){document.body.classList.add("has-banner")},componentWillUnmount:function(){document.body.classList.remove("has-banner")
},onAssumeLogoutClick:function(){(0,o.default)("/ep/account/assume-logout-post",{})},render:function(){var e
;e=null==this.props.assumedName?u.createElement(m,n.__assign({},h.notOnboarded)):u.createElement(m,n.__assign({values:{name:this.props.assumedName}},h.youresignedinasname))
;return u.createElement("div",{className:"assume-user-container"},u.createElement(s.IntlProvider,{locale:r.default.userLocale
},u.createElement("div",null,u.createElement("span",null,e),u.createElement("button",{className:"assume-logout-button",onClick:this.onAssumeLogoutClick},u.createElement(m,n.__assign({},h.signout))))))
}})},466:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.sendWelcomeMessage=t.sendInvites=t.slackUserProfilesToUserInfo=t.slackUserProfileToUserInfo=t.sortUsers=t.matchUsers=t.getUserList=t.getImList=void 0;var n=a(12);t.getImList=function(e,t){n.get({
url:"/slack/list-ims",data:{},analyticsTag:"invite-slack-team",shardingKey:n.getStatelessShardingKey(),successHandler:e,errorHandler:t})};t.getUserList=function(e,t,a){n.get({url:"/slack/list-users",
data:{cursor:e},analyticsTag:"invite-slack-team",shardingKey:n.getStatelessShardingKey(),successHandler:t,errorHandler:a})};t.matchUsers=function(e,t){var a=[],n=[];t.forEach((function(t){
e&&-1!==e.indexOf(t.userId)?a.push(t):n.push(t)}));return r(a).concat(r(n))};function r(e){return e.sort((function(e,t){return e.userName===t.userName?0:e.userName>t.userName?1:-1}))}t.sortUsers=r
;function o(e){return{name:"@".concat(e.userName),pic:e.pic,email:e.userId}}t.slackUserProfileToUserInfo=o;t.slackUserProfilesToUserInfo=function(e){return e.map(o)};t.sendInvites=function(e,t,a){
n.post({url:"/invite-slack-team/invite",data:{users:JSON.stringify(e)},analyticsTag:"invite-slack-team",shardingKey:n.getStatelessShardingKey(),successHandler:t,errorHandler:a})}
;t.sendWelcomeMessage=function(){n.post({url:"/invite-slack-team/welcome",analyticsTag:"invite-slack-team",shardingKey:n.getStatelessShardingKey()})}},603:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1479),r=a(87),o=a(8),s=a(1480),i=a(1927),l=a(319),c=a(48),d=a(481),u=a(169),p=a(161),m=a(100),h=a(136),f=a(929),g=a(28),v=a(28),y=a(17),b=a(29),E=a(0),k=a(217),_=a(7),S=a(36),w=a(61)
;function C(){
window.mostRecentStoreInitialized&&console.error("A store was initialized on page load before the page had been rendered. The most recent store to be initialized was: "+window.mostRecentStoreInitialized)
;window.productType=_.ProductType.Paper;if(document.getElementById("app-container")){g.isPhone()&&document.documentElement.classList.add(k.MOBILE_BODY_CLASS)
;window.showErrorToUser=c.default.showErrorToast;window.csi&&window.csi.tick("app-start");y.default.error.loggingTryCatch((function(){
o.default.isCurrentUserBeingAssumed?S.reactDomRender(E.createElement(p.SilentlyUnmountErrorBoundary,null,E.createElement(i.AssumeUserBanner,{assumedName:o.default.userName
})),document.getElementById("banner-outer-container")):y.default.shouldDisplayFastrakMigrationBanner()?S.reactDomRender(E.createElement(p.SilentlyUnmountErrorBoundary,null,E.createElement(i.FastrakBanner,null)),document.getElementById("banner-outer-container")):w.default.isSoftDeprecated?S.reactDomRender(E.createElement(p.SilentlyUnmountErrorBoundary,null,E.createElement(i.OldBrowserBanner,null)),document.getElementById("banner-outer-container")):!v.isMobile()&&o.default.notice&&o.default.notice.id>=0&&S.reactDomRender(E.createElement(p.SilentlyUnmountErrorBoundary,null,E.createElement(l.default,{
start:o.default.notice.start,end:o.default.notice.end,id:o.default.notice.id,platform:"Paper",messageType:o.default.notice.messageType,customMessage:o.default.notice.text,enabled:!0,dismissible:!0
})),document.getElementById("banner-outer-container"));S.reactDomRender(E.createElement(h.PageErrorBoundary,null,E.createElement(s.default,{initialContext:(0,r.getInitialAppContext)(),ref:function(e){
window.AppContainer=e;e&&e.postAppSetup()}})),document.getElementById("app-container"))}),(function(e){(0,m.pageLoadFreakout)("Exception while navigating to page!",e)}))}
if(o.default.isAppAdmin&&window.clientVars){window.clientVars.didServerRenderFallBackToRhino&&c.default.show(E.createElement(c.default,{autoDismiss:!0,autoDismissDelayMs:5e3,className:"notranslate"
},"Node rendering failed and rhino fallback was used."));window.clientVars.didServerRenderFail&&c.default.show(E.createElement(c.default,{autoDismiss:!0,autoDismissDelayMs:5e3,className:"notranslate"
},"Rhino rendering failed and no server rendering was used."))}f.catchAndWarnOnThrow("script-tag-length-warning",(function(){var e=window.expectedJSONClientVarsScriptTagLength;if(e){
var t=document.getElementById("client-vars-json-tag").childNodes[0].nodeValue.trim().length;if(e!==t)throw new Error("script-tag-length-mismatch [JSON], expected="+e+", actual="+t)}}))
;b.registerSafeWindowOpenHook(u.paperDocInNewTabUrlTransformer);y.default.error.loggingTryCatch((function(){(0,d.initUserSurvey)()}))}window.initializeComposer=function(){return(0,n.loadableReady)(C)}
},622:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SlackApiGroup=t.SlackApiChannel=t.SlackApiUser=t.SlackApiTeam=t.SlackUserInviteStatus=t.SlackInviteErrorCode=void 0;!function(e){
e[e.NoError=1]="NoError";e[e.AuthError=2]="AuthError";e[e.ApiError=3]="ApiError"}(t.SlackInviteErrorCode||(t.SlackInviteErrorCode={}));!function(e){e[e.CanInvite=1]="CanInvite"
;e[e.CantInvite=2]="CantInvite";e[e.AlreadyInvited=3]="AlreadyInvited";e[e.OnPaper=4]="OnPaper"}(t.SlackUserInviteStatus||(t.SlackUserInviteStatus={}));var a=function(){};t.SlackApiTeam=a
;var n=function(){};t.SlackApiUser=n;var r=function(){};t.SlackApiChannel=r;var o=function(){};t.SlackApiGroup=o},624:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(4),r=a(202),o=a(0),s=function(){return o.createElement("div",{id:"main-header-container",className:"hp-header"},o.createElement("header",{id:"main-header"},o.createElement("div",{
className:"main-header-center main-header-left-logged-out"},o.createElement(n.TrackContext,{trackContext:n.AppContext.PadHeader},o.createElement("div",{className:"hp-sidebar-top hp-header-top-logo"
},o.createElement(r.default,{href:"/"}))))))};s.displayName="LogoHeader";t.default=s},637:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n,r=a(1),o=a(3),s=a(8),i=a(2),l=a(11),c=a(10),d=a(29),u=a(28),p=a(14),m=a(0),h=a(13),f=a(4),g=a(17),v=(0,p.MsgFactory)("composer"),y=v.F,b=(0,v.defineMessages)({downloadPaper:{
msg:"Download Paper",description:"Button text: Downloads the Paper app"},openinPaper:{msg:"Open in Paper",description:"Button text: Opens the current view in the Paper app"},
paperisalsoonmobilebreakUsetheapptoenjoythefullexperience:{msg:"{paper} is also on mobile.{break}Use the app to enjoy the full experience."},
signinisrequiredtoaccessthisdocbreakOpenthisdocinpaperorcreateanaccount:{msg:"Sign in is required to access this doc.{break} Open this doc in {paper} or create an account."},
thisdocwascreatedwithpaperbreakUsetheapptoeditandcomment:{msg:"This doc was created with {paper}.{break}Use the app to edit and comment."},thisdocwascreatedwithpaperbreakOpenitintheapp:{
msg:"This doc was created with {paper}.{break}Open it in the app!"},thisdocwascreatedwithpaperbreakGettheapp:{msg:"This doc was created with {paper}.{break}Get the app!"},
welcometopaperbreakGettheapptoenjoythefullexperience:{msg:"Welcome to {paper}.{break} Get the app to enjoy the full experience."},signinorsignup:{msg:"{signin} {or} {signup}"},signin:{msg:"Sign in",
description:"Button text: Redirects to the sign in page."},createanaccount:{msg:"create an account",description:"Button text: Redirects to the sign up page."}});(0,i.defineMessages)({downloadPaper:{
id:"5YDzuF",defaultMessage:"Download Paper"},openinPaper:{id:"2s02M/",defaultMessage:"Open in Paper"},paperisalsoonmobilebreakUsetheapptoenjoythefullexperience:{id:"VnGQjr",
defaultMessage:"{paper} is also on mobile.{break}Use the app to enjoy the full experience."},signinisrequiredtoaccessthisdocbreakOpenthisdocinpaperorcreateanaccount:{id:"6iSJqc",
defaultMessage:"Sign in is required to access this doc.{break} Open this doc in {paper} or create an account."},thisdocwascreatedwithpaperbreakUsetheapptoeditandcomment:{id:"cSfLVN",
defaultMessage:"This doc was created with {paper}.{break}Use the app to edit and comment."},thisdocwascreatedwithpaperbreakOpenitintheapp:{id:"n8bl40",
defaultMessage:"This doc was created with {paper}.{break}Open it in the app!"},thisdocwascreatedwithpaperbreakGettheapp:{id:"HNQxY+",
defaultMessage:"This doc was created with {paper}.{break}Get the app!"},welcometopaperbreakGettheapptoenjoythefullexperience:{id:"nvM4aI",
defaultMessage:"Welcome to {paper}.{break} Get the app to enjoy the full experience."},signinorsignup:{id:"NFqdDw",defaultMessage:"{signin} {or} {signup}"},signin:{id:"+SBeju",defaultMessage:"Sign in"
},createanaccount:{id:"mCL3SW",defaultMessage:"create an account"}});!function(e){e[e.iOS=0]="iOS";e[e.Android=1]="Android";e[e.None=2]="None"}(n||(n={}));var E=function(e){r.__extends(t,e)
;function t(t,a){var r=e.call(this,t,a)||this;r.download=function(){(0,d.locationReplace)("download-clicked",r.paperAppStoreUrl())};r.openInApp=function(){(0,
d.locationReplace)("open-in-app-clicked",r.openInPaperUrl())};r.signUp=function(){(0,d.locationReplace)("sign-up-clicked","https://www.dropbox.com/paper/register")};r.dismiss=function(){
r.state.isDismissed||r.setState({isDismissed:!0})};r.state={deviceType:n.None,isDismissed:!1};return r}t.prototype.paperDocUrl=function(){if(this.props.docPage){var e=g.default.getQueryParams().cont
;return null!=e?e:encodeURIComponent(window.location.href)}return null};t.prototype.openInPaperUrl=function(){var e=this.paperDocUrl();if(this.state.deviceType==n.iOS){var t="dbx-paper"
;return null==e?t+"://":t+"://open-doc?url="+e}return this.state.deviceType==n.Android?null==e?"dropbox://paper":"dropbox://paper/doc/"+e:null};t.prototype.paperAppStoreUrl=function(){
return this.state.deviceType==n.iOS?u.paperIOSAppStoreUrl(s.default.isDropboxer,"mobile_web_popup_banner"):this.state.deviceType==n.Android?u.paperAndroidAppStoreUrl("mobile_web_popup_banner"):null}
;t.prototype.componentWillMount=function(){var e=n.None;if(u.isMobile()){u.isApple()?e=n.iOS:u.isAndroid()&&(e=n.Android);this.setState({deviceType:e})}};t.prototype.componentDidMount=function(){
this.state.isDismissed||this.state.deviceType==n.None||(0,f.trackUi)("View Banner",{context:this.getTrackContext()})};t.prototype.getTrackContext=function(){};t.prototype.render=function(){
if(this.state.isDismissed||this.state.deviceType==n.None)return null;var e=s.default.isSignedIn(),t=this.props.hideDownload&&e?null:m.createElement(c.default,{primary:!0,className:"download-app",
onClick:this.download},m.createElement(y,r.__assign({},b.downloadPaper))),a=this.props.hideOpen&&e?null:m.createElement(c.default,{primary:this.props.hideDownload,secondary:!this.props.hideDownload,
className:"open-in-app",onClick:this.openInApp},m.createElement(y,r.__assign({},b.openinPaper))),i=m.createElement(y,r.__assign({values:{paper:m.createElement("strong",null,"Dropbox Paper"),
break:m.createElement("br",null)}},b.paperisalsoonmobilebreakUsetheapptoenjoythefullexperience));this.props.docPage?i=!e&&this.props.showSignUp?m.createElement(y,r.__assign({values:{
paper:m.createElement("strong",null,"Dropbox Paper"),break:m.createElement("br",null)}
},b.signinisrequiredtoaccessthisdocbreakOpenthisdocinpaperorcreateanaccount)):e||this.props.showSignUp?this.props.hideDownload?m.createElement(y,r.__assign({values:{
paper:m.createElement("strong",null,"Dropbox Paper"),break:m.createElement("br",null)}},b.thisdocwascreatedwithpaperbreakOpenitintheapp)):m.createElement(y,r.__assign({values:{
paper:m.createElement("strong",null,"Dropbox Paper"),break:m.createElement("br",null)}},b.thisdocwascreatedwithpaperbreakGettheapp)):m.createElement(y,r.__assign({values:{
paper:m.createElement("strong",null,"Dropbox Paper"),break:m.createElement("br",null)}
},b.thisdocwascreatedwithpaperbreakUsetheapptoeditandcomment)):this.props.welcomePage&&(i=m.createElement(y,r.__assign({values:{paper:m.createElement("strong",null,"Dropbox Paper"),
break:m.createElement("br",null)}},b.welcometopaperbreakGettheapptoenjoythefullexperience)));var l=null;this.props.fullPage||(l=m.createElement(c.default,{onClick:this.dismiss,
className:"open-in-app-banner-close"},m.createElement(h.default,{name:"close"})));var d=null;this.props.showSignUp&&(d=m.createElement("div",{className:"open-in-app-banner-signup"
},m.createElement(y,r.__assign({values:{signin:m.createElement(c.default,{onClick:this.props.signIn,className:"signin"},m.createElement(y,r.__assign({},b.signin))),or:m.createElement("span",{
className:"open-in-app-banner-signup-text"},"or"),signup:m.createElement(c.default,{onClick:this.signUp,className:"signup"},m.createElement(y,r.__assign({},b.createanaccount)))}},b.signinorsignup))))
;var u=o("open-in-app-banner-container",{fullpage:this.props.fullPage});return m.createElement("div",{id:"hp-open-in-app-banner-container",className:u},m.createElement("div",{
id:"hp-open-in-app-banner",className:"open-in-app-banner"},l,m.createElement("div",{className:"open-in-app-banner-icon"},m.createElement("img",{
src:"/static/img/paper-native-icons/paper-native-new-icon-152.png"})),m.createElement("div",{className:"open-in-app-banner-title"},i),t,a,d))};t.displayName="OpenInAppBanner";t.defaultProps={
hideDownload:!1,hideOpen:!1,fullPage:!1,docPage:!1,welcomePage:!1,showSignUp:!1,signIn:null};return t=r.__decorate([l.default,f.trackContextDecorator],t)}(m.PureComponent);t.default=E},
638:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SamplePadTypes=void 0;var a=function(){function e(){}e.isValidSampleType=function(t){
return t==e.Brainstorm||t==e.InfluencerYB||t==e.PublicDocProductionBrief||t==e.MeetingNotes||t==e.MeetingNotesTemplate||t==e.MeetingNotesTemplateV2||t==e.ProjectProposal||t==e.ToDos||t==e.Intro||t==e.IntroV2||t==e.BrainstormTemplate||t==e.Embed||t==e.TasklistTemplate||t==e.ProjectPlanTemplate||t==e.WeeklyTaskTemplate||t==e.OnboardingProjectTasklist||t==e.WordDocTemplate||t==e.TeamSpaceGuide||t==e.TeamSpaceAdminTodoList||t==e.CreateNewTemplate||t==e.Timeline
};e.Brainstorm="brainstorm";e.InfluencerYB="fuseproject";e.PublicDocProductionBrief="paper_campaign_production_brief";e.MeetingNotes="meeting-notes";e.MeetingNotesTemplate="meeting-notes-template"
;e.MeetingNotesTemplateV2="meeting-notes-template-v2";e.ProjectProposal="project-proposal";e.ToDos="to-dos";e.Intro="intro";e.IntroV2="intro_v2";e.BrainstormTemplate="brainstorm-template"
;e.Embed="embed";e.TasklistTemplate="tasklist";e.ProjectPlanTemplate="project-plan";e.WeeklyTaskTemplate="weekly-tasks";e.OnboardingProjectTasklist="onboarding-project-task-list"
;e.WordDocTemplate="word-doc-template";e.TeamSpaceGuide="team-space-guide";e.TeamSpaceAdminTodoList="team-space-admin-todo-list";e.CreateNewTemplate="create-new-template";e.Timeline="timeline"
;e.TableProjectPlan="table-project-plan";return e}();t.SamplePadTypes=a},905:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(374),o=a(4),s=a(89),i=a(25),l=a(47),c=a(8),d=a(2),u=a(383),p=a(1724),m=a(11),h=a(906),f=a(10),g=a(73),v=a(274),y=a(7),b=a(907),E=a(858),k=a(14),_=a(377),S=a(315),w=a(464),C=a(45),P=a(5),I=a(23),T=a(0),N=a(380),M=a(275),A=a(52),x=a(150),O=a(369),D=a(4),L=(0,
P.PaperIntlFactory)().FormattedDate,F=(0,k.MsgFactory)("padlist"),U=F.defineMessages,R=F.IntlMessageFormat,B=F.F,W=U({pageTitle:{msg:"Docs"},createwithtemplates:{msg:"Create with templates",
description:"Create a doc from a template"},createclouddoc:{msg:"Create cloud doc",description:"Create a document that lives in the dropbox file system"},createnewdoc:{msg:"Create new doc",
description:"Button label for creating a new Paper document."},youhavedayspluralonedayotherdaystorestoreadocafteritsdeleted:{
msg:"You have {days, plural, one {1 day} other {# days}} to restore a doc after it's deleted."},ifyouarchivedadocbeforedateanditsnowdeletedyoucanrearchive:{
msg:"If you archived a doc before {date}, and it's now deleted, you can re-archive.",description:"Users can archive again a doc that they archived before {date}, as those are considered deleted now"},
showpreviouslyarchiveddocs:{msg:"Show previously archived docs",description:"Button label to filter user's docs that where archived in the past."},
torearchivehoveroveradocselectthecheckboxthatappearsthenclicktheboldArchivelink:{msg:"To re-archive, hover over a doc, select the checkbox that appears, then click the {boldArchive} link."},archive:{
msg:"Archive",description:"As used in 'then click the Archive button'"},showalldeleteddocs:{msg:"Show all deleted docs",description:"Button label to remove a filter and show all deleted docs."},
welcometoappName:{msg:"Welcome to {appName}!",description:"Greeting to welcome the user to the app."},createanewdocorcheckoutasampledoclineBreaktoseehowotherteamsworktogether:{
msg:"Create a new doc, or check out a sample doc {lineBreak} to see how other teams work together.",description:"Welcoming message on the landing page instructing the user to take an action."},
seeasample:{msg:"See a sample",description:"Button label to see a sample Paper document."},createadoc:{msg:"Create a doc",description:"Button label to create a new Paper document."},yourtrashisempty:{
msg:"Your trash is empty",description:"Message displayed to user when there are no deleted docs."},yourarchiveisempty:{msg:"Your archive is empty",
description:"Message displayed to user when there are no archived docs."},deleted:{msg:"Deleted"},ownedbyme:{msg:"Owned by me"},recentdocs:{msg:"Recent docs"},sharedwithme:{msg:"Shared with me"},
archived:{msg:"Archived"},looking:{msg:"Looking for archived docs? Anything archived before {date} has moved to the Deleted tab.",
description:"Some user's archived docs might not show up in the list under this message anymore. Explaining to the user where else he can find them."}}),H=((0,d.defineMessages)({pageTitle:{
id:"aKQZQi",defaultMessage:"Docs"},createwithtemplates:{id:"QoZ4+r",defaultMessage:"Create with templates"},createclouddoc:{id:"OvZhlq",defaultMessage:"Create cloud doc"},createnewdoc:{id:"P+L1TC",
defaultMessage:"Create new doc"},youhavedayspluralonedayotherdaystorestoreadocafteritsdeleted:{id:"uoElfG",
defaultMessage:"You have {days, plural, one {1 day} other {# days}} to restore a doc after it's deleted."},ifyouarchivedadocbeforedateanditsnowdeletedyoucanrearchive:{id:"2NHypg",
defaultMessage:"If you archived a doc before {date}, and it's now deleted, you can re-archive."},showpreviouslyarchiveddocs:{id:"TsJmYc",defaultMessage:"Show previously archived docs"},
torearchivehoveroveradocselectthecheckboxthatappearsthenclicktheboldArchivelink:{id:"9bEt3u",
defaultMessage:"To re-archive, hover over a doc, select the checkbox that appears, then click the {boldArchive} link."},archive:{id:"waRwQX",defaultMessage:"Archive"},showalldeleteddocs:{id:"ESWokc",
defaultMessage:"Show all deleted docs"},welcometoappName:{id:"Q3PIqI",defaultMessage:"Welcome to {appName}!"},createanewdocorcheckoutasampledoclineBreaktoseehowotherteamsworktogether:{id:"xruDE5",
defaultMessage:"Create a new doc, or check out a sample doc {lineBreak} to see how other teams work together."},seeasample:{id:"7dPhAI",defaultMessage:"See a sample"},createadoc:{id:"KL83LP",
defaultMessage:"Create a doc"},yourtrashisempty:{id:"tsETCr",defaultMessage:"Your trash is empty"},yourarchiveisempty:{id:"rLHPnn",defaultMessage:"Your archive is empty"},deleted:{id:"RBvabN",
defaultMessage:"Deleted"},ownedbyme:{id:"xkg7w5",defaultMessage:"Owned by me"},recentdocs:{id:"TSQV/G",defaultMessage:"Recent docs"},sharedwithme:{id:"9AyoTw",defaultMessage:"Shared with me"},
archived:{id:"7dyBPz",defaultMessage:"Archived"},looking:{id:"LU5zLR",defaultMessage:"Looking for archived docs? Anything archived before {date} has moved to the Deleted tab."}}),function(e){
n.__extends(t,e);function t(t,a){var n=e.call(this,t,a)||this;n.handlePadListDataSourceChange=function(){n.setState({data:n.store.get()});n.onPadListPageUpdated_()};n.onPadListPageUpdated_=function(){
D.trigger("pad-list-page-updated",{pads:n.state.data.entries.length,filter:y.ListViewFilter[n.props.params.filter]})};n.handleCreatePadClick=function(e){n.props.app.handleCreatePadClick(e)
;o.IntentionEvent.CreatePad.track({context:o.AppContext.PadListPage.getContextName()})};n.handleCreateCloudDocClick=function(e){n.props.app.handleCreateCloudDocInNewTabClick(e)
;o.IntentionEvent.CreateCloudDoc.track({context:o.AppContext.PadListPage.getContextName()})};n.createSamplePad=function(){n.props.app.createSamplePad()};n.handleToggle=function(e,t){n.setState({
multiselectState:n.state.multiselectState.handleClick(e,t,(function(){n.setState({multiselectState:n.state.multiselectState.clone()})}))})};n.handleMultiselectActionComplete=function(){n.setState({
multiselectState:new S.MultiselectState});n.store.load()};n.handleSelectionChange=function(e){n.setState({multiselectState:e},(function(){
n.state.multiselectState.checkPermissionsForAllCheckedItems((function(){n.setState({multiselectState:n.state.multiselectState.clone()})}))}))};n.store=new w.default({store:n.context.stores.padList,
filter:n.props.params.filter});n.state={data:n.store.get(),multiselectState:new S.MultiselectState};return n}t.prototype.isLoaded=function(){return this.state.data.isLoaded}
;t.prototype.enter=function(){this.props.app.getLeftNavSidebar().autoOpen()};t.prototype.componentDidMount=function(){if("#settings"==l.default.hash){(0,o.trackEng)("redirect-to-dropbox-settings",{
source:"pad-list-page"});M.redirectToSettings()}var e=new R(W.pageTitle,c.default.userLocale).format();this.props.app.setPageTitle(e);this.store.on("change",this.handlePadListDataSourceChange)
;if("d.gGYVqUSsyvzIOPcs9xg1xFROyRUQVzrfxz0eUJNcReoiHc"==this.context.currentUser.secureUserId||"d.gGYVqUSsyvzIOPcs9xg1xt2T2Os2kWk4QkiDtU2EMgBUDR"==this.context.currentUser.secureUserId){
var t=document.createElement("img");t.className="cc-img";t.src=(0,A.default)("/static/img/composer/cc.png");document.body.appendChild(t)}};t.prototype.componentWillUnmount=function(){
this.store.off("change",this.handlePadListDataSourceChange);this.store.dispose()};t.prototype.renderMultiselectButtons=function(){
var e=this.props.params.filter==y.ListViewFilter.archived,t=this.props.params.filter==y.ListViewFilter.trashed;return T.createElement(_.MultiselectButtons,{
multiselectState:this.state.multiselectState,onComplete:this.handleMultiselectActionComplete,stores:this.context.stores,onSelectionChanged:this.handleSelectionChange,restoreTrash:t,
enableStandardActions:!e&&!t,enableArchivedDocsActions:e,enableRestoreAndPermaDelete:t})};t.prototype.renderActionsMenu=function(){var e,t=T.createElement(r.TertiaryAction,{icon:"action-template"
},T.createElement(B,n.__assign({},W.createwithtemplates))),a=T.createElement(o.TrackContext,{trackContext:o.AppContext.PadListPage.TemplateMenu},T.createElement(O.TemplateMenuButton,{
buttonComponent:t,padPreviewStore:this.context.stores.padPreview,templateListStore:this.context.stores.templateList,app:this.props.app}))
;s.alwaysCreateCloudDocs()&&(e=T.createElement(r.TertiaryAction,{icon:"action-dropbox",onClick:this.handleCreateCloudDocClick},T.createElement(B,n.__assign({},W.createclouddoc))))
;return T.createElement(r.default,{primary:T.createElement(r.PrimaryAction,{onClick:this.handleCreatePadClick},T.createElement(B,n.__assign({},W.createnewdoc)))},e,a,T.createElement(o.TrackContext,{
trackContext:o.AppContext.MeetingNotes.OverflowMenu},T.createElement(E.default,{includeSubtitleDate:!0,includeSubtitleGuestCount:!0,includeSubtitleTime:!0,includeUpcomingEvents:!0,
stores:this.context.stores})))};t.prototype.renderToplines=function(){var e=new Date("Jun 1, 2017"),t=-1!=c.default.trashRetentionPolicy
;return this.props.params.filter==y.ListViewFilter.trashed?T.createElement("div",{className:"hp-tab-topline"},t&&T.createElement(B,n.__assign({values:{days:c.default.trashRetentionPolicy}
},W.youhavedayspluralonedayotherdaystorestoreadocafteritsdeleted)),t&&T.createElement("span",null," "),T.createElement(B,n.__assign({values:{date:T.createElement(L,{value:e,day:"numeric",month:"long",
year:"numeric"})}},W.ifyouarchivedadocbeforedateanditsnowdeletedyoucanrearchive))," ",T.createElement("a",{href:"/docs/deleted?deletedOnly=1",onClick:this.props.app.onLinkClicked
},T.createElement(B,n.__assign({},W.showpreviouslyarchiveddocs)))):this.props.params.filter==y.ListViewFilter.archived?T.createElement("div",{className:"hp-tab-topline"
},T.createElement(B,n.__assign({},W.looking,{values:{date:T.createElement(L,{value:e,day:"numeric",month:"long",year:"numeric"})}
}))," "):this.props.params.filter==y.ListViewFilter.deleted?T.createElement("div",{className:"hp-tab-topline"},T.createElement(B,n.__assign({values:{
boldArchive:T.createElement("b",null,T.createElement(B,n.__assign({},W.archive)))}},W.torearchivehoveroveradocselectthecheckboxthatappearsthenclicktheboldArchivelink))," ",T.createElement("a",{
href:"/docs/deleted",onClick:this.props.app.onLinkClicked},T.createElement(B,n.__assign({},W.showalldeleteddocs)))):null};t.prototype.render=function(){
var e=this.state.data.hasManuallyCreatedAnyPads||this.state.data.entries.length>0
;if(this.state.data.isLoaded&&!e&&this.props.params.filter==y.ListViewFilter.recents)return T.createElement(o.TrackContext,{trackContext:o.AppContext.PadListPage.EmptyState
},T.createElement(C.default,{name:this.props.name,isSelected:this.props.isSelected,className:"hp-non-pad-page hp-folder-page2"},T.createElement("div",{className:"hp-page-inner hp-page-empty-state"
},T.createElement(g.InvertibleImage,{className:"hp-empty-state-hero",src:"/static/img/composer/rebrand/empty-states/empty-docs-tab.png"}),T.createElement("h1",null,T.createElement(B,n.__assign({
values:{appName:"Paper"}},W.welcometoappName))),T.createElement("p",null,T.createElement(B,n.__assign({values:{lineBreak:T.createElement("br",null)}
},W.createanewdocorcheckoutasampledoclineBreaktoseehowotherteamsworktogether))),T.createElement("div",{className:"hp-page-empty-state-actions dmc-button-pair-full"},T.createElement(f.default,{
secondary:!0,"data-track":"notes-page-empty-state-sample-clicked",onClick:this.createSamplePad},T.createElement(B,n.__assign({},W.seeasample))),T.createElement(f.default,{primary:!0,
"data-track":"notes-page-empty-state-create-clicked",onClick:this.handleCreatePadClick},T.createElement(B,n.__assign({},W.createadoc)))))));var t,a=this.state.data.entries.map((function(e){
return e.pad})),r=T.createElement(h.default,{app:this.props.app,stores:this.context.stores,includeDocs:!0,scrollSelector:"#hp-page-pad-list"
}),s=this.props.params.filter==y.ListViewFilter.deleted?y.ListViewFilter.trashed:this.props.params.filter,i=T.createElement(N.default,{scrollSelector:"#hp-page-pad-list",
offsetHeightSelector:".hp-list-page-header"},T.createElement(p.default,{filter:s,onChange:this.props.app.onLinkClicked}),T.createElement(j,{filter:s,onChange:this.props.app.onUiTabClicked}))
;t=this.state.data.isLoaded?0==a.length&&this.props.params.filter==y.ListViewFilter.trashed?T.createElement("div",{className:"hp-page-inner"},r,T.createElement("div",{
className:"hp-scroll-locking-section"},i,T.createElement("div",{className:"hp-page-empty-state"},T.createElement(g.InvertibleImage,{className:"hp-empty-state-hero",
src:"/static/img/composer/rebrand/empty-states/empty-docs-tab.png"
}),T.createElement("p",null,T.createElement("strong",null,T.createElement(B,n.__assign({},W.yourtrashisempty))))))):0==a.length&&this.props.params.filter==y.ListViewFilter.archived?T.createElement("div",{
className:"hp-page-inner"},r,T.createElement("div",{className:"hp-scroll-locking-section"},i,this.renderToplines(),T.createElement("div",{className:"hp-page-empty-state"
},T.createElement(g.InvertibleImage,{className:"hp-empty-state-hero",src:"/static/img/composer/rebrand/empty-states/empty-docs-tab.png"
}),T.createElement("p",null,T.createElement("strong",null,T.createElement(B,n.__assign({},W.yourarchiveisempty))))))):T.createElement("div",{className:"hp-page-inner"},r,T.createElement("div",{
className:"hp-scroll-locking-section"},i,this.renderToplines(),T.createElement("div",{className:"hp-pad-list-page-pads"},T.createElement(u.default,{data:this.state.data,
multiselectState:this.state.multiselectState,app:this.props.app,stores:this.context.stores,trackListView:"pad-list-page-"+this.props.params.filter,sortOrder:this.props.params.filter,
onToggle:this.handleToggle})))):T.createElement("div",{className:"hp-page-inner"},T.createElement(b.default,null));return T.createElement(o.TrackContext,{trackContext:o.AppContext.PadListPage
},T.createElement(C.default,{className:"hp-non-pad-page hp-pad-list-page",name:this.props.name,isSelected:this.props.isSelected},T.createElement(v.default,{
title:T.createElement(B,n.__assign({},W.pageTitle)),app:this.props.app,hasTabs:!0},this.renderActionsMenu(),this.renderMultiselectButtons()),T.createElement(o.TrackContext,{
trackContext:o.AppContext.PadListPage[this.props.params.filter]},t)))};t.displayName="PadListPage";t.contextTypes={currentUser:I.object.isRequired,stores:I.object.isRequired}
;return t=n.__decorate([m.default],t)}(T.Component)),j=(0,i.createReactClass)({displayName:"TabbedFilterSelector",render:function(){var e=T.createElement(x.default,{value:y.ListViewFilter.trashed,
selected:this.props.filter,href:"/docs/deleted",linkHandler:this.props.onChange,className:"selenium-doc-list-deleted-tab"},T.createElement(B,n.__assign({},W.deleted))),t=T.createElement(x.default,{
value:y.ListViewFilter.ownedByMe,selected:this.props.filter,href:"/docs/owned-by-me",linkHandler:this.props.onChange},T.createElement(B,n.__assign({},W.ownedbyme)));return T.createElement("div",{
className:"hp-tabs"},T.createElement(x.default,{value:y.ListViewFilter.recents,selected:this.props.filter,href:"/docs",linkHandler:this.props.onChange,isDefault:!0
},T.createElement(B,n.__assign({},W.recentdocs))),t,T.createElement(x.default,{value:y.ListViewFilter.sharedWithMe,selected:this.props.filter,href:"/docs/shared-with-me",
linkHandler:this.props.onChange},T.createElement(B,n.__assign({},W.sharedwithme))),T.createElement(x.default,{className:"selenium-doc-list-archived-tab",value:y.ListViewFilter.archived,
selected:this.props.filter,href:"/docs/archived",linkHandler:this.props.onChange},T.createElement(B,n.__assign({},W.archived))),e)}});t.default=H},906:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(6),o=a(3),s=a(2),i=a(383),l=a(7),c=a(11),d=a(138),u=a(372),p=a(0),m=a(1725),h=a(380),f=a(866),g=(0,a(5).PaperIntlFactory)().F,v=(0,
s.defineMessages)({starred:{id:"5hVhqA",defaultMessage:"Starred"}}),y=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleListChange=function(){var e=a.store.get()
;a.props.reportImpressionMetrics&&a.props.reportImpressionMetrics({numFavorites:e.entries.length});a.setState({data:e})};a.handleViewMoreClicked=function(){a.setState({isExpanded:!a.state.isExpanded})
};a.store=new u.default({padListStore:a.props.includeDocs?a.props.stores.padList:void 0,folderListStore:a.props.includeFolders?a.props.stores.folderList:void 0,filter:l.ListViewFilter.recentFavorites,
includeFolders:a.props.includeFolders});a.state={data:a.store.get(),isExpanded:!1};return a}t.prototype.componentDidMount=function(){this.store.on("change",this.handleListChange)}
;t.prototype.componentWillUnmount=function(){this.store.off("change",this.handleListChange);this.store.dispose()};t.prototype.render=function(){
if(!this.state.data.isLoaded)return p.createElement("div",null,"Loading");if(0==this.state.data.entries.length)return null;var e=r.clone(this.state.data)
;this.state.renderHiddenThings?this.state.isExpanded||(e.entries=e.entries.slice(0,8)):e.entries=e.entries.slice(0,5);return p.createElement("div",{
className:"hp-homepage-section hp-scroll-locking-section"},p.createElement(h.default,{scrollSelector:this.props.scrollSelector,offsetHeightSelector:".hp-list-page-header"},p.createElement("div",{
className:"hp-homepage-section-header"},p.createElement("h2",{style:{borderBottom:"1px solid #e6e8eb"}},p.createElement(g,n.__assign({},v.starred))),p.createElement(f.default,{
count:this.state.data.entries.length,numRows:2,isExpanded:this.state.isExpanded,onClick:this.handleViewMoreClicked}))),p.createElement("div",{className:o({"hp-homepage-section-entries":!0,
"hp-homepage-favorites":!0,"selenium-homepage-favorites":!0,"hp-homepage-section-expanded":this.state.isExpanded})},p.createElement(i.default,{data:e,app:this.props.app,stores:this.props.stores,
trackListView:"homepage-favorites",sortOrder:l.ListViewFilter.openedByMe,hideSharingStatus:!0,statusRenderer:m.recentNotificationsStatusRenderer,includeDefaultStatusText:!1})))}
;t.displayName="HomePageFavorites";return t=n.__decorate([c.default,d.default],t)}(p.PureComponent);t.default=y},907:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(13),r=a(0),o=function(){return r.createElement("div",{className:"hp-list-placeholder"},r.createElement(n.default,{name:"page-list-skeletons"}),r.createElement("div",{
className:"animated-layer"}),r.createElement("div",{className:"vertical-gradient-layer"}))};o.displayName="LoadingListPlaceholder";o.displayName="LoadingListPlaceholder";t.default=o},
967:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(134),o=a(90),s=a(2),i=a(54),l=a(7),c=a(12),d=a(87),u=a(10),p=a(29),m=a(225),h=a(45),f=a(5),g=a(0),v=a(32),y=a(396),b=a(84),E=(0,
f.PaperIntlFactory)(),k=E.FormattedDate,_=E.F,S=E._f,w=(0,s.defineMessages)({title:{id:"oDbZJp",defaultMessage:"Revert Document"},unabletoloadrevision:{id:"l0/Is/",
defaultMessage:"Unable to load revision."},failedtoundochange:{id:"weV+S7",defaultMessage:"Failed to undo change."},replaceoriginal:{id:"ryAVW/",defaultMessage:"Replace original"},
replaceoriginaldocwithbackupversion:{id:"YaZUQn",defaultMessage:"Replace original doc with backup version?"},versionrevNumnumber:{id:"9xx6si",defaultMessage:"Version #{revNum, number}"},
versionpoundSignrevNumnumber:{id:"A6i3x9",defaultMessage:"Version {poundSign}{revNum, number}"},backupversion:{id:"2oogxV",defaultMessage:"Backup version"},gobacktocurrentdoc:{id:"Xc+igS",
defaultMessage:"Go back to current doc"},revisionrevNumnumberfromdate:{id:"V+NUah",defaultMessage:"Revision #{revNum, number} from {date}"},revisionpoundSignrevNumnumberfromdate:{id:"60yUvz",
defaultMessage:"Revision {poundSign}{revNum, number} from {date}"},updating:{id:"VoQD45",defaultMessage:"Updating…"},undoing:{id:"vm6q0q",defaultMessage:"Undoing…"},replaceoriginalwiththisversion:{
id:"PECylA",defaultMessage:"Replace original with this version"},rollbacktothisversion:{id:"Z7fpFw",defaultMessage:"Roll back to this version"},undotohere:{id:"WMBDdn",defaultMessage:"Undo to here"},
continue:{id:"3lLyRm",defaultMessage:"If you continue, {docTitle} will be replaced with the version you’re looking at here."}}),C=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.state={ace:null,isReverting:!1,appContext:(0,d.getInitialAppContext)()};t.handleAceCreated=function(e){t.setState({ace:e})};t.onClickRevert=function(){
if("obj"===t.state.currentRev.type&&t.state.currentRev.reason==l.ExtraRevisionCreationReason.SEVLaconicBadger){
var e=g.createElement("strong",null,t.state.ace.contents.getTitle()),a=g.createElement(_,n.__assign({},w.replaceoriginal)),r=g.createElement(_,n.__assign({},w.replaceoriginaldocwithbackupversion)),s=g.createElement(_,n.__assign({},w.continue,{
values:{docTitle:e}}));o.confirm(r,s,(function(){return t.revertToHere()}),{confirmText:a})}else t.revertToHere()};return t}t.prototype.componentDidMount=function(){var e=this
;document.body.classList.add("hp-sidebar-hide-hamburger");this.props.app.setPageTitle(S(w.title));c.get({url:"/pad/versions/fetch-revision",data:{padId:this.props.params.padId,
rev:this.props.params.rev,objId:this.props.params.objId},analyticsTag:"pad-fetch-revision",shardingKey:c.getShardingKeyForPad(this.props.params.padId),successHandler:function(t){t&&e.setState({
pool:t.pool,zatext:t.zatext,objectStore:new m.default(t.objectStore,null),currentRev:t.currentRev,prevRev:t.prevRev,nextRev:t.nextRev,prevSegmentRev:t.prevSegmentRev,nextSegmentRev:t.nextSegmentRev})
},errorModalMessage:g.createElement(_,n.__assign({},w.unabletoloadrevision))})};t.prototype.componentWillUnmount=function(){document.body.classList.remove("hp-sidebar-hide-hamburger")
;this.state.ace&&y.SidebarCommentsUI.dispose(this.state.ace)};t.prototype.enter=function(){this.props.app.getLeftNavSidebar().setVisible(!1)};t.prototype.shouldLeftNavSidebarOpenByDefault=function(){
return!1};t.prototype.revertToHere=function(){var e=this;this.setState({isReverting:!0});c.post({url:"/pad/versions/revert",data:{padId:this.props.params.padId,
revisionId:"rev"===this.state.currentRev.type?this.state.currentRev.rev:void 0,objId:"obj"===this.state.currentRev.type?this.state.currentRev.objId:void 0},analyticsTag:"pad-revert",
shardingKey:c.getShardingKeyForPad(this.props.params.padId),successHandler:function(t){(0,p.locationAssign)("version_history_list-goToPad","/doc/"+e.props.params.padId)},
errorModalMessage:g.createElement(_,n.__assign({},w.failedtoundochange))})};t.prototype.render=function(){if(!this.state||!this.state.currentRev)return g.createElement(h.default,{
className:"hp-non-pad-page",name:this.props.name,isSelected:this.props.isSelected},g.createElement("div",{className:"thin-spinny-wrapper loading"},g.createElement("div",{className:"thin-spinny"})))
;var e,t=!1;if("rev"===this.state.currentRev.type)e=g.createElement(_,n.__assign({values:{revNum:this.state.currentRev.rev}},w.versionrevNumnumber));else{
e=g.createElement(_,n.__assign({},w.backupversion));t=this.state.currentRev.reason==l.ExtraRevisionCreationReason.SEVLaconicBadger}var a=t?null:g.createElement("div",{
className:"hp-revert-pad-jump-buttons"
},this.renderJumpButton(this.state.prevSegmentRev,"«"),this.renderJumpButton(this.state.prevRev,"‹"),this.renderJumpButton(this.state.nextRev,"›"),this.renderJumpButton(this.state.nextSegmentRev,"»")),o=v.relativePrettyPaperDocUrl(this.props.params.padId)
;return g.createElement(h.default,{className:"hp-non-pad-page",name:this.props.name,isSelected:this.props.isSelected},g.createElement("div",{className:"hp-revert-pad-controls"},g.createElement("div",{
className:"hp-revert-pad-status"},g.createElement("div",{className:"hp-revert-pad-status-text"},e),g.createElement("div",{className:"hp-revert-pad-status-date"},g.createElement(k,{
value:new Date(this.state.currentRev.date),year:"numeric",day:"numeric",month:"long",hour:"numeric",minute:"numeric"}))),a,g.createElement("div",{className:"hp-revert-pad-revert-button"
},g.createElement(P,{onClick:this.onClickRevert,currentRev:this.state.currentRev,isReverting:this.state.isReverting})),g.createElement(u.default,{secondary:!0,href:o
},g.createElement(_,n.__assign({},w.gobacktocurrentdoc)))),g.createElement("div",{className:"hp-page-inner"},g.createElement("div",{id:"padpage-container"},g.createElement("div",{id:"padpage"
},g.createElement("div",{id:"padeditor"},g.createElement(r.default,{id:"revert-editor",className:"hp-editor",type:"static",onAceCreated:this.handleAceCreated,content:{zatext:this.state.zatext,
apool:this.state.pool},readonlyObjectStore:this.state.objectStore,padId:this.props.params.padId,editableState:i.EditableState.Readonly,toolbar:!1,stores:this.state.appContext.stores
})),this.renderCommentsSidebar()))))};t.prototype.renderCommentsSidebar=function(){var e=this;return this.state.ace&&this.state.ace.hasFeature("comments")?g.createElement("div",{id:"comments-sidebar"
},g.createElement(y.SidebarCommentsUI,{mainAce:this.state.ace,stores:this.state.appContext.stores,comments:this.state.ace.comments,ref:function(t){t&&e.state.ace.commentsController.linkCommentsUI(t)}
})):null};t.prototype.renderJumpButton=function(e,t){if(!e)return g.createElement("span",{className:"revert-placeholder-button"});if("rev"!==e.type)throw new Error("type "+e.type+" not implemented")
;return g.createElement(u.default,{className:"notranslate",secondary:!0,href:"/doc/revert/"+this.props.params.padId+"/"+e.rev,tooltip:g.createElement(_,n.__assign({values:{revNum:e.rev,
date:g.createElement(b.TimeAgo,{date:e.date})}},w.revisionrevNumnumberfromdate))},t)};t.displayName="RevertPadPage";return t}(g.Component);t.default=C;var P=function(e){
var t,a=e.currentRev,r="obj"===a.type&&a.reason==l.ExtraRevisionCreationReason.SEVLaconicBadger
;t=e.isReverting?r?g.createElement(_,n.__assign({},w.updating)):g.createElement(_,n.__assign({},w.undoing)):r?g.createElement(_,n.__assign({},w.replaceoriginalwiththisversion)):g.createElement(_,n.__assign({},w.rollbacktothisversion))
;return g.createElement(u.default,{primary:!0,onClick:e.onClick,disabled:e.isReverting},t)};P.displayName="RevertButton"},968:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})
;t.HACKPAD_PERSONAL_DOCS_DOMAIN=void 0;t.HACKPAD_PERSONAL_DOCS_DOMAIN="<<private-network>>"}}]);

//# sourceMappingURL=https://paper.dropbox.com/static/sourcemap/84df779d7286e2af5cf6.1HxFMagU4B0FirQOIGOzlkoVtEBIYNOoMwHgwA0eG_I.js.map