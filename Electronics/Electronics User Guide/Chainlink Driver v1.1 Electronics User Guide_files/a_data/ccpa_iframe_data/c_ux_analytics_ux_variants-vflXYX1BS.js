define(["exports","./c_tslib","./c_apex-metrics_src_types","./e_privacy_consent_static_ccpa_iframe","./c_src_sink_index","./e_core_exception","./e_edison","./c_core_exception_info"],(function(e,n,t,a,o,r,i,s){"use strict";class _ extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new _).fromBinary(e,n)}static fromJson(e,n){return(new _).fromJson(e,n)}static fromJsonString(e,n){return(new _).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(_,e,n)}}var m,E,l,c,u;_.runtime=t.proto3,_.typeName="hql_events.TaxonomyAction",_.fields=t.proto3.util.newFieldList((()=>[])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.START=1]="START",e[e.FOREGROUND=2]="FOREGROUND",e[e.SHOWN=3]="SHOWN",e[e.HOVER=4]="HOVER",e[e.SCROLL=5]="SCROLL",e[e.SEARCH=6]="SEARCH",e[e.SELECT=7]="SELECT",e[e.PIN=8]="PIN",e[e.UNPIN=9]="UNPIN",e[e.MOVE=10]="MOVE",e[e.RENAME=11]="RENAME",e[e.COPY=12]="COPY",e[e.DELETE=13]="DELETE",e[e.OPEN=14]="OPEN",e[e.CREATE=15]="CREATE",e[e.VERSION_HISTORY=16]="VERSION_HISTORY",e[e.DOWNLOAD=17]="DOWNLOAD",e[e.TRANSFER=18]="TRANSFER",e[e.COMMENT=19]="COMMENT",e[e.STAR=20]="STAR",e[e.UNSTAR=21]="UNSTAR",e[e.UPLOAD=22]="UPLOAD",e[e.REQUEST=23]="REQUEST",e[e.REWIND_HISTORY=24]="REWIND_HISTORY",e[e.SHARE=25]="SHARE",e[e.EDIT=26]="EDIT",e[e.PREVIEW=27]="PREVIEW",e[e.INITIATE=28]="INITIATE",e[e.FAIL=29]="FAIL",e[e.SUCCEED=30]="SUCCEED",e[e.ATTEMPT=31]="ATTEMPT",e[e.PREVIEW_RENDER_SUCCEEDED=32]="PREVIEW_RENDER_SUCCEEDED",e[e.DISMISS=33]="DISMISS",e[e.HEARTBEAT=34]="HEARTBEAT",e[e.CONTINUE=35]="CONTINUE"}(m||(m={})),t.proto3.util.setEnumType(m,"hql_events.TaxonomyAction.Action",[{no:0,name:"UNSPECIFIED"},{no:1,name:"START"},{no:2,name:"FOREGROUND"},{no:3,name:"SHOWN"},{no:4,name:"HOVER"},{no:5,name:"SCROLL"},{no:6,name:"SEARCH"},{no:7,name:"SELECT"},{no:8,name:"PIN"},{no:9,name:"UNPIN"},{no:10,name:"MOVE"},{no:11,name:"RENAME"},{no:12,name:"COPY"},{no:13,name:"DELETE"},{no:14,name:"OPEN"},{no:15,name:"CREATE"},{no:16,name:"VERSION_HISTORY"},{no:17,name:"DOWNLOAD"},{no:18,name:"TRANSFER"},{no:19,name:"COMMENT"},{no:20,name:"STAR"},{no:21,name:"UNSTAR"},{no:22,name:"UPLOAD"},{no:23,name:"REQUEST"},{no:24,name:"REWIND_HISTORY"},{no:25,name:"SHARE"},{no:26,name:"EDIT"},{no:27,name:"PREVIEW"},{no:28,name:"INITIATE"},{no:29,name:"FAIL"},{no:30,name:"SUCCEED"},{no:31,name:"ATTEMPT"},{no:32,name:"PREVIEW_RENDER_SUCCEEDED"},{no:33,name:"DISMISS"},{no:34,name:"HEARTBEAT"},{no:35,name:"CONTINUE"}]);class T extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new T).fromBinary(e,n)}static fromJson(e,n){return(new T).fromJson(e,n)}static fromJsonString(e,n){return(new T).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(T,e,n)}}T.runtime=t.proto3,T.typeName="hql_events.TaxonomyClass",T.fields=t.proto3.util.newFieldList((()=>[])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SEE_AND_CLICK=1]="SEE_AND_CLICK",e[e.FILE_ACTIONS=2]="FILE_ACTIONS",e[e.FEATURE=3]="FEATURE"}(E||(E={})),t.proto3.util.setEnumType(E,"hql_events.TaxonomyClass.ClassName",[{no:0,name:"UNSPECIFIED"},{no:1,name:"SEE_AND_CLICK"},{no:2,name:"FILE_ACTIONS"},{no:3,name:"FEATURE"}]);class N extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new N).fromBinary(e,n)}static fromJson(e,n){return(new N).fromJson(e,n)}static fromJsonString(e,n){return(new N).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(N,e,n)}}N.runtime=t.proto3,N.typeName="hql_events.TaxonomySubclass",N.fields=t.proto3.util.newFieldList((()=>[])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHARE=1]="SHARE"}(l||(l={})),t.proto3.util.setEnumType(l,"hql_events.TaxonomySubclass.SubclassName",[{no:0,name:"UNSPECIFIED"},{no:1,name:"SHARE"}]);class d extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new d).fromBinary(e,n)}static fromJson(e,n){return(new d).fromJson(e,n)}static fromJsonString(e,n){return(new d).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(d,e,n)}}d.runtime=t.proto3,d.typeName="hql_events.TaxonomyAppSurface",d.fields=t.proto3.util.newFieldList((()=>[])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DESKTOP_COLLAB_BROWSE=1]="DESKTOP_COLLAB_BROWSE",e[e.DESKTOP_TRAY=2]="DESKTOP_TRAY",e[e.WEB=3]="WEB",e[e.NATIVE=4]="NATIVE",e[e.HARMONY=5]="HARMONY"}(c||(c={})),t.proto3.util.setEnumType(c,"hql_events.TaxonomyAppSurface.AppSurface",[{no:0,name:"UNSPECIFIED"},{no:1,name:"DESKTOP_COLLAB_BROWSE"},{no:2,name:"DESKTOP_TRAY"},{no:3,name:"WEB"},{no:4,name:"NATIVE"},{no:5,name:"HARMONY"}]);class A extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new A).fromBinary(e,n)}static fromJson(e,n){return(new A).fromJson(e,n)}static fromJsonString(e,n){return(new A).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(A,e,n)}}A.runtime=t.proto3,A.typeName="hql_events.TaxonomyActionSurface",A.fields=t.proto3.util.newFieldList((()=>[])),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SIGN_IN_PAGE=1]="SIGN_IN_PAGE",e[e.SIGN_IN_DBX_PAGE=2]="SIGN_IN_DBX_PAGE",e[e.SIGN_IN_GOOGLE_MODAL=3]="SIGN_IN_GOOGLE_MODAL",e[e.INTERSTITIAL_GOOGLE_ACCOUNTS_PAGE=4]="INTERSTITIAL_GOOGLE_ACCOUNTS_PAGE",e[e.SIGNUP_PAGE=5]="SIGNUP_PAGE",e[e.START_MENU=6]="START_MENU",e[e.START_DOCK=7]="START_DOCK",e[e.TRAY_ICON=8]="TRAY_ICON",e[e.NOTIFICATIONS_TAB=9]="NOTIFICATIONS_TAB",e[e.RECENT_TAB=10]="RECENT_TAB",e[e.FOR_YOU_TAB=11]="FOR_YOU_TAB",e[e.RECENT_YOU_SUB_TAB=12]="RECENT_YOU_SUB_TAB",e[e.RECENT_TEAM_SUB_TAB=13]="RECENT_TEAM_SUB_TAB",e[e.CALENDAR_EVENT_MENU=14]="CALENDAR_EVENT_MENU",e[e.SHARING_MODAL=15]="SHARING_MODAL",e[e.TOP_BAR=16]="TOP_BAR",e[e.FOR_YOU_TABS=17]="FOR_YOU_TABS",e[e.SEARCH_RESULTS=18]="SEARCH_RESULTS",e[e.TOP_BAR_CREATE_MENU=19]="TOP_BAR_CREATE_MENU",e[e.TRAY_MENU=20]="TRAY_MENU",e[e.CENTER_PANE=21]="CENTER_PANE",e[e.PLUS_CANCEL_SURVEY_MODAL=22]="PLUS_CANCEL_SURVEY_MODAL",e[e.PROFILE_MENU=23]="PROFILE_MENU",e[e.BROWSER_WINDOW=24]="BROWSER_WINDOW",e[e.RIGHT_PANE=25]="RIGHT_PANE",e[e.CENTER_PANE_PLAN_TAB=26]="CENTER_PANE_PLAN_TAB",e[e.CENTER_PANE_GENERAL_TAB=27]="CENTER_PANE_GENERAL_TAB",e[e.CENTER_PANE_BILLING_TAB=28]="CENTER_PANE_BILLING_TAB",e[e.CENTER_PANE_PERSON=29]="CENTER_PANE_PERSON",e[e.CENTER_PANE_STARRED=30]="CENTER_PANE_STARRED",e[e.CENTER_PANE_CREATE_CONTEXT_MENU=31]="CENTER_PANE_CREATE_CONTEXT_MENU",e[e.CENTER_PANE_VIEW_CONTEXT_MENU=32]="CENTER_PANE_VIEW_CONTEXT_MENU",e[e.LEFT_PANE=33]="LEFT_PANE",e[e.RIGHT_PANE_SHARE_CONTEXT_MENU=34]="RIGHT_PANE_SHARE_CONTEXT_MENU",e[e.APP_ICON=35]="APP_ICON",e[e.RIGHT_PANE_PERSON=36]="RIGHT_PANE_PERSON",e[e.RIGHT_PANE_CONTEXT_MENU=37]="RIGHT_PANE_CONTEXT_MENU",e[e.RIGHT_PANE_OPEN_CONTEXT_MENU=38]="RIGHT_PANE_OPEN_CONTEXT_MENU",e[e.APPLICATION_MENU=39]="APPLICATION_MENU",e[e.CAROUSEL_ONBOARDING_WINDOW=40]="CAROUSEL_ONBOARDING_WINDOW",e[e.CONNECT_APP_WINDOW=41]="CONNECT_APP_WINDOW",e[e.ONBOARDING_TOOLTIP=42]="ONBOARDING_TOOLTIP",e[e.RIGHT_PANE_PIN_CONTEXT_MENU=43]="RIGHT_PANE_PIN_CONTEXT_MENU",e[e.SPACE_EXAMPLE_MODAL=44]="SPACE_EXAMPLE_MODAL",e[e.TEAM_CANCEL_SURVEY_MODAL=45]="TEAM_CANCEL_SURVEY_MODAL",e[e.MOVE_MODAL=46]="MOVE_MODAL",e[e.ACCOUNT_CONTEXT_MENU=47]="ACCOUNT_CONTEXT_MENU",e[e.BOTTOM_BAR=48]="BOTTOM_BAR",e[e.SYNC_QUEUE=49]="SYNC_QUEUE",e[e.PLAN_CHANGE_MODAL=50]="PLAN_CHANGE_MODAL",e[e.MAGIC_PAIRING_WINDOW=51]="MAGIC_PAIRING_WINDOW",e[e.CONTEXT_MENU=52]="CONTEXT_MENU",e[e.SNACKBAR=53]="SNACKBAR",e[e.FILE_SYSTEM_WARNING=54]="FILE_SYSTEM_WARNING",e[e.SCREENSHOT=55]="SCREENSHOT",e[e.SCREEN_RECORDING=56]="SCREEN_RECORDING",e[e.REEL_HOME_PAGE=57]="REEL_HOME_PAGE",e[e.REEL_VIDEO_PAGE=58]="REEL_VIDEO_PAGE",e[e.COMMERCE_HOME_PAGE=59]="COMMERCE_HOME_PAGE",e[e.COMMERCE_CREATE_LISTING_PAGE=60]="COMMERCE_CREATE_LISTING_PAGE",e[e.COMMERCE_SELLER_LISTING_PAGE=61]="COMMERCE_SELLER_LISTING_PAGE",e[e.COMMERCE_BUYER_PAGE=62]="COMMERCE_BUYER_PAGE",e[e.COMMERCE_STRIPE_ONBOARDING_PAGE=63]="COMMERCE_STRIPE_ONBOARDING_PAGE",e[e.ESSENTIAL_SETUP_PAGE=64]="ESSENTIAL_SETUP_PAGE"}(u||(u={})),t.proto3.util.setEnumType(u,"hql_events.TaxonomyActionSurface.ActionSurface",[{no:0,name:"UNSPECIFIED"},{no:1,name:"SIGN_IN_PAGE"},{no:2,name:"SIGN_IN_DBX_PAGE"},{no:3,name:"SIGN_IN_GOOGLE_MODAL"},{no:4,name:"INTERSTITIAL_GOOGLE_ACCOUNTS_PAGE"},{no:5,name:"SIGNUP_PAGE"},{no:6,name:"START_MENU"},{no:7,name:"START_DOCK"},{no:8,name:"TRAY_ICON"},{no:9,name:"NOTIFICATIONS_TAB"},{no:10,name:"RECENT_TAB"},{no:11,name:"FOR_YOU_TAB"},{no:12,name:"RECENT_YOU_SUB_TAB"},{no:13,name:"RECENT_TEAM_SUB_TAB"},{no:14,name:"CALENDAR_EVENT_MENU"},{no:15,name:"SHARING_MODAL"},{no:16,name:"TOP_BAR"},{no:17,name:"FOR_YOU_TABS"},{no:18,name:"SEARCH_RESULTS"},{no:19,name:"TOP_BAR_CREATE_MENU"},{no:20,name:"TRAY_MENU"},{no:21,name:"CENTER_PANE"},{no:22,name:"PLUS_CANCEL_SURVEY_MODAL"},{no:23,name:"PROFILE_MENU"},{no:24,name:"BROWSER_WINDOW"},{no:25,name:"RIGHT_PANE"},{no:26,name:"CENTER_PANE_PLAN_TAB"},{no:27,name:"CENTER_PANE_GENERAL_TAB"},{no:28,name:"CENTER_PANE_BILLING_TAB"},{no:29,name:"CENTER_PANE_PERSON"},{no:30,name:"CENTER_PANE_STARRED"},{no:31,name:"CENTER_PANE_CREATE_CONTEXT_MENU"},{no:32,name:"CENTER_PANE_VIEW_CONTEXT_MENU"},{no:33,name:"LEFT_PANE"},{no:34,name:"RIGHT_PANE_SHARE_CONTEXT_MENU"},{no:35,name:"APP_ICON"},{no:36,name:"RIGHT_PANE_PERSON"},{no:37,name:"RIGHT_PANE_CONTEXT_MENU"},{no:38,name:"RIGHT_PANE_OPEN_CONTEXT_MENU"},{no:39,name:"APPLICATION_MENU"},{no:40,name:"CAROUSEL_ONBOARDING_WINDOW"},{no:41,name:"CONNECT_APP_WINDOW"},{no:42,name:"ONBOARDING_TOOLTIP"},{no:43,name:"RIGHT_PANE_PIN_CONTEXT_MENU"},{no:44,name:"SPACE_EXAMPLE_MODAL"},{no:45,name:"TEAM_CANCEL_SURVEY_MODAL"},{no:46,name:"MOVE_MODAL"},{no:47,name:"ACCOUNT_CONTEXT_MENU"},{no:48,name:"BOTTOM_BAR"},{no:49,name:"SYNC_QUEUE"},{no:50,name:"PLAN_CHANGE_MODAL"},{no:51,name:"MAGIC_PAIRING_WINDOW"},{no:52,name:"CONTEXT_MENU"},{no:53,name:"SNACKBAR"},{no:54,name:"FILE_SYSTEM_WARNING"},{no:55,name:"SCREENSHOT"},{no:56,name:"SCREEN_RECORDING"},{no:57,name:"REEL_HOME_PAGE"},{no:58,name:"REEL_VIDEO_PAGE"},{no:59,name:"COMMERCE_HOME_PAGE"},{no:60,name:"COMMERCE_CREATE_LISTING_PAGE"},{no:61,name:"COMMERCE_SELLER_LISTING_PAGE"},{no:62,name:"COMMERCE_BUYER_PAGE"},{no:63,name:"COMMERCE_STRIPE_ONBOARDING_PAGE"},{no:64,name:"ESSENTIAL_SETUP_PAGE"}]);class p extends t.Message{constructor(e){super(),this.identity={case:void 0},t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new p).fromBinary(e,n)}static fromJson(e,n){return(new p).fromJson(e,n)}static fromJsonString(e,n){return(new p).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(p,e,n)}}p.runtime=t.proto3,p.typeName="hql_events.HQLEventIdentity",p.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"action_event_id",kind:"message",T:f,oneof:"identity"},{no:2,name:"event_name",kind:"scalar",T:9,oneof:"identity"},{no:3,name:"event_class",kind:"message",T:S},{no:4,name:"legacy_event",kind:"message",T:O}]));class f extends t.Message{constructor(e){super(),this.object="",this.action=m.UNSPECIFIED,t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new f).fromBinary(e,n)}static fromJson(e,n){return(new f).fromJson(e,n)}static fromJsonString(e,n){return(new f).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(f,e,n)}}f.runtime=t.proto3,f.typeName="hql_events.HQLEventIdentity.ActionEventIdentity",f.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"object",kind:"scalar",T:9},{no:2,name:"action",kind:"enum",T:t.proto3.getEnumType(m)}]));class S extends t.Message{constructor(e){super(),this.className=E.UNSPECIFIED,this.subclassName=l.UNSPECIFIED,t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new S).fromBinary(e,n)}static fromJson(e,n){return(new S).fromJson(e,n)}static fromJsonString(e,n){return(new S).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(S,e,n)}}S.runtime=t.proto3,S.typeName="hql_events.HQLEventIdentity.EventClass",S.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"class_name",kind:"enum",T:t.proto3.getEnumType(E)},{no:2,name:"subclass_name",kind:"enum",T:t.proto3.getEnumType(l)}]));class O extends t.Message{constructor(e){super(),this.table="",this.name="",t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new O).fromBinary(e,n)}static fromJson(e,n){return(new O).fromJson(e,n)}static fromJsonString(e,n){return(new O).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(O,e,n)}}O.runtime=t.proto3,O.typeName="hql_events.HQLEventIdentity.LegacyEvent",O.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"table",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9}]));class R extends t.Message{constructor(e){super(),this.appSurface=c.UNSPECIFIED,this.actionSurface=u.UNSPECIFIED,t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new R).fromBinary(e,n)}static fromJson(e,n){return(new R).fromJson(e,n)}static fromJsonString(e,n){return(new R).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(R,e,n)}}R.runtime=t.proto3,R.typeName="hql_events.HQLMetadata",R.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"app_surface",kind:"enum",T:t.proto3.getEnumType(c)},{no:2,name:"action_surface",kind:"enum",T:t.proto3.getEnumType(u)},{no:3,name:"identity_override",kind:"message",T:p}]));class I extends t.Message{constructor(e){super(),this.urlPii="",this.orgReferrerPii="",this.httpReferrerPii="",this.previousUrlPii="",this.requestId="",this.visitId="",this.requestSeq=t.protoInt64.zero,this.uxaV=0,this.instanceEventCount=t.protoInt64.zero,this.instanceInitTs=t.protoInt64.zero,this.spaSource="",this.hashFragmentPii="",this.variants="",this.adobeTargetVariants="",this.warpVariants="",this.cmsPageUuid="",this.paramAd="",this.paramCamp="",this.paramFbclid="",this.paramGclid="",this.paramKw="",this.paramMsclkid="",this.paramNet="",this.paramOqa="",this.paramTk="",this.paramTrigger="",this.paramUtmCampaign="",this.paramUtmContent="",this.paramUtmMedium="",this.paramUtmSource="",this.paramUtmTerm="",t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new I).fromBinary(e,n)}static fromJson(e,n){return(new I).fromJson(e,n)}static fromJsonString(e,n){return(new I).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(I,e,n)}}I.runtime=t.proto3,I.typeName="hql_events.UXACommonFields",I.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"url_pii",kind:"scalar",T:9},{no:2,name:"org_referrer_pii",kind:"scalar",T:9},{no:3,name:"http_referrer_pii",kind:"scalar",T:9},{no:4,name:"previous_url_pii",kind:"scalar",T:9},{no:5,name:"request_id",kind:"scalar",T:9},{no:6,name:"visit_id",kind:"scalar",T:9},{no:7,name:"request_seq",kind:"scalar",T:3},{no:8,name:"uxa_v",kind:"scalar",T:2},{no:30,name:"instance_event_count",kind:"scalar",T:3},{no:31,name:"instance_init_ts",kind:"scalar",T:3},{no:9,name:"spa_source",kind:"scalar",T:9},{no:10,name:"hash_fragment_pii",kind:"scalar",T:9},{no:11,name:"variants",kind:"scalar",T:9},{no:12,name:"adobe_target_variants",kind:"scalar",T:9},{no:13,name:"warp_variants",kind:"scalar",T:9},{no:14,name:"cms_page_uuid",kind:"scalar",T:9},{no:15,name:"param_ad",kind:"scalar",T:9},{no:16,name:"param_camp",kind:"scalar",T:9},{no:17,name:"param_fbclid",kind:"scalar",T:9},{no:18,name:"param_gclid",kind:"scalar",T:9},{no:19,name:"param_kw",kind:"scalar",T:9},{no:20,name:"param_msclkid",kind:"scalar",T:9},{no:21,name:"param_net",kind:"scalar",T:9},{no:22,name:"param_oqa",kind:"scalar",T:9},{no:23,name:"param_tk",kind:"scalar",T:9},{no:24,name:"param_trigger",kind:"scalar",T:9},{no:25,name:"param_utm_campaign",kind:"scalar",T:9},{no:26,name:"param_utm_content",kind:"scalar",T:9},{no:27,name:"param_utm_medium",kind:"scalar",T:9},{no:28,name:"param_utm_source",kind:"scalar",T:9},{no:29,name:"param_utm_term",kind:"scalar",T:9}]));class C extends t.Message{constructor(e){super(),this.timeOnPage=t.protoInt64.zero,this.verticalOffset=t.protoInt64.zero,t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new C).fromBinary(e,n)}static fromJson(e,n){return(new C).fromJson(e,n)}static fromJsonString(e,n){return(new C).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(C,e,n)}}C.runtime=t.proto3,C.typeName="hql_events.TimeAndLocationFields",C.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"time_on_page",kind:"scalar",T:3},{no:2,name:"vertical_offset",kind:"scalar",T:3}]));class g extends t.Message{constructor(e){super(),this.left=t.protoInt64.zero,this.top=t.protoInt64.zero,t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new g).fromBinary(e,n)}static fromJson(e,n){return(new g).fromJson(e,n)}static fromJsonString(e,n){return(new g).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(g,e,n)}}g.runtime=t.proto3,g.typeName="hql_events.ElementPositionFields",g.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"left",kind:"scalar",T:3},{no:2,name:"top",kind:"scalar",T:3}]));class P extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new P).fromBinary(e,n)}static fromJson(e,n){return(new P).fromJson(e,n)}static fromJsonString(e,n){return(new P).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(P,e,n)}}P.runtime=t.proto3,P.typeName="hql_events.UXAnalyticsShownPage",P.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I}]));class L extends t.Message{constructor(e){super(),this.linkId="",this.linkRank=t.protoInt64.zero,this.tagName="",this.originHrefPii="",this.destinationUrlPii="",t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new L).fromBinary(e,n)}static fromJson(e,n){return(new L).fromJson(e,n)}static fromJsonString(e,n){return(new L).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(L,e,n)}}L.runtime=t.proto3,L.typeName="hql_events.UXAnalyticsSelectLink",L.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C},{no:4,name:"element_position_fields",kind:"message",T:g},{no:5,name:"link_id",kind:"scalar",T:9},{no:6,name:"link_rank",kind:"scalar",T:3},{no:7,name:"tag_name",kind:"scalar",T:9},{no:8,name:"origin_href_pii",kind:"scalar",T:9},{no:9,name:"destination_url_pii",kind:"scalar",T:9}]));class M extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new M).fromBinary(e,n)}static fromJson(e,n){return(new M).fromJson(e,n)}static fromJsonString(e,n){return(new M).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(M,e,n)}}M.runtime=t.proto3,M.typeName="hql_events.UXAnalyticsSelectLinkNoSessionStorage",M.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C}]));class U extends t.Message{constructor(e){super(),this.elementId="",this.elementRank=t.protoInt64.zero,this.tagName="",t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new U).fromBinary(e,n)}static fromJson(e,n){return(new U).fromJson(e,n)}static fromJsonString(e,n){return(new U).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(U,e,n)}}U.runtime=t.proto3,U.typeName="hql_events.UXAnalyticsSelectElement",U.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C},{no:4,name:"element_position_fields",kind:"message",T:g},{no:5,name:"element_id",kind:"scalar",T:9},{no:6,name:"element_rank",kind:"scalar",T:3},{no:7,name:"tag_name",kind:"scalar",T:9}]));class h extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new h).fromBinary(e,n)}static fromJson(e,n){return(new h).fromJson(e,n)}static fromJsonString(e,n){return(new h).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(h,e,n)}}h.runtime=t.proto3,h.typeName="hql_events.UXAnalyticsDismissPage",h.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C}]));class k extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new k).fromBinary(e,n)}static fromJson(e,n){return(new k).fromJson(e,n)}static fromJsonString(e,n){return(new k).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(k,e,n)}}k.runtime=t.proto3,k.typeName="hql_events.UXAnalyticsHeartbeatPage",k.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C}]));class B extends t.Message{constructor(e){super(),this.modal="",t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new B).fromBinary(e,n)}static fromJson(e,n){return(new B).fromJson(e,n)}static fromJsonString(e,n){return(new B).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(B,e,n)}}B.runtime=t.proto3,B.typeName="hql_events.UXAnalyticsShownModal",B.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C},{no:4,name:"modal",kind:"scalar",T:9}]));class D extends t.Message{constructor(e){super(),this.modal="",t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new D).fromBinary(e,n)}static fromJson(e,n){return(new D).fromJson(e,n)}static fromJsonString(e,n){return(new D).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(D,e,n)}}D.runtime=t.proto3,D.typeName="hql_events.UXAnalyticsDismissModal",D.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C},{no:4,name:"modal",kind:"scalar",T:9}]));class y extends t.Message{constructor(e){super(),t.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new y).fromBinary(e,n)}static fromJson(e,n){return(new y).fromJson(e,n)}static fromJsonString(e,n){return(new y).fromJsonString(e,n)}static equals(e,n){return t.proto3.util.equals(y,e,n)}}y.runtime=t.proto3,y.typeName="hql_events.UXAnalyticsScrollPage",y.fields=t.proto3.util.newFieldList((()=>[{no:1,name:"hql_metadata",kind:"message",T:R},{no:2,name:"uxa_common_fields",kind:"message",T:I},{no:3,name:"time_and_location_fields",kind:"message",T:C}]));class w{constructor(e){this.metricsReporter=e}logEventCount(e,n,t,a=1){const o={};for(const e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);this.metricsReporter.createStats({ns:e,name:n},o).record(a)}}let v;const G={heartbeat:"heartbeat",linkClick:"link_click",elementClick:"element_click",linkNoSessionStorage:"link_no_session_storage",modalClose:"modal_close",modalOpen:"modal_open",pageView:"page_view",pageFreeze:"page_freeze",pageResume:"page_resume",scroll:"scroll_event",finalHeartbeat:"final_heartbeat",spaPageView:"spa_page_view",delayedPageViewWithLateMetaTag:"delayed_page_view_with_late_meta_tag",privacyConsentIframeLoaded:"privacy_consent_iframe_loaded",privacyConsentScriptLoaded:"privacy_consent_script_loaded",privacyConsentScriptLoadError:"privacy_consent_script_load_error",marketingTrackerReadyForUxa:"marketing_tracker_ready_for_uxa",mouseupElementClick:"mouseup_element_click",dialogOpen:"dialog_open",dialogClose:"dialog_close",documentOpen:"document_open",documentClose:"document_close",conversionDataReady:"conversionDataReady",legacy_hs_analytics_event:"legacy_hs_analytics_event",elementShown:"element_shown",elementHide:"element_hide",formFieldchange:"form_field_change"},F=void 0!==self&&self?self:window;F._DBX_UXA_GLOBAL=F._DBX_UXA_GLOBAL||{};const q=F._DBX_UXA_GLOBAL,J="undefined"!=typeof self&&self?self:window;function W(){if(!J._DBX_UXA_isUxaListening)return;const e=J._DBX_UXA_bufferedClosures=J._DBX_UXA_bufferedClosures||[],n=[...e];e.length=0;for(const e of n)e()}var x;!function(e){e.BASE="BASE",e.TOP_FRAME="TOP_FRAME",e.CLIENT="CLIENT",e.NEED_TO_DEFINE="NEED_TO_DEFINE"}(x||(x={}));const H=()=>{if(void 0===q.marketingTrackerLoggingQueue||void 0===q.logToMarketingTracker)return;let e;for(;(e=q.marketingTrackerLoggingQueue.shift())&&void 0!==e;)q.logToMarketingTracker(e)},X=c,b=u;var Y;!function(e){e.SUGGESTION_ACCEPTED="suggest_invite_modal_accepted",e.SUGGESTION_DISMISSED="suggest_invite_modal_dismissed",e.SUGGESTION_MODAL_OPENED="suggest_invite_modal_opened"}(Y||(Y={}));const V=function(e){let n;const t=a.Viewer.get_viewer();return n=e?[e]:t.get_users().map((e=>e.id)),n},K={modal_open:["modal"],modal_close:["modal"],link_click:["link_id"],link_no_session_storage:["link_id"],element_click:["element_id"],page_view:["page"]},Q=e=>e.replace(/_([a-z])/g,(e=>e[1].toUpperCase())),j={log(e,n,i,_,m){const E=[["AMP",()=>{if(_&&_.includes(e)){const t={};if(n&&e in K){K[e].forEach((e=>{e in n&&n[e]&&(t[e]=String(n[e]))}))}(v||(v=new w(o.getMetricsReporter$1())),v).logEventCount("uxa_events",e,t)}}],["UXA-Backend",()=>{const t={url:"/log/ux_analytics",data:{event_type:e,extra_params:JSON.stringify(n)}};i?a.SilentBackgroundBeaconRequest(t):a.SilentBackgroundRequest(t)}],["HQL",()=>{if(!n)return;const a=(e=>{const n=["requestSeq","instanceEventCount","instanceInitTs","timeOnPage","verticalOffset","left","top","linkRank","elementRank"],a=["url","org_referrer","http_referrer","previous_url","hash_fragment","origin_href","destination_url"],o={};for(const r of Object.keys(e)){let i=Q(r),s=e[r];s=null===s?void 0:s,a.includes(r)&&(i+="_pii"),n.includes(i)&&(s=t.protoInt64.parse(Math.round(s))),o[Q(i)]=s}return o})(n);switch(e){case G.pageView:new P({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW})});break;case G.linkClick:new L(Object.assign({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a),elementPositionFields:new g(a)},a));break;case G.linkNoSessionStorage:new M({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a)});break;case G.elementClick:new U(Object.assign({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a),elementPositionFields:new g(a)},a));break;case G.finalHeartbeat:new h({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a)});break;case G.heartbeat:new k({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a)});break;case G.modalOpen:new B(Object.assign({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a)},a));break;case G.modalClose:new D(Object.assign({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a)},a));break;case G.scroll:new y(Object.assign({uxaCommonFields:new I(a),hqlMetadata:new R({appSurface:X.WEB,actionSurface:b.BROWSER_WINDOW}),timeAndLocationFields:new C(a)},a))}}],["marketing-tracker",H]];for(const[t,a]of E)try{a()}catch(a){r.reportException(Object.assign({err:a,severity:s.SEVERITY.NONCRITICAL,tags:["ux_analytics",t]},{exc_extra:{extra_params:n,event_type:e}}))}}};var z;!function(e){e.BUY_TRY_PAGE_CHECKOUT="buy_try_page_checkout",e.INFO_FORM_FILLED="info_form_filled",e.PAYMENT_FORM_FILLED="payment_form_filled",e.BUY_TRY_PAGE_CHECKOUT_CRASH="buy_try_page_checkout_crash",e.PORTABLE_CHECKOUT_IFRAME_INITIALIZED="portable_checkout_iframe_initialized"}(z||(z={}));const $={log(e,n,t,o,r){a.SilentBackgroundRequest({url:"/log/pro_events",data:{event:e,extra:JSON.stringify(n),is_client:!!o,project:r},success:t||void 0,error:t||void 0})}};const Z={start_times:{},start(e,n,t){Z.start_times[n]=t||Date.now()},stop(e,n,t,a){null!=Z.start_times[n]&&(t.total_time=Date.now()-Z.start_times[n],Z.log(e,n,t,a),delete Z.start_times[n])},log(e,n,t,o){t=t||{};const r=V(o);a.SilentBackgroundRequest({url:"/ualogger",data:{platform:e,event_name:n,extra:JSON.stringify(t),for_uids:JSON.stringify(r)}})}};var ee;!function(e){e.PRO="pro",e.PLUS="plus",e.BUY_TOP="buy_top",e.BUY_BOTTOM="buy_bottom",e.BUSINESS="business",e.PRO_TRY="pro_try",e.BUY_PLUS="buy_plus",e.BUY_MOBILE="buy_mobile"}(ee||(ee={}));const ne=(e,n)=>{if("function"==typeof CustomEvent)document.dispatchEvent(new CustomEvent(e,{detail:n}));else{const t=document.createEvent("CustomEvent");t.initCustomEvent(e,!0,!0,n),document.dispatchEvent(t)}},te="variants",ae=",",oe=":";let re=0;const ie=(e=!1)=>{const n=(e,n)=>{const t=[],a=document.head.querySelectorAll(`meta[${e}]`);return a?(Array.prototype.forEach.call(a,(a=>{try{const o=a.getAttribute(e);if(!o)return;n?t.push(...JSON.parse(o)):t.push(o)}catch(e){}})),t):[]};if(e&&re>1||!e&&re)return;re++,(()=>{const e=null===(n=document.head.getElementsByTagName("meta").namedItem("dbx:ux-variant-token"))||void 0===n?void 0:n.content;var n;if(!e)return;const t=me(e,"matchers"),a=[];for(const[e,n]of t){const t={feature_name:e,event_name:JSON.parse(n).event_name};a.push(t)}le({variant_tokens:e,matchers:a})})();const t=n("data-uxa-matcher-configs",!0),a=n("data-uxa-variant-tokens",!1);if(!t.length||!a.length)return;le({variant_tokens:a.join(ae),matchers:t})},se=(e,n)=>{let t;t=e.startsWith("adobetarget")?"adobe_target_variants":"variants",n[t]?n[t]+=ae+e:n[t]=e};const _e=(e,n)=>{const t=e=>decodeURIComponent(escape(e)),[a,o,r]=e.split(".").map((e=>atob(e.split("_").join("/").split("-").join("+"))));if(!r)return;if("JWT"!==JSON.parse(t(a)).typ)return;const i=JSON.parse(t(o)),s=i[n];return"https://dropbox.com/ux_analytics"===i.iss?s:void 0},me=(e,n)=>{const t=_e(e,n),a=[];for(const e of t.split(ae)){const n=e.split(oe);2===n.length&&a.push(n.map(decodeURIComponent))}return a},Ee=e=>e.startsWith("adobetarget:")?(e=>{const n=e.split(ae),t=[];for(const e of n)try{const[n,a,o]=e.split(oe);t.push([n+oe+decodeURIComponent(a),decodeURIComponent(o)])}catch(e){continue}return t})(e):me(e,te);function le(e){if(!e)return;self._DBX_UX_variants_configStore=self._DBX_UX_variants_configStore||{};const n=self._DBX_UX_variants_configStore,{variant_tokens:t,matchers:a}=e;if(t)for(const e of t.split(ae)){const t=Ee(e);if(t)for(const[a,o]of t)n.assignments=n.assignments||{},n.assignments[a]={variant:o,variantToken:e}}if(a)for(const e of a){n.matchers=n.matchers||{};const t=e.event_name;n.matchers[t]=n.matchers[t]||{};const a={feature_name:e.feature_name,event_name:t,is_pre_tti:e.is_pre_tti,like:e.like},o=JSON.stringify(a);n.matchers[t][o]=a}}e.LOG_EVENTS=G,e.ProEventsLogger=$,e.UXA_TRACKING_PARAM_KEYS=["gclid","oqa","trigger","msclkid","_tk","_camp","_ad","_net","_kw","utm_campaign","utm_content","utm_medium","utm_source","utm_term","fbclid","tfo"],e.UXAnalyticsLogger=j,e.UserActivityLogger=Z,e.addConfigsFromDOM=ie,e.addMatchedVariantsToEvent=function(e){const n=(e,n)=>void 0===e||((e,n)=>{if(void 0===e)return!0;const t=e;for(const e in t)if(String(n[e])!==String(t[e]))return!1;return!0})(e.extra,n.extra);if("undefined"==typeof self||!self)return;let t;ie();const a=self._DBX_UX_variants_configStore,o={};if(e&&a&&a.matchers&&e.eventName&&(t=a.matchers[e.eventName]))for(const r in t){if(!a.assignments||!t.hasOwnProperty(r))continue;const i=t[r],s=a.assignments[i.feature_name];s&&(void 0===o[s.variantToken]&&n(i.like,e)&&(e.extra||(e.extra={}),se(s.variantToken,e.extra),o[s.variantToken]=!0))}},e.dispatchModalClosed=()=>{ne("modalClosed")},e.dispatchModalOpened=()=>{ne("modalOpened")},e.getModalId=e=>{if(e.id)return e.id;const n=e.className;if(n){const e=n.split(" ");if(e.length>1){return e.find((e=>e.indexOf("modal")>-1))||`${n[0]}-modal`}return n.indexOf("modal")>-1?n:`${n}-modal`}},e.getNavigationType=()=>{var e;const n=null===(e=performance.getEntriesByType("navigation"))||void 0===e?void 0:e[0];return null==n?void 0:n.type},e.getWARPInfoFromDOM=()=>{var e;return null===(e=document.head.getElementsByTagName("meta").namedItem("dbx:warp-metadata-token"))||void 0===e?void 0:e.content},e.parseJWTToDict=e=>{const n=_e(e,te),t={};for(const e of n.split(ae)){const n=e.split(oe);2===n.length&&(t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}return t},e.pushToMarketingTrackerLoggingQueue=(e,n)=>{n.uxa_event_type=e,q.marketingTrackerLoggingQueue=q.marketingTrackerLoggingQueue||[],q.marketingTrackerLoggingQueue.push(n)},e.runAfterUxaListening=function(e){(J._DBX_UXA_bufferedClosures=J._DBX_UXA_bufferedClosures||[]).push(e),W()},e.uxaIsListening=function(){J._DBX_UXA_isUxaListening=!0,W()}}));
//# sourceMappingURL=c_ux_analytics_ux_variants.js-vflq7Q_FZ.map
