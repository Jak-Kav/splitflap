(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["paper_binder~paper_bundle~paper_native_desktop~paper_view_only"],{1531:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(8),o=a(10),s=a(70),i=a(73),l=a(4),d=a(0),c=a(2),u=(0,a(5).PaperIntlFactory)(),p=u.F,m=u._f,h=(0,c.defineMessages)({folderEmbedAlt:{
id:"O6dTWE",defaultMessage:"Animation showing how folder embeds work"},dropitintoDropboxbrGettoitfromPaper:{id:"9nQyXy",defaultMessage:"Drop it into Dropbox.{br}Get to it from Paper."},
insertaDropboxfolderintoyourPaperdocandhaveeasyaccesstoanyofthosefiles:{id:"0Hfw2b",defaultMessage:"Insert a Dropbox folder into your Paper doc and have easy access to any of those files."},gotit:{
id:"JmgfHl",defaultMessage:"Got it"}}),f=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleClickthrough=function(){t.popup.close()};return t}
t.prototype.componentDidMount=function(){this.popup.open()};t.prototype.render=function(){var e=this;return d.createElement(c.IntlProvider,{locale:r.default.userLocale
},d.createElement(l.TrackContext,{trackContext:l.AppContext.HomePage.FolderEmbedInfoModal},d.createElement(s.default,{className:"paper-home-page-folder-embeds-modal",ref:function(t){return e.popup=t},
size:"large",unmountOnClose:!0,onClose:this.props.onClose},d.createElement(l.TrackContext,{trackContext:l.AppContext.HomePage.FolderEmbedInfoModalContent},d.createElement("div",{ref:"popupContent",
className:"hp-popup-content paper-home-page-folder-embeds-modal-content"},d.createElement(i.default,{className:"paper-folder-embeds-content-media",alt:m(h.folderEmbedAlt),
src:"/static/img/composer/onboarding/folder-embeds/folder-embeds-modal.gif"}),d.createElement("div",{className:"paper-folder-embeds-content-body"},d.createElement("div",{
className:"paper-folder-embeds-content-title"},d.createElement(p,n.__assign({values:{br:d.createElement("br",null)}},h.dropitintoDropboxbrGettoitfromPaper))),d.createElement("div",{
className:"paper-folder-embeds-content-text"},d.createElement(p,n.__assign({},h.insertaDropboxfolderintoyourPaperdocandhaveeasyaccesstoanyofthosefiles))),d.createElement("div",{
className:"paper-folder-embeds-content-action"},d.createElement(o.default,{primary:!0,className:"paper-folder-embeds-modal-button","data-track":"paper-home-page-folder-embeds-modal-clicked",
onClick:this.handleClickthrough},d.createElement(p,n.__assign({},h.gotit))))))))))};t.displayName="FolderEmbedInfoModal";return t}(d.Component);t.default=f},1532:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(6),o=a(374),s=a(15),i=a(4),l=a(89),d=a(8),c=a(2),u=a(7),p=a(11),m=a(10),h=a(68),f=a(69),g=a(103),v=a(1533),y=a(376),b=a(858),E=a(377),C=a(23),M=a(0),S=a(314),k=a(31),_=a(13),w=a(369),D=a(16),T=(0,
a(5).PaperIntlFactory)(),P=T.F,N=T._f,F=(0,c.defineMessages)({createNewDocButton:{id:"aUYGpi",defaultMessage:"Create new doc"},createFolderButton:{id:"eXL9sz",defaultMessage:"Create new folder"},
createCloudDocButton:{id:"OvZhlq",defaultMessage:"Create cloud doc"},createWithTemplateButton:{id:"QoZ4+r",defaultMessage:"Create with templates"},importDocButton:{id:"YUMn61",
defaultMessage:"Import doc"},importMicrosoftWordDocButton:{id:"i7pMgY",defaultMessage:"Import Microsoft Word doc"},moreDropdownMenuButton:{id:"S6stj+",defaultMessage:"More"},offline:{id:"9lEKob",
defaultMessage:"You are offline. Access these options when you are back online."}}),I=function(e){n.__extends(t,e);function t(t,a){var n=e.call(this,t,a)||this;n.handleCalendarEventsChange=function(){
n.state.isLoadingMeetingNotes&&n.setState({isLoadingMeetingNotes:!1})};n.reportMeetingsMetrics=r.once((function(e){return(0,i.trackUi)("home-page-impression",e)}));n.handleCreatePadClick=function(e){
n.props.app.handleCreatePadClick(e);i.IntentionEvent.CreatePad.track({context:i.AppContext.HomePage.getContextName()})};n.handleCreateFolderClick=function(e){(0,
S.showCreateFolderDialog)(n.context.stores,e);i.IntentionEvent.CreateFolder.track({context:i.AppContext.HomePage.getContextName()})};n.handleCreateCloudDocClick=function(e){
n.props.app.handleCreateCloudDocInNewTabClick(e,{fromPaperHomeCloudDoc:!0});i.IntentionEvent.CreateCloudDoc.track({context:i.AppContext.HomePage.getContextName()})};n.state={isLoadingMeetingNotes:!0}
;return n}t.prototype.componentDidMount=function(){this.context.stores.calendarEvents.on("change",this.handleCalendarEventsChange)};t.prototype.componentWillUnmount=function(){
this.context.stores.calendarEvents.off("change",this.handleCalendarEventsChange)};t.prototype.renderMultiselectButtons=function(){
var e=this.props.currentTab.filter===u.ListViewFilter.archived,t=this.props.currentTab.filter===u.ListViewFilter.trashed,a=e&&this.props.currentTab.dataSource===u.ListViewDataSource.Folders
;return M.createElement(E.MultiselectButtons,{multiselectState:this.props.multiselectState,onComplete:this.props.onMultiselectActionComplete,stores:this.context.stores,
onSelectionChanged:this.props.onMultiselectStateChanged,enableStandardActions:!e&&!t,enableArchivedDocsActions:e,enableRestoreAndPermaDelete:t,showRestoreOnly:a,restoreTrash:t})}
;t.prototype.renderCreateNewDocButton=function(){return M.createElement(o.PrimaryAction,{onClick:this.handleCreatePadClick,className:"selenium-create-new-doc"
},M.createElement(P,n.__assign({},F.createNewDocButton)))};t.prototype.renderCreateFolderButton=function(){return M.createElement(o.TertiaryAction,{withIconLeft:M.createElement(D.UIIcon,{
src:s.AddFolderLine}),icon:"action-create-folder",onClick:this.handleCreateFolderClick},M.createElement(P,n.__assign({},F.createFolderButton)))};t.prototype.hasCreateCloudButton=function(){
return l.alwaysCreateCloudDocs()||k.isOnButDoNotLog("paper_legacy_create_pifs_doc")};t.prototype.renderCreateCloudDocButton=function(){return M.createElement(o.TertiaryAction,{icon:"action-dropbox",
onClick:this.handleCreateCloudDocClick},M.createElement(P,n.__assign({},F.createCloudDocButton)))};t.prototype.renderCreateFromTemplateButton=function(){var e=M.createElement("span",{
className:"create-from-template-button-content"},M.createElement(P,n.__assign({},F.createWithTemplateButton)));return M.createElement(i.TrackContext,{trackContext:i.AppContext.HomePage.TemplateMenu
},M.createElement(w.TemplateMenuButton,{buttonComponent:e,padPreviewStore:this.context.stores.padPreview,templateListStore:this.context.stores.templateList,app:this.props.app,buttonVariant:"opacity"
}))};t.prototype.renderMeetingNotePanel=function(){return M.createElement(i.TrackContext,{trackContext:i.AppContext.MeetingNotes.OverflowMenu},M.createElement(b.default,{includeSubtitleDate:!0,
includeSubtitleGuestCount:!0,includeSubtitleTime:!0,includeUpcomingEvents:!1,stores:this.context.stores,reportImpressionMetrics:this.reportMeetingsMetrics}))}
;t.prototype.hasInviteTeamMembersPanel=function(){return!(d.default.isDropboxer||d.default.isPersonalDomainUser||(0,y.isT7BannerReady)()||(0,y.isT30BannerReady)())}
;t.prototype.renderInviteTeamMembersPanel=function(){var e=!this.state.isLoadingMeetingNotes&&!this.context.stores.meetingNotes.isAuthorized&&!k.isOnButDoNotLog("paper_hide_invite_team_members")
;return M.createElement(v.default,{visible:e})};t.prototype.renderDesktopMoreMenu=function(){if(!l.cloudDocsUxEnabled())return M.createElement(f.default,{dontReposition:!0},M.createElement(m.default,{
className:"hp-pad-more-button selenium-pad-more-button hp-icon-button",hasPopup:!0,
tooltip:this.props.isOffline?M.createElement(P,n.__assign({},F.offline)):M.createElement(P,n.__assign({},F.moreDropdownMenuButton)),disabled:this.props.isOffline,showTooltipWhenDisabled:!0,
"aria-label":this.props.isOffline?N(F.offline):N(F.moreDropdownMenuButton)},M.createElement(_.default,{name:"dots"})),M.createElement(i.TrackContext,{trackContext:i.AppContext.PadHeader.MoreMenu
},M.createElement(h.default,{type:"custom",className:"desktop-header-menu"
},M.createElement("ul",null,M.createElement(g.HpMenuItem,null,this.renderCreateFolderButton()),M.createElement(g.HpMenuItem,null,this.renderCreateFromTemplateButton())))))}
;t.prototype.render=function(){
return this.props.isDesktop?M.createElement(M.Fragment,null,this.renderCreateNewDocButton(),this.renderDesktopMoreMenu(),this.renderMultiselectButtons()):M.createElement(M.Fragment,null,M.createElement(o.default,{
primary:this.renderCreateNewDocButton()
},this.hasCreateCloudButton()?this.renderCreateCloudDocButton():null,this.renderCreateFolderButton(),this.renderCreateFromTemplateButton(),this.renderMeetingNotePanel(),this.hasInviteTeamMembersPanel()?this.renderInviteTeamMembersPanel():null,M.createElement("div",{
id:"home-action-menu-ad"})),this.renderMultiselectButtons())};t.displayName="HomePageActionMenu";t.contextTypes={stores:C.object.isRequired};return t=n.__decorate([p.default],t)}(M.PureComponent)
;t.default=I},1533:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.InviteTeamMembersPanelEntry=t.MAX_LENGTH=void 0
;var n=a(1),r=a(8),o=a(24),s=a(375),i=a(10),l=a(13),d=a(102),c=a(4),u=a(4),p=a(4),m=a(0),h=a(2),f=a(86),g=a(7),v=(0,a(5).PaperIntlFactory)().F,y=(0,h.defineMessages)({inviteyourteamtotryPaper:{
id:"XKcfQx",defaultMessage:"Invite your team to try Paper"},inviteyourteamtoPaper:{id:"GUKnd8",defaultMessage:"Invite your team to Paper"},invitepeopletotryPaper:{id:"sE5xwH",
defaultMessage:"Invite people to try Paper"},invitepeopletoPaper:{id:"B1G4bI",defaultMessage:"Invite people to Paper"},showmore:{id:"JZEdSO",defaultMessage:"Show more"},invite:{id:"sTZgnw",
defaultMessage:"Invite"}});t.MAX_LENGTH=3;var b=function(e){n.__extends(a,e);function a(a){var n=e.call(this,a)||this;n.logInvitePanelPosition=function(){var e,t=window.innerHeight
;n.inviteTeamMembersPanel&&(e=n.inviteTeamMembersPanel.getBoundingClientRect());if(e){var a=void 0;a=e.top>=t?0:e.bottom<=t?1:(t-e.top)/e.height;u.trackEng("invite-team-members-panel-impression",{
screen_size:t,percentage_seen:a,height:e.height});c.IntentionEvent.InvitePanelShown.track({percentage:a,rect:e,screen_size:t})}};n.handleCTAClick=function(e){(0,
p.trackUi)("Click CTA in InviteTeamMemberPanel on Homepage",{context:p.AppContext.HomePage.InviteTeamMember});c.IntentionEvent.InvitePanelInviteClick.track();var t=n.state.members[e];(0,
s.sendInvitations)([t.email],g.InvitationEventVariants.InviteTeamMembersV5);delete n.display[e];var a=n.state.nextIndex;if(a<n.state.members.length){n.display[a]=!0;a+=1}n.setState({nextIndex:a})}
;n.handleShowMoreClick=function(){(0,p.trackUi)("Click show more in InviteTeamMemberPanel on Homepage",{context:p.AppContext.HomePage.InviteTeamMember})
;c.IntentionEvent.InvitePanelShowMoreClick.track()};n.state={members:[],nextIndex:t.MAX_LENGTH,isLoading:!0};n.display={};return n}a.prototype.componentDidMount=function(){var e=this;(0,
s.getTeamMembersToInvite)(50,(function(a){var n=[];a&&a.forEach((function(a,r){n.push(a);r<t.MAX_LENGTH&&(e.display[r]=!0)}));e.setState({members:n,isLoading:!1});n.length>0&&(0,
p.trackUi)("View InviteTeamMemberPanel on Homepage",{context:p.AppContext.HomePage.InviteTeamMember})}))};a.prototype.componentDidUpdate=function(e,t){
(this.props.visible&&!e.visible&&!this.state.isLoading||this.props.visible&&!this.state.isLoading&&t.isLoading)&&this.logInvitePanelPosition()};a.prototype.render=function(){var e=this
;if(!this.props.visible)return null;var a,s,i=this.state.members.map((function(t,a){var n={name:t.fullName,pic:t.photoUrl,email:t.email,bgcolor:f.getColorForString(t.email)};return m.createElement(E,{
user:n,handleCTAClick:e.handleCTAClick,index:a,key:"InviteTeamMembersPanelEntry-"+a,show:1==e.display[a]})}))
;s=r.default.teamType!=g.DropboxTeamType.Unknown?m.createElement(v,n.__assign({},y.inviteyourteamtotryPaper)):m.createElement(v,n.__assign({},y.invitepeopletotryPaper))
;if(Object.keys(this.display).length>0){var l=void 0;this.state.members.length>t.MAX_LENGTH&&(l=m.createElement("a",{className:"invite-team-members-entry-show-more-button",
href:"/invite-team-members?from_home=true",onClick:this.handleShowMoreClick},m.createElement(v,n.__assign({},y.showmore))));a=m.createElement("div",{className:"invite-team-members-panel"
},m.createElement("div",{className:"invite-team-members-header-text"},s),i,l)}return m.createElement("div",{ref:function(t){return e.inviteTeamMembersPanel=o.findDOMNode(t)}},a)}
;a.displayName="InviteTeamMembersPanel";return a}(m.Component);t.default=b;var E=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleCTAClick=function(){
t.props.handleCTAClick(t.props.index)};return t}t.prototype.render=function(){var e,t=this.props.show?"invite-team-members-entry":"invite-team-members-entry entry-hidden"
;e=this.props.show?this.props.linky?m.createElement(i.default,{href:"#invite",onClick:this.handleCTAClick},m.createElement(v,n.__assign({},y.invite))):m.createElement(i.default,{
className:"invite-team-members-entry-invite-button",secondary:!0,onClick:this.handleCTAClick},m.createElement(v,n.__assign({},y.invite))):m.createElement(l.default,{style:{fill:"#91d44a"},
name:"check-circle"});return m.createElement("div",{className:t},m.createElement("div",{className:"invite-team-members-entry-avatar-container"},m.createElement(d.default,{onUserClick:function(){},
user:this.props.user,size:"small"})),m.createElement("div",{className:"invite-team-members-entry-name-container notranslate"},this.props.user.name),m.createElement("div",{
className:"invite-team-members-entry-invite-button-container"},e))};t.displayName="InviteTeamMembersPanelEntry";return t}(m.Component);t.InviteTeamMembersPanelEntry=E},1534:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.DocListCommandProvider=void 0;var n=a(1),r=a(5),o=a(111),s=a(96),i=a(75),l=a(66),d=a(2),c=(0,r.PaperIntlFactory)()._f,u=(0,d.defineMessages)({open:{
id:"OnNOO6",defaultMessage:"Open"},move:{id:"qOj4zc",defaultMessage:"Move"},export:{id:"Xjd4qw",defaultMessage:"Export"},archive:{id:"RJJb/4",defaultMessage:"Archive"},restore:{id:"4k57Xo",
defaultMessage:"Restore"},delete:{id:"6qwsxm",defaultMessage:"Delete"},selectAll:{id:"rPu8Ql",defaultMessage:"Select all"},deselectAll:{id:"S3MpgP",defaultMessage:"Deselect all"}}),p=function(){
function e(e){this.buttons=e;this.id="doc_list_open";this.label=c(u.open);this.hotkey=i.MultiselectHotkeys.OpenCursorItem;this.icon={type:"dig",icon:"OpenLine"};this.available=(0,o.buildPredicate)({
docListHasCursor:(0,o.equals)("true")})}e.prototype.run=function(){return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){this.buttons.handleOpenCursor();return[2,{
success:!0}]}))}))};return e}(),m=function(){function e(e){this.buttons=e;this.id="doc_list_move";this.label=c(u.move);this.icon={type:"dig",icon:"MoveLine"}
;this.hotkey=i.MultiselectHotkeys.TriggerMove;this.available=(0,o.buildPredicate)({docListAnyChecked:(0,o.equals)("true"),docListCanMove:(0,o.equals)("true")})}e.prototype.run=function(){
return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){this.buttons.handleMove();return[2,{success:!0}]}))}))};return e}(),h=function(){function e(e){this.buttons=e
;this.id="doc_list_export";this.label=c(u.export);this.icon={type:"dig",icon:"DownloadLine"};this.available=(0,o.buildPredicate)({docListAnyChecked:(0,o.equals)("true")})}e.prototype.run=function(){
return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){this.buttons.handleExport();return[2,{success:!0}]}))}))};return e}(),f=function(){function e(e){
this.buttons=e;this.id="doc_list_archive";this.label=c(u.archive);this.icon={type:"dig",icon:"ArchiveLine"};this.hotkey=i.MultiselectHotkeys.TriggerArchive;this.available=(0,o.buildPredicate)({
docListAnyChecked:(0,o.equals)("true"),docListCanMove:(0,o.equals)("true")})}e.prototype.run=function(){return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){
this.buttons.handleArchive();return[2,{success:!0}]}))}))};return e}(),g=function(){function e(e){this.buttons=e;this.id="doc_list_trash";this.label=c(u.delete);this.icon={type:"dig",icon:"DeleteLine"
};this.hotkey=i.MultiselectHotkeys.TriggerDelete;this.available=(0,o.buildPredicate)({docListAnyChecked:(0,o.equals)("true"),docListCanDelete:(0,o.equals)("true")})}e.prototype.run=function(){
return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){this.buttons.handleTrash();return[2,{success:!0}]}))}))};return e}(),v=function(){function e(e){this.buttons=e
;this.id="doc_list_restore";this.label=c(u.restore);this.icon={type:"dig",icon:"ArchiveLine"};this.available=(0,o.buildPredicate)({docListAnyChecked:(0,o.equals)("true"),docListCanDelete:(0,
o.equals)("true")})}e.prototype.run=function(){return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){this.buttons.handleRestore();return[2,{success:!0}]}))}))}
;return e}(),y=function(){function e(e){this.buttons=e;this.id="doc_list_select_all";this.label=c(u.selectAll);this.available=(0,o.buildPredicate)({docListAllChecked:(0,o.equals)("false")})}
e.prototype.run=function(){return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){this.buttons.handleSelectAll(!0);return[2,{success:!0}]}))}))};return e
}(),b=function(){function e(e){this.buttons=e;this.id="doc_list_deselect_all";this.label=c(u.deselectAll);this.hotkey=i.MultiselectHotkeys.ClearBulkActions;this.available=(0,o.buildPredicate)({
docListAnyChecked:(0,o.equals)("true")})}e.prototype.run=function(){return n.__awaiter(this,void 0,Promise,(function(){return n.__generator(this,(function(e){this.buttons.handleSelectAll(!1)
;return[2,{success:!0}]}))}))};return e}(),E=function(e){n.__extends(t,e);function t(t){var a=e.call(this)||this;a.buttons=t;a.commands=[new p(a.buttons),new m(a.buttons),!(0,
l.isApollo)()&&new h(a.buttons),new f(a.buttons),new g(a.buttons),new v(a.buttons),new y(a.buttons),new b(a.buttons)].filter(Boolean);return a}t.prototype.getCommands=function(){return this.commands}
;return t}(s.BaseProvider);t.DocListCommandProvider=E},1535:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=function(e){n.__extends(t,e);function t(t,a){
var n=e.call(this)||this;n.multiselectState=t;n.folderData=a;return n}t.prototype.notifyMultiselectStateChange=function(e){this.multiselectState=e;this.emit(this.getContext())}
;t.prototype.getContext=function(){var e=[];this.folderData&&this.folderData.folder&&(e=[this.folderData.folder.encryptedId]);return{encryptedFolderId:e,
docListHasCursor:[String(!!this.multiselectState.getCursorId())],docListAnyChecked:[String(this.multiselectState.numChecked>0)],docListAllChecked:[String(this.multiselectState.areAllChecked())],
docListCanMove:[String(this.multiselectState.haveMovePermission())],docListCanDelete:[String(this.multiselectState.haveDeletePermission())]}};return t}(a(96).BaseProvider);t.default=r},
1542:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(6),o=a(3),s=a(8),i=a(859),l=a(1543),d=a(0),c=a(1544),u=a(1546),p=a(866),m=function(e){n.__extends(t,e)
;function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={isContentExpanded:!1,isDropdownOpen:!1};t.handleViewMoreClicked=function(){t.setState({isContentExpanded:!t.state.isContentExpanded
})};t.handleDropdownStateChanged=function(e){t.state.isDropdownOpen!==e&&t.setState({isDropdownOpen:e})};t.handleDatePickerDateChange=function(e){t.setState({isDropdownOpen:!1,isContentExpanded:!0})
;t.props.handleDayClick(e)};t.handleHeaderClick=function(e){t.state.isDropdownOpen||t.props.registerDayPickerMenu(e)};return t}t.prototype.getUpcomingMeetingsEntries=function(){
var e=r.sortBy(this.props.availableEvents,"start_time")||[];return e.length?e.map((function(e,t){return{event:e,eventIndex:t,attachments:(e.attachments||[]).filter((function(e){
return"paper_pad"==e.attachment_type}))}})):[]};t.prototype.render=function(){
var e,t=this.props,a=t.authChecked,n=t.isAuthorized,r=t.isLoading,i=t.dismissedMeetingNotePromotion,m=this.state,h=m.isContentExpanded,f=m.isDropdownOpen
;if((!a||!n)&&s.default.accountAge<7)return null;if(a&&!n&&i)return null;if(!a)return s.default.hasLinkedCalendar?d.createElement("div",{
className:"hp-homepage-section hp-scroll-locking-section hp-homepage-upcoming-meetings"},d.createElement(u.UpcomingMeetingsHeader,{authChecked:a,isAuthorized:n})):null;var g=[];if(!n)return null
;e=(g=this.getUpcomingMeetingsEntries()).length||r?d.createElement(c.UpcomingMeetingsEntries,{entries:g,onCreateMeetingNoteClick:this.props.createMeetingNoteAuthHandler,isLoading:r
}):d.createElement(l.NoCalendarEventsMessage,{selectedDate:this.props.selectedDate,onHandleSelectedDate:this.props.setSelectedDate});return d.createElement("div",{
className:o("hp-homepage-section","hp-scroll-locking-section",{"hp-homepage-upcoming-meetings":!0,"hp-homepage-upcoming-meetings-dropdown-active":f})},d.createElement(u.UpcomingMeetingsHeader,{
authChecked:a,isAuthorized:n,isDaySelected:this.props.isDaySelected,onDateChanged:this.handleDatePickerDateChange,onDropdownStateChanged:this.handleDropdownStateChanged,
selectedDate:this.props.selectedDate,handleClick:this.handleHeaderClick}),d.createElement("div",{ref:this.props.registerEventListElement,className:o({"homepage-upcoming-meetings-content":!0,
"homepage-upcoming-meetings-content-expanded":h,"homepage-upcoming-meetings-content-full-height":!n})},e),d.createElement(p.default,{includeChevron:!0,includeCount:!1,numRows:1,count:g.length,
isExpanded:h,onClick:this.handleViewMoreClicked}))};t.displayName="HomePageUpcomingMeetings";return t}(d.Component);t.default=(0,i.MeetingNoteBaseDecorator)(m)},1543:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});t.NoCalendarEventsMessage=void 0;var n=a(1),r=a(10),o=a(2),s=a(38),i=a(147),l=a(0),d=a(52),c=a(41),u=(0,a(5).PaperIntlFactory)().F,p=(0,
o.defineMessages)({youremeetingfreefortherestofthenight:{id:"deAgyf",defaultMessage:"You’re meeting-free for the rest of the night!"},itsaclearmeetingfreeday:{id:"GZAEXh",
defaultMessage:"It’s a clear, meeting-free day."},nomeetingstoseehereTakeabreatherStretch:{id:"Dg00aU",defaultMessage:"No meetings to see here. Take a breather. Stretch."},
youvegotyourselfsomemeetingfreemetime:{id:"tcgthr",defaultMessage:"You’ve got yourself some meeting-free me time."},yourmeetingsaredoneforthedayYay:{id:"wqvokh",
defaultMessage:"Your meetings are done for the day. Yay!"},youvereachedthefinishlineoftodaysmeetings:{id:"6Mz0rT",defaultMessage:"You've reached the finish line of today's meetings!"},planforMonday:{
id:"0bVtYd",defaultMessage:"Plan for Monday"},prepfortomorrow:{id:"Q1PESr",defaultMessage:"Prep for tomorrow"}});function m(e,t){
return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDay()==t.getDay()}var h=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this
;t.handleButtonClicked=function(e){var a=t.props.selectedDate,n=a.getDay()>=5?new Date(a.getTime()+c.Time.DAY*(8-a.getDay())):new Date(a.getTime()+c.Time.DAY)
;t.props.onHandleSelectedDate(i.getBeginningOfDay(n))};return t}t.prototype.render=function(){var e,t,a,o=this.props,i=o.selectedDate,c=o.variation,h=this.props.now?this.props.now:new Date
;if(m(i,h)&&h.getHours()>=16){t=(0,d.default)("/static/img/composer/rebrand/empty-states/cooking@2x.png");e=l.createElement(u,n.__assign({},p.youremeetingfreefortherestofthenight))}else{
switch(c||Math.floor(5*s.smartRandom())+1){case 1:default:t=(0,d.default)("/static/img/composer/rebrand/empty-states/sunny@2x.png");e=l.createElement(u,n.__assign({},p.itsaclearmeetingfreeday));break
;case 2:t=(0,d.default)("/static/img/composer/rebrand/empty-states/stretch@2x.png");e=l.createElement(u,n.__assign({},p.nomeetingstoseehereTakeabreatherStretch));break;case 3:t=(0,
d.default)("/static/img/composer/rebrand/empty-states/me-time@2x.png");e=l.createElement(u,n.__assign({},p.youvegotyourselfsomemeetingfreemetime));break;case 4:t=(0,
d.default)("/static/img/composer/rebrand/empty-states/lady@2x.png");e=l.createElement(u,n.__assign({},p.yourmeetingsaredoneforthedayYay));break;case 5:t=(0,
d.default)("/static/img/composer/rebrand/empty-states/finish-line@2x.png");e=l.createElement(u,n.__assign({},p.youvereachedthefinishlineoftodaysmeetings))}}if(m(i,h)){
var f=i.getDay()>=5?l.createElement(u,n.__assign({},p.planforMonday)):l.createElement(u,n.__assign({},p.prepfortomorrow));a=l.createElement(r.default,{
className:"upcoming-meetings-no-calendar-events-button",onClick:this.handleButtonClicked},f)}return l.createElement("div",{className:"upcoming-meetings-no-calendar-events"},l.createElement("span",{
className:"upcoming-meetings-no-calendar-events-icon"},l.createElement("img",{className:"hp-image-invertible",src:t})),l.createElement("span",{className:"upcoming-meetings-no-calendar-events-content"
},l.createElement("span",{className:"upcoming-meetings-no-calendar-events-message"},e),a))};t.displayName="NoCalendarEventsMessage";return t}(l.PureComponent);t.NoCalendarEventsMessage=h},
1544:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.UpcomingMeetingsEntries=void 0;var n=a(0),r=a(1545);t.UpcomingMeetingsEntries=function(e){var t=e.entries.map((function(t){
var a=t.event,o=t.eventIndex,s=t.attachments;return a&&!s.length?n.createElement("div",{className:"upcoming-meeting-entry",key:o},n.createElement(r.UpcomingMeetingHeader,{event:a
}),n.createElement(r.UpcomingMeetingContentWithCTA,{event:a,onClick:e.onCreateMeetingNoteClick(a,!0),isLoading:e.isLoading})):n.createElement("div",{className:"upcoming-meeting-entry",key:o
},n.createElement(r.UpcomingMeetingHeader,{event:a}),s.map((function(e,t){return n.createElement(r.UpcomingMeetingAttachment,{event:a,attachment:e,attachmentIndex:t})})))}))
;return n.createElement("div",null,t)};t.UpcomingMeetingsEntries.displayName="UpcomingMeetingsEntries"},1545:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.UpcomingMeetingContentWithCTA=t.UpcomingMeetingAttachment=t.UpcomingMeetingHeader=void 0;var n=a(1),r=a(4),o=a(10),s=a(8),i=a(2),l=a(60),d=a(7),c=a(139),u=a(147),p=a(0),m=a(454),h=a(13),f=(0,
a(5).PaperIntlFactory)().F,g=(0,i.defineMessages)({untitled:{id:"YhUh+a",defaultMessage:"Untitled"},eventwithnumParticipantspluraloneotherothernumParticipantsothers:{id:"MdvOcf",
defaultMessage:"Event with {numParticipants, plural, one {1 other} other {{numParticipants} others}}"},justyou:{id:"2tcXqB",defaultMessage:"Just you"},createameetingagenda:{id:"NujVV1",
defaultMessage:"Create a meeting agenda"}});t.UpcomingMeetingHeader=function(e){var t=e.event,a=(0,m.shortDateAndTime)(t.start_time).time,r=(0,
m.shortDateAndTime)(t.end_time).time,o=a.indexOf("AM")>-1,s=r.indexOf("AM")>-1;(o&&s||!o&&!s)&&(a=a.replace("AM","").replace("PM","").trim());return p.createElement("div",{
className:"upcoming-meeting-entry-header"},p.createElement("span",{className:"upcoming-meeting-entry-header-event-time"},p.createElement("span",{className:"notranslate"
},a,"–",r)),p.createElement("span",{className:"notranslate upcoming-meeting-entry-header-divider"},"•"),p.createElement("span",{className:"upcoming-meeting-entry-header-event-title"
},t.title?p.createElement(l.default,{size:d.EmojiSize.XSmall,str:t.title}):p.createElement(f,n.__assign({},g.untitled))))};t.UpcomingMeetingHeader.displayName="UpcomingMeetingHeader"
;var v=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleButtonClicked=function(e){
u.redirectToMeetingNoteAttachment(t.props.event,App,t.props.attachmentIndex,r.AppContext.MeetingNotes.Home)};return t}t.prototype.render=function(){
var e,t=this.props,a=t.event,r=t.attachment,i=r.name?p.createElement(l.default,{str:r.name,skipFirstEmoji:!0}):p.createElement(f,n.__assign({},g.untitled)),d=a.attendees.filter((function(e){
return!e.is_resource&&e.email!=s.default.userEmail})).length;e=d?p.createElement(f,n.__assign({values:{numParticipants:d}
},g.eventwithnumParticipantspluraloneotherothernumParticipantsothers)):p.createElement(f,n.__assign({},g.justyou));return p.createElement("div",{className:"upcoming-meeting-entry-content"
},p.createElement("span",{className:"upcoming-meeting-entry-icon"},p.createElement(c.default,{title:r.name},p.createElement(h.default,{name:"note"}))),p.createElement("span",{
className:"upcoming-meeting-entry-content-details"},p.createElement("span",{className:"upcoming-meeting-entry-content-title"},p.createElement(o.default,{
className:"upcoming-meeting-entry-content-button",onClick:this.handleButtonClicked},i)),p.createElement("span",{className:"upcoming-meeting-entry-content-subtitle"},e)))}
;t.displayName="UpcomingMeetingAttachment";return t}(p.PureComponent);t.UpcomingMeetingAttachment=v;t.UpcomingMeetingContentWithCTA=function(e){return p.createElement(o.default,{
className:"upcoming-meeting-entry-content-full-button",onClick:e.isLoading?null:e.onClick},p.createElement("span",{className:"upcoming-meeting-entry-icon"},p.createElement(h.default,{
name:"note-create"})),p.createElement("span",{className:"upcoming-meeting-entry-content-details"},p.createElement("span",{className:"upcoming-meeting-entry-content-title-light"
},e.event.title?p.createElement(l.default,{str:e.event.title}):p.createElement(f,n.__assign({},g.untitled))),p.createElement("span",{className:"upcoming-meeting-entry-content-subtitle-button"
},p.createElement(f,n.__assign({},g.createameetingagenda)))))};t.UpcomingMeetingContentWithCTA.displayName="UpcomingMeetingContentWithCTA"},1546:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});t.UpcomingMeetingsHeader=void 0;var n=a(1),r=a(835),o=a(2),s=a(1547),i=a(10),l=a(68),d=a(69),c=a(0),u=a(380),p=a(13),m=(0,a(5).PaperIntlFactory)().F,h=(0,o.defineMessages)({
docsforyourmeetingstoday:{id:"eoupLz",defaultMessage:"Docs for your meetings today"},docsfortomorrow:{id:"mAUrcU",defaultMessage:"Docs for tomorrow"},docsforselectedDatedatelong:{id:"hNHYo6",
defaultMessage:"Docs for {selectedDate, date, long}"},docsforselectedDatedatemedium:{id:"PvaQ89",defaultMessage:"Docs for {selectedDate, date, medium}"}});t.UpcomingMeetingsHeader=function(e){
if(!e.isAuthorized||!e.authChecked)return c.createElement(u.default,{scrollSelector:"#hp-page-home",offsetHeightSelector:".hp-list-page-header"},c.createElement("div",{
className:"hp-homepage-section-header"},c.createElement("h2",{className:"upcoming-meetings-header"},c.createElement(m,n.__assign({},h.docsforyourmeetingstoday)))));var t,a=(0,
s.getDateType)(e.selectedDate,e.now||new Date)
;t=a==s.DateType.TODAY?c.createElement(m,n.__assign({},h.docsforyourmeetingstoday)):a==s.DateType.TOMORROW?c.createElement(m,n.__assign({},h.docsfortomorrow)):c.createElement(m,n.__assign({values:{
selectedDate:e.selectedDate}},h.docsforselectedDatedatelong));return c.createElement(u.default,{scrollSelector:"#hp-page-home",offsetHeightSelector:".hp-list-page-header"},c.createElement("div",{
className:"hp-homepage-section-header"},c.createElement("h2",{className:"upcoming-meetings-header"},c.createElement("div",{className:"hp-select upcoming-meetings-header-calendar-picker"
},c.createElement(d.default,{className:"hp-select-upcoming-meetings-calendar-date-button",ref:function(t){return e.handleClick(t)},onOpen:function(){return e.onDropdownStateChanged(!0)},
onClose:function(){return e.onDropdownStateChanged(!1)}},c.createElement(i.default,{"disable-auto-track":!0,className:"upcoming-meetings-header-calendar-picker-button"},t,c.createElement(p.default,{
name:"caret"})),c.createElement(l.default,{className:"notranslate",noPadding:!0},c.createElement(r.default,{displayFullMonthInitial:!0,onDateChanged:e.onDateChanged,selectedDate:e.selectedDate})))))))
};t.UpcomingMeetingsHeader.displayName="UpcomingMeetingsHeader"},1547:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.getDateType=t.DateType=void 0;var n,r=a(147),o=a(41)
;!function(e){e[e.TODAY=1]="TODAY";e[e.TOMORROW=2]="TOMORROW";e[e.CUSTOM=3]="CUSTOM"}(n=t.DateType||(t.DateType={}));t.getDateType=function(e,t){t||(t=new Date)
;var a=r.getBeginningOfDay(t),s=new Date(a.getTime()+o.Time.DAY),i=new Date(a.getTime()+2*o.Time.DAY),l=e.getTime()
;return l>=a.getTime()&&l<s.getTime()?n.TODAY:l>=s.getTime()&&l<i.getTime()?n.TOMORROW:n.CUSTOM}},1576:function(e,t,a){var n;Object.defineProperty(t,"__esModule",{value:!0})
;t.TabbedDocAndFolderList=t.shouldIncludeCloudDocs=void 0
;var r=a(1),o=a(6),s=a(89),i=a(2),l=a(461),d=a(11),c=a(250),u=a(7),p=a(7),m=a(10),h=a(68),f=a(103),g=a(73),v=a(372),y=a(7),b=a(7),E=a(69),C=a(14),M=a(879),S=a(23),k=a(0),_=a(380),w=a(31),D=a(13),T=a(150),P=a(4),N=a(49),F=a(135),I=(0,
C.MsgFactory)("tabbed_doc_and_folder_list"),A=I.F,x=I.defineMessages;function L(e,t){return!(!w.isOnButDoNotLog("paper_legacy_paper_home_show_pifs_docs")||!t)||e&&(0,s.cloudDocsUxEnabled)()}
t.shouldIncludeCloudDocs=L;var O=x({genericTitle:{msg:"Ready to write?",description:"Title for the empty state of the home page lists where we encourage users to create a new doc"},
genericDescription:{msg:'Click "Create new doc" to jump in and start typing.',description:"Subtitle for the empty state of the home page lists where we encourage users to create a new doc"},
genericFoldersTitle:{msg:"Want to tidy things up?",description:"Title for the empty state of the home page lists where we encourage users to create a new folder"},genericFoldersDescription:{
msg:"Click “Create new folder” to start organizing your docs.",description:"Subtitle for the empty state of the home page lists where we encourage users to create a new folder"},docsArchivedTitle:{
msg:"Always here when you need it",description:"Title for empty state of the home page archived docs section"},docsArchivedDescription:{
msg:"Archiving a doc lets people know it isn’t being worked on. It still shows up in search, in case you need to jump back in and take a peek.",
description:"Subtitle for empty state of the home page archived docs section describing what archiving is for"},foldersArchivedTitle:{msg:"Always here when you need it",
description:"Title for empty state of the home page archived folders section"},foldersArchivedDescription:{msg:"Archived folders will show up here, in case you need to jump back in and take a peek.",
description:"Here’s where you’ll find a view of archived folders. They’re out of the way, but ready to be restored, viewed, or permanently deleted."},docsDeletedTitle:{msg:"All clear in here",
description:"Title for empty state of the home page deleted docs section"},docsDeletedDescription:{
msg:"After you delete a doc, it’ll show up here. You can restore deleted docs before they’re gone for good. {helpCenterLink}",
description:"Subtitle for empty state of the home page deleted docs section describing the deletion policy"},unfiledTitle:{msg:"Everything’s nice and tidy",
description:"Title for empty state of the home page unfiled docs section"},unfiledDescription:{msg:"Looking good! You don’t have any unfiled docs.",
description:"Subtitle for empty state of the home page unfiled docs section"},starredTitle:{msg:"Not a star in sight",description:"Title for empty state of the home page starred docs section"},
starredDescription:{msg:"After you star an item, it’ll show up here, so it’s easier to get to.",description:"Subtitle for empty state of the home page starred docs section"},
fordetailsvisitourhelpcenter:{msg:"For details, visit our help center.",
description:"Help center doc link for more information about deleted documents.  This is used as a part of the empty state description for deleted documents"},loading:{msg:"Loading"}}),B=((0,
i.defineMessages)({genericTitle:{id:"a2mUG2",defaultMessage:"Ready to write?"},genericDescription:{id:"ZHNv6y",defaultMessage:'Click "Create new doc" to jump in and start typing.'},
genericFoldersTitle:{id:"Ogw1h9",defaultMessage:"Want to tidy things up?"},genericFoldersDescription:{id:"QKB8bB",defaultMessage:"Click “Create new folder” to start organizing your docs."},
docsArchivedTitle:{id:"A9V0WT",defaultMessage:"Always here when you need it"},docsArchivedDescription:{id:"8guy8b",
defaultMessage:"Archiving a doc lets people know it isn’t being worked on. It still shows up in search, in case you need to jump back in and take a peek."},foldersArchivedTitle:{id:"VpTsju",
defaultMessage:"Always here when you need it"},foldersArchivedDescription:{id:"slPQXT",defaultMessage:"Archived folders will show up here, in case you need to jump back in and take a peek."},
docsDeletedTitle:{id:"uFH0cS",defaultMessage:"All clear in here"},docsDeletedDescription:{id:"tQubjN",
defaultMessage:"After you delete a doc, it’ll show up here. You can restore deleted docs before they’re gone for good. {helpCenterLink}"},unfiledTitle:{id:"8/0pwh",
defaultMessage:"Everything’s nice and tidy"},unfiledDescription:{id:"u3ewvq",defaultMessage:"Looking good! You don’t have any unfiled docs."},starredTitle:{id:"abJNDS",
defaultMessage:"Not a star in sight"},starredDescription:{id:"E6N7zo",defaultMessage:"After you star an item, it’ll show up here, so it’s easier to get to."},fordetailsvisitourhelpcenter:{id:"3t5id3",
defaultMessage:"For details, visit our help center."},loading:{id:"jybGUg",defaultMessage:"Loading"}}),(0,i.defineMessages)(((n={})[p.HomeTab.Recents]={id:"iko1TO",defaultMessage:"All"},
n[p.HomeTab.Starred]={id:"bllGAh",defaultMessage:"Starred"},n[p.HomeTab.Docs]={id:"DscyuK",defaultMessage:"Docs"},n[p.HomeTab.Folders]={id:"saM2wP",defaultMessage:"Folders"},
n[u.HomeSubTab.Alphabetical]={id:"nRJgj8",defaultMessage:"Alphabetical"},n[u.HomeSubTab.Recents]={id:"z6Zq+f",defaultMessage:"Viewed recently"},n[u.HomeSubTab.OwnedByMe]={id:"xkg7w5",
defaultMessage:"Owned by me"},n[u.HomeSubTab.SharedWithMe]={id:"9AyoTw",defaultMessage:"Shared with me"},n[u.HomeSubTab.Archived]={id:"7dyBPz",defaultMessage:"Archived"},n[u.HomeSubTab.Deleted]={
id:"RBvabN",defaultMessage:"Deleted"},n)),function(e){r.__extends(t,e);function t(t,a){var n=e.call(this,t,a)||this;n.updateListDataSource=function(e){
null!=n.currentListDataSource&&n.currentListDataSource.dispose();n.currentListDataSource=n.createListDataSourceForTab(e);n.rebindEvents();n.currentListDataSource.load();n.handleListDataSourceChange()}
;n.handleListDataSourceChange=function(){var e=o.some(n.currentListDataSource.get().entries,(function(e){return"pad"===e.type&&e.pad.isCloudDoc}))
;n.state&&n.props.onCloudDocPresenceChange&&n.props.onCloudDocPresenceChange(e,n.state.currentTab);n.setState({entries:n.currentListDataSource.get()})};n.handleTabClicked=function(e,t){
e.preventDefault();var a=(0,l.retrieveTabFromHash)(n.props.tabs,t),r=a.tab,o=a.subTab||r;if(o){var s=N.URI.parse(document.location.href).setPath(o.paths[0]).toString()
;n.props.dontModifyBrowserHistory||(0,F.historyPushState)({},document.title,s);n.updateCurrentTab(o.metadata);n.props.onTabChange&&n.props.onTabChange(o.metadata)}};n.handleToggle=function(e,t){
if(n.props.onToggle){var a=o.find(n.state.entries.entries,(function(t){return t.id.id===e.id}));n.props.onToggle(e,t,a)}};var r=n.getDefaultTab();n.updateListDataSource(r)
;var s=n.currentListDataSource.get();n.state={currentTab:r,entries:s};return n}t.prototype.componentDidMount=function(){this.rebindEvents();this.trackTabView()}
;t.prototype.componentDidUpdate=function(e,t){var a=e.initialTab&&(0,l.hashTab)(e.initialTab),n=this.props.initialTab&&(0,l.hashTab)(this.props.initialTab)
;this.state.currentTab!==t.currentTab&&this.trackTabView();a!==n&&this.updateCurrentTab(this.getDefaultTab())};t.prototype.componentWillUnmount=function(){if(null!=this.currentListDataSource){
this.currentListDataSource.off("change",this.handleListDataSourceChange);this.currentListDataSource.dispose()}};t.prototype.reload=function(){
null!=this.currentListDataSource&&this.currentListDataSource.load()};t.prototype.trackTabView=function(){(0,P.trackUi)("view-tab",{tab:(0,P.contextTypeToString)(this.getCurrentTrackContext())})}
;t.prototype.getDefaultTab=function(){return this.props.initialTab||this.props.tabs[0].metadata};t.prototype.updateCurrentTab=function(e){var t=this;this.setState({currentTab:e},(function(){
return t.updateListDataSource(e)}))};t.prototype.rebindEvents=function(){null!=this.currentListDataSource&&this.currentListDataSource.off("change",this.handleListDataSourceChange)
;null!=this.currentListDataSource&&this.currentListDataSource.on("change",this.handleListDataSourceChange)};t.prototype.createListDataSourceForTab=function(e){
var t=e.dataSource===y.ListViewDataSource.Docs,a=e.dataSource===y.ListViewDataSource.Folders?void 0:this.context.stores.padList,n=t?void 0:this.context.stores.folderList,r=L(this.props.isDesktop,this.props.isWebHome)
;return new v.default({padListStore:a,folderListStore:n,filter:e.filter,includeFolders:!t,limit:e.limit,includingCloudDocs:r})};t.prototype.getCurrentTrackContext=function(){var e=(0,
l.retrieveTabFromHash)(this.props.tabs,(0,l.hashTab)(this.state.currentTab)),t=e.tab,a=e.subTab;return a&&a.trackContext?a.trackContext:t.trackContext};t.prototype.renderEmptyMessage=function(e,t,a){
return k.createElement("div",{className:"hp-tab-empty-state"},k.createElement(g.InvertibleImage,{className:"hp-tab-empty-state-hero",src:e
}),k.createElement("h3",null,k.createElement(A,r.__assign({},t))),k.createElement("p",null,k.createElement(A,r.__assign({},a))))};t.prototype.renderEmptyTabContents=function(e){
if(e.filter==b.ListViewFilter.archived){
if(e.dataSource==y.ListViewDataSource.Docs)return this.renderEmptyMessage("/static/img/composer/rebrand/empty-states/empty-archived-docs-tab.png",O.docsArchivedTitle,O.docsArchivedDescription)
;if(e.dataSource==y.ListViewDataSource.Folders)return this.renderEmptyMessage("/static/img/composer/rebrand/empty-states/empty-archived-docs-tab.png",O.foldersArchivedTitle,O.foldersArchivedDescription)
}if(e.filter==b.ListViewFilter.trashed){var t=k.createElement("a",{href:"https://help.dropbox.com/paper/archive-restore-doc",target:"_blank",rel:"noreferrer"
},k.createElement(A,r.__assign({},O.fordetailsvisitourhelpcenter)))
;return this.renderEmptyMessage("/static/img/composer/rebrand/empty-states/empty-trashed-docs-tab.png",O.docsDeletedTitle,Object.assign({values:{helpCenterLink:t}},O.docsDeletedDescription))}
return e.filter==b.ListViewFilter.recentFavorites?this.renderEmptyMessage("/static/img/composer/rebrand/empty-states/no-docs-null.png",O.starredTitle,O.starredDescription):e.dataSource==y.ListViewDataSource.Folders?this.renderEmptyMessage("/static/img/composer/rebrand/empty-states/empty-folders-tab.png",O.genericFoldersTitle,O.genericFoldersDescription):this.renderEmptyMessage("/static/img/composer/rebrand/empty-states/no-docs-null.png",O.genericTitle,O.genericDescription)
};t.prototype.render=function(){var e=this,t=(0,l.retrieveTabFromHash)(this.props.tabs,(0,l.hashTab)(this.state.currentTab)),a=t.tab,n=t.subTab,o=(0,l.hashTab)(a.metadata),s=n?k.createElement(H,{
tab:a,selectedSubTab:n,onSubTabClick:this.handleTabClicked}):null,i=this.props.tabs.map((function(t){var a=(0,l.hashTab)(t.metadata),n=k.createElement(A,r.__assign({},t.title))
;return k.createElement(P.TrackContext,{key:"tab-".concat(a),trackContext:t.trackContext},k.createElement(T.default,{href:t.paths[0],value:a,selected:o,linkHandler:e.handleTabClicked},n))
})),d=k.createElement("div",{className:"hp-tabs"},i,s);this.props.scrollLockTab&&(d=k.createElement(_.default,r.__assign({},this.props.scrollLockTab),d))
;var u=k.createElement("div",null,k.createElement(A,r.__assign({},O.loading)));if(this.state.entries&&this.state.entries.isLoaded){
if(this.state.entries.isLoaded&&0==this.state.entries.entries.length)u=this.renderEmptyTabContents(this.state.currentTab);else{var p=(0,c.getNumPadEntries)(this.state.entries)
;u=k.createElement(M.default,{app:this.props.app,data:this.state.entries,trackListView:"homepage-tabs",multiselectState:this.props.multiselectState,onToggle:this.handleToggle,
stores:this.context.stores,sortOrder:this.state.currentTab.filter,header:this.props.header?this.props.header(this.state.currentTab,p):null,
footer:this.props.footer?this.props.footer(this.state.currentTab,p):null,isWebHome:this.props.isWebHome})}var m=this.getCurrentTrackContext();m&&(u=k.createElement(P.TrackContext,{trackContext:m},u))}
return k.createElement("div",{className:"hp-tabbed-doc-and-folder-list"},d,u)};t.displayName="TabbedDocAndFolderList";t.contextTypes={stores:S.object.isRequired};return t=r.__decorate([d.default],t)
}(k.Component));t.TabbedDocAndFolderList=B;var H=function(e){r.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleClick=function(e,a){t.menu.close()
;t.props.onSubTabClick(a,e)};return t}t.prototype.render=function(){var e=this,t=this.props,a=t.selectedSubTab,n=t.tab,o=(0,l.hashTab)(a.metadata);return k.createElement(E.default,{ref:function(t){
return e.menu=t}},k.createElement(m.default,{className:"selenium-selected-subtab",hasPopup:!0},k.createElement(A,r.__assign({},a.title)),k.createElement(D.default,{name:"caret"
})),k.createElement(h.default,null,k.createElement("ul",null,n.subTabs.map((function(t){var a=(0,l.hashTab)(t.metadata),n=a===o?"hp-menu-selected":"";return k.createElement(f.HpMenuItem,{
key:"subtab-".concat(a)},k.createElement(m.default,{className:n,onClick:e.handleClick.bind(e,a)},k.createElement(A,r.__assign({},t.title))))})))))};t.displayName="SubTabsDropdown";return t
}(k.Component)},1577:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(6),o=a(3),s=a(89),i=a(8),l=a(99),d=a(2),c=a(611),u=a(1578),p=a(7),m=a(233),h=a(10),f=a(139),g=a(1580),v=a(1582),y=a(138),b=a(28),E=a(14),C=a(855),M=a(115),S=a(201),k=a(23),_=a(0),w=a(32),D=a(63),T=a(13),P=a(4),N=a(17),F=(0,
E.MsgFactory)("padlist"),I=F.F,A=(0,F.defineMessages)({cantselectdocbecauseitwascreatedwithanolderversionofPaper:{msg:"Can’t select doc because it was created with an older version of Paper."},
cantselectdocbecauseitwascreatedwithadifferentversionofPaper:{msg:"Can’t select doc because it was created with a different version of Paper."}}),x=((0,d.defineMessages)({
cantselectdocbecauseitwascreatedwithanolderversionofPaper:{id:"4xFLEj",defaultMessage:"Can’t select doc because it was created with an older version of Paper."},
cantselectdocbecauseitwascreatedwithadifferentversionofPaper:{id:"XsTAeq",defaultMessage:"Can’t select doc because it was created with a different version of Paper."}}),function(e){n.__extends(t,e)
;function t(t,a){var n=e.call(this,t,a)||this;n.handleNetworkStatusChange=function(){n.setState({isOffline:n.props.stores.networkStatus.isOffline()})};n.onClick=function(e){
if(!(N.default.events.shouldOpenInNewTab(e)||n.props.pad.isCloudDoc&&D.isOnButDoNotLog("paper_legacy_paper_home_show_pifs_docs")&&n.props.isWebHome)){e.preventDefault();n.props.app.navigateToPad({
id:n.props.pad.localPadId,title:n.getTitle()},{openInBackground:N.default.events.shouldOpenInNewTab(e,!0)})}n.props.onClick&&n.props.onClick();var t={keyboard:!1,newtab:!1,index:n.props.index,
context:n.getTrackContext()};if(1==e.button)t.newtab=!0;else if(N.default.events.testAccelKey(e)){t.newtab=!0;t.keyboard=!0}(0,P.trackUi)("Open pad",t)};n.state={isOffline:!1};return n}
t.prototype.getTrackContext=function(){};t.prototype.componentDidMount=function(){this.props.stores.networkStatus.addEventListener(this.handleNetworkStatusChange);this.handleNetworkStatusChange()}
;t.prototype.componentWillUnmount=function(){this.props.stores.networkStatus.removeEventListener(this.handleNetworkStatusChange)};t.prototype.shouldShowFavoriteButton=function(){
return!this.state.isOffline&&this.state.renderHiddenThings&&M.isPadActive(this.props.pad)};t.prototype.shouldShowInlineSecondaryActionButton=function(){
return this.state.renderHiddenThings&&!b.isMobile()&&!this.props.pad.isSearchResult&&!this.props.pad.isDeleted&&!this.props.pad.isTrashed};t.prototype.getTitle=function(){
return w.padTitleOrDefault(this.props.pad.title,i.default.userLocale)};t.prototype.padAsSearchResult=function(){return this.props.pad};t.prototype.renderCheckboxTooltipContent=function(){return(0,
s.cloudDocsUxEnabled)()&&!this.props.pad.isCloudDoc?_.createElement(I,n.__assign({},A.cantselectdocbecauseitwascreatedwithanolderversionofPaper)):!(0,
s.cloudDocsUxEnabled)()&&this.props.pad.isCloudDoc?_.createElement(I,n.__assign({},A.cantselectdocbecauseitwascreatedwithadifferentversionofPaper)):void 0}
;t.prototype.renderInlineSecondaryActionButton=function(){return this.shouldShowInlineSecondaryActionButton()?this.props.showMoveButton?_.createElement(g.default,{pad:this.props.pad,
stores:this.props.stores}):_.createElement(v.default,{padTitle:this.props.pad.title,localPadId:this.props.pad.localPadId}):null};t.prototype.renderOverflowMenu=function(){
return!this.props.pad.isSearchResult&&this.state.renderHiddenThings&&this.props.showOverflowMenu?_.createElement(u.default,{pad:this.props.pad,isPinned:this.props.isPinned}):null}
;t.prototype.render=function(){
var e,t,a,n=this,s=this.props.pad.url||w.relativePrettyPaperDocUrl(this.props.pad.localPadId,this.getTitle(),i.default.userLocale),d=!M.isPadActive(this.props.pad),u=o("selenium-list-item-doc","hp-list-item","hp-list-item-doc",{
"hp-list-item-selected":this.props.checked,"hp-list-item-cursor":this.props.cursor,"hp-list-item-archived":d,"hp-list-item-highlighted":this.props.isHighlighted,
"hp-list-item-welcome-pad":this.props.pad.padType==p.PadType.welcome});if(l.isOn("debug-padlist-sorting")){
var g=["lastActivityDate","currentUserInvitedDate","createdDate","lastViewedDate","myLastEditedDate"];g.sort((function(e,t){return n.props.pad[e]<n.props.pad[t]?1:-1}));e=_.createElement("pre",{
style:{wordWrap:"break-word"}},JSON.stringify(r.pick(this.props.pad,g)))}if(this.shouldShowFavoriteButton()){var v=this.props.pad.isFavorite;t=_.createElement(m.default,{inline:!0,itemType:"note",
localPadId:this.props.pad.localPadId,key:"favoriteButton",isFavorite:v,className:"hp-list-item-star",source:this.props.trackListView,stores:this.props.stores})}
a=d?"note-archived":this.props.pad.padType==p.PadType.customTemplate?"note-empty":"note";var y=_.createElement(C.MultiselectCheckbox,{onToggle:function(e){return n.props.onToggle(n.props.checkboxId,e)
},checked:this.props.checked,enableCheckbox:this.props.enableCheckbox,alwaysShowCheckbox:this.props.alwaysShowCheckbox,className:this.props.checkboxClassName,lazyRender:!this.state.renderHiddenThings,
title:this.getTitle(),tooltipContent:this.renderCheckboxTooltipContent()});return _.createElement(h.default,{styleless:!0,href:s,className:u,onClick:this.onClick,"track-title":"Pad entry",
"track-index":this.props.index},y,_.createElement(f.default,{title:this.getTitle()},_.createElement(T.default,{name:a})),_.createElement(c.default,{hideSharingStatus:this.props.hideSharingStatus,
pad:this.props.pad,sortOrder:this.props.sortOrder,hideFolderMembership:this.props.hideFolderMembership,favoriteButton:t,debug:e,stores:this.props.stores,isWebHome:this.props.isWebHome
},this.props.children),_.createElement(S.Presence,{border:!0,activeUsers:this.props.pad.activeUsers}),this.renderInlineSecondaryActionButton(),this.renderOverflowMenu())};t.displayName="DocumentEntry"
;t.contextTypes={initialRenderTime:k.object};return t=n.__decorate([y.default,P.trackContextDecorator],t)}(_.Component));t.default=x},1578:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});var n=a(1),r=a(4),o=a(8),s=a(2),i=a(1579),l=a(10),d=a(68),c=a(103),u=a(69),p=a(14),m=a(0),h=a(13),f=(0,p.MsgFactory)("padlist"),g=f.defineMessages,v=f.IntlMessageFormat,y=g({moreTooltip:{
msg:"More"}}),b=((0,s.defineMessages)({moreTooltip:{id:"S6stj+",defaultMessage:"More"}}),function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleMenuOpen=function(e){
e.preventDefault();e.stopPropagation()};a.closeMenu=function(){a.refs.menuButton.close()};a.state={};return a}t.prototype.render=function(){var e=new v(y.moreTooltip,o.default.userLocale).format()
;return m.createElement(r.TrackContext,{trackContext:r.AppContext.FolderPage.EntryOverflowMenu},m.createElement(u.default,{ref:"menuButton",dontReposition:!0,className:"hp-list-item-actions",
onClick:this.handleMenuOpen},m.createElement(l.default,{className:"hp-pad-more-button hp-icon-button",hasPopup:!0,tooltip:e,"aria-label":e},m.createElement(h.default,{name:"dots"
})),m.createElement(d.default,null,m.createElement("ul",null,m.createElement(c.HpMenuItem,null,m.createElement(i.default,{pad:this.props.pad,isPinned:this.props.isPinned,onClick:this.closeMenu}))))))}
;t.displayName="DocumentEntryOverflowMenu";return t}(m.PureComponent));t.default=b},1579:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(2),o=a(7),s=a(12),i=a(10),l=a(23),d=a(0),c=a(4),u=(0,a(5).PaperIntlFactory)().F,p=(0,r.defineMessages)({removepin:{id:"4IKH5v",defaultMessage:"Remove pin"},pintofolder:{id:"punpPX",
defaultMessage:"Pin to folder"},couldntremovepinTryagainlater:{id:"YYcsQA",defaultMessage:"Couldn’t remove pin. Try again later."},couldntpindocTryagainlater:{id:"6Qlg7/",
defaultMessage:"Couldn’t pin doc. Try again later."}}),m=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={hasPermissions:!1};t.handleClick=function(){
t.props.onClick&&t.props.onClick();t.props.isPinned?t.unpinDocument():t.pinDocument()};t.unpinDocument=function(){
var e=t.props.pad.folderData.folder.encryptedId,a=t.props.pad.localPadId,r=t.context.stores.mostRecentFolder.modifyEntity((function(e){e.folderPins=(e.folderPins||[]).filter((function(e){
return e.encryptedEntityId!==a}))}));(0,c.track)("overflow-menu-unpin-doc-from-folder-clicked");s.post({data:{folderId:e,padId:a},url:"/folder/unpin-doc",
analyticsTag:"overflow-menu-unpin-doc-from-folder-clicked",shardingKey:s.getShardingKeyForPad(a),successHandler:function(e){t.context.stores.mostRecentFolder.refresh()},errorHandler:function(){r()
;return!1},errorModalMessage:d.createElement(u,n.__assign({},p.couldntremovepinTryagainlater))})};t.pinDocument=function(){
var e=t.props.pad,a=e.localPadId,r=e.folderData.folder.encryptedId,i=t.context.stores.mostRecentFolder.modifyEntity((function(t){var r={id:-1,encryptedProjectId:e.folderData.folder.encryptedId,
pinOrder:1,entityType:o.ProjectPinEntityType.Pad,encryptedEntityId:a,entity:e};t.folderPins=n.__spreadArray(n.__spreadArray([],t.folderPins,!0),[r],!1)}));(0,
c.track)("overflow-menu-pin-doc-to-folder-clicked");s.post({data:{folderId:r,padId:a},url:"/folder/pin-doc",analyticsTag:"overflow-menu-pin-doc-to-folder-clicked",
shardingKey:s.getShardingKeyForPad(a),successHandler:function(e){t.context.stores.mostRecentFolder.refresh()},errorHandler:function(){i();return!1},
errorModalMessage:d.createElement(u,n.__assign({},p.couldntpindocTryagainlater))})};return t}t.prototype.componentWillReceiveProps=function(e){this.props.pad&&this.setState({hasPermissions:!0})}
;t.prototype.render=function(){return this.props.isPinned?d.createElement(i.default,{onClick:this.handleClick,className:"hp-button-remove-pinned-doc-from-folder",role:"menuitem"
},d.createElement(u,n.__assign({},p.removepin))):d.createElement(i.default,{onClick:this.handleClick,className:"hp-button-pin-doc-to-folder",role:"menuitem"
},d.createElement(u,n.__assign({},p.pintofolder)))};t.displayName="FolderPinDocButton";t.contextTypes={stores:l.object.isRequired};return t}(d.PureComponent);t.default=m},1580:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(2),o=a(880),s=a(1581),i=a(14),l=a(0),d=a(4),c=(0,i.MsgFactory)("padlist"),u=c.F,p=(0,c.defineMessages)({move:{msg:"Move"}}),m=((0,
r.defineMessages)({move:{id:"ds25UH",defaultMessage:"Move"}}),function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleInlineMove=function(e){e.preventDefault()
;e.stopPropagation();var a=t.props,n=a.pad,r=a.stores;(0,s.movePad)({pad:n,stores:r,trackContext:t.getTrackContext()})};return t}t.prototype.getTrackContext=function(){};t.prototype.render=function(){
return l.createElement(o.default,{trackTitle:"Move (inline)",onClick:this.handleInlineMove},l.createElement(u,n.__assign({},p.move)))};t.displayName="InlineMoveButton"
;return t=n.__decorate([d.trackContextDecorator],t)}(l.Component));t.default=m},1581:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.movePad=void 0
;var n=a(1),r=a(90),o=a(612),s=a(2),i=a(7),l=a(12),d=a(621),c=a(172),u=a(14),p=a(115),m=a(0),h=a(379),f=a(4),g=(0,u.MsgFactory)("ui"),v=g.F,y=(0,g.defineMessages)({movetofolder:{msg:"Move to folder"},
unabletochangefolder:{msg:"Unable to change folder.",description:"Message displayed when the user tries to change the folder that a document is in but fails."}});(0,s.defineMessages)({movetofolder:{
id:"p+Enby",defaultMessage:"Move to folder"},unabletochangefolder:{id:"9NGWPu",defaultMessage:"Unable to change folder."}});t.movePad=function(e){
var t=e.pad,a=e.stores,r=e.trackContext,o=m.createElement(v,n.__assign({},y.movetofolder));(0,h.default)(o,a,function(e,t,a){return function(r,o){return function(e){
var t=e.pad,a=e.folder,r=e.trackContext,o=e.isNewlyCreated,s=e.stores;if(!a)return;f.IntentionEvent.MovePadToFolder.track(n.__assign({context:r,
is_public:a.folder.guestPolicy==i.FolderGuestPolicy.public,padType:t.padType},(0,c.default)(a)));(0,f.trackUi)("Move pad started",{folderNewlyCreated:o,context:r,padType:t.padType});b(a,t,s,r,{
isConfirmed:!1})}({pad:e,folder:r,trackContext:a,isNewlyCreated:o,stores:t})}}(t,a,r),function(e,t){return function(){(0,f.trackUi)("Move pad cancelled",{context:t,padType:e.padType})}}(t,r),{
allowRoot:!1,trackContext:r,folderData:t.folderData})};function b(e,t,a,s,i){l.post({url:"/folder/set-pad-folder",data:{padId:t.localPadId,folderId:e.folder.encryptedId,confirmed:i.isConfirmed},
analyticsTag:"set-pad-folder",shardingKey:l.getShardingKeyForPad(t.localPadId),successHandler:function(e){if(e.success){!function(e,t,a,n){var r=e.data,o=a.padList;o.updatePad(t.localPadId,{
folderData:r});(0,f.trackUi)("Move pad completed",{context:n,padType:t.padType});p.isPadTemplate(t)&&f.IntentionEvent.TemplateAddedToFolder.track()
;e.autoFollowed&&d.showSnackbar(r.folder.encryptedId,r.subscriptionLevel)}(e,t,a,s);i.onSuccess&&i.onSuccess(e.data)}},errorHandler:function(l,d,c){if(200==c){var u=JSON.safeParse(l)
;if(u&&u.needsConfirmation){!function(e,t,a,n,r){var s=function(){b(e,t,a,n,{isConfirmed:!0,onSuccess:r})},i=function(){},l=p.isPadTemplate(t),d=0,c=0,u=0;l?c=1:u=1;o.default.show(e,s,i,u,d,c)
}(e,t,a,s,i.onSuccess);return!0}}var h=m.createElement(v,n.__assign({},y.unabletochangefolder));r.errorModal({title:h});i.onError&&i.onError()}})}},1582:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(8),o=a(2),s=a(880),i=a(14),l=a(248),d=a(0),c=a(32),u=(0,i.MsgFactory)("padlist"),p=u.F,m=(0,u.defineMessages)({share:{msg:"Share"}
}),h=((0,o.defineMessages)({share:{id:"CcpVyl",defaultMessage:"Share"}}),function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleInlineShare=function(e){
e.preventDefault();e.stopPropagation();var a="?"+l.QueryParamNames.OPEN_SHARING+"=1",n=c.padTitleOrDefault(t.props.padTitle,r.default.userLocale);App.navigateToPad({id:t.props.localPadId,title:n,
suffix:a})};return t}t.prototype.render=function(){return d.createElement(s.default,{trackTitle:"Share (inline)",onClick:this.handleInlineShare},d.createElement(p,n.__assign({},m.share)))}
;t.displayName="InlineShareButton";return t}(d.Component));t.default=h},1583:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(53),o=a(8),s=a(2),i=a(60),l=a(7),d=a(83),c=a(10),u=a(0),p=a(32),m=a(159),h=a(869),f=a(4),g=a(29),v=a(17),y=(0,a(5).PaperIntlFactory)().F,b=(0,s.defineMessages)({createdoc:{id:"KLVfpZ",
defaultMessage:"Create doc"}}),E=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleCreateDoc=function(e){e.preventDefault()
;var a,n=t.props,o=n.app,s=n.pad;d.shouldOpenInNewTab(e)&&(a=(0,g.unsafeWindowOpen)("about:blank"));var i=s.folderData&&s.folderData.folder?s.folderData.folder.encryptedId:void 0
;m.createDocFromTemplate({folderId:i,templateId:s.localPadId,templateType:l.TemplateType.custom,successHandler:function(e){a?a.location.replace(o.constructUrl(r.default.PAD,{id:e.padId,
suffix:"?createFromTemplate=1"})):o.navigateToPad({id:e.padId,suffix:"?createFromTemplate=1",cloudDocId:e.cloudDocId})},trackContext:t.getTrackContext()})};t.onClick=function(e){
if(!v.default.events.shouldOpenInNewTab(e)){e.preventDefault();var a=t.props,n=a.app,r=a.pad;n.navigateToPad({id:r.localPadId,title:r.title})}};return t}t.prototype.getTrackContext=function(){}
;t.prototype.render=function(){var e=m.getTemplateMetaFromPadMetaOrSearchResult(this.props.pad),t=(0,p.relativePrettyPaperDocUrl)(e.templateId,e.title,o.default.userLocale)
;return u.createElement("div",{className:"hp-list-item template-list-entry__wrapper"},u.createElement(c.default,{styleless:!0,onClick:this.onClick,href:t,className:"hp-list-item",
"track-title":"Template entry","track-index":this.props.index},u.createElement(h.TemplateEmojiTile,{template:e,size:"medium"}),u.createElement("div",{
className:"hp-list-item-content template-tile-list-result__content"},u.createElement("div",{className:"hp-list-item-title template-tile-list-result__title notranslate"},u.createElement(i.default,{
str:e.title,skipFirstEmoji:!0})),u.createElement("div",{className:"hp-list-item-subtitle"},u.createElement("div",{className:"hp-doclist-entry-byline"
},m.getTemplateByline(this.props.pad))))),u.createElement("div",{className:"hp-list-item-inline-share template-tile-list-result__action"},u.createElement(c.default,{className:"create-doc-button",
onClick:this.handleCreateDoc,secondary:!0},u.createElement(y,n.__assign({},b.createdoc)))))};t.displayName="TemplateListEntry";return t=n.__decorate([f.trackContextDecorator],t)}(u.Component)
;t.default=E},1894:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.EmptyFolderContent=void 0;var n=a(1),r=a(4),o=a(479),s=a(2),i=a(60),l=a(7),d=a(10),c=a(73),u=a(0),p=(0,
a(5).PaperIntlFactory)().F,m=(0,s.defineMessages)({thisisacompanyfolderlineBreaksoanydocsinitoraddedtoitcanbeseenlineBreakbyanyoneatteamName:{id:"pDPwMT",
defaultMessage:"This is a company folder,{lineBreak}\n       so any docs in it or added to it can be seen{lineBreak}\n       by anyone at {teamName}."},
thisisaninviteonlyfolderOnlymembersofthisfoldercanviewwhatsinitlineBreaklineBreakDocsinthisfoldercanstillbesharedwithpeopleoutsidethisfolder:{id:"iiRf/R",
defaultMessage:"This is an invite-only folder. Only members of this folder can view what's in it.\n          {lineBreak}{lineBreak}\n          Docs in this folder can still be shared with people outside this folder."
},thisisaninviteonlyfolderlineBreakDocsplacedinthisfolderwillbediscoverableonlybypeopleyouinvitetothisfolder:{id:"hhwpbA",
defaultMessage:"This is an invite-only folder.{lineBreak}\n              Docs placed in this folder will be discoverable only by people you invite to\n              this folder."},sampledoc:{
id:"n9VsuX",defaultMessage:"Sample doc"},createanewdoc:{id:"ZQmEGF",defaultMessage:"Create a new doc"},welcometofolderName:{id:"TI+SSK",defaultMessage:"Welcome to {folderName}"}})
;t.EmptyFolderContent=function(e){var t=e.folderData.folder.guestPolicy===l.FolderGuestPolicy.public?u.createElement("p",null,u.createElement(p,n.__assign({values:{
lineBreak:u.createElement("br",null),teamName:e.folderData.teamName}
},m.thisisacompanyfolderlineBreaksoanydocsinitoraddedtoitcanbeseenlineBreakbyanyoneatteamName))):u.createElement("p",null,u.createElement(p,n.__assign({values:{lineBreak:u.createElement("br",null)}
},m.thisisaninviteonlyfolderOnlymembersofthisfoldercanviewwhatsinitlineBreaklineBreakDocsinthisfoldercanstillbesharedwithpeopleoutsidethisfolder))),a=e.canCreatePadInFolder?u.createElement("div",{
className:"hp-page-empty-state-actions dmc-button-pair-full"},u.createElement(d.default,{secondary:!0,"data-track":r.IntentionEvent.CreateSamplePad,
"data-track-context":r.AppContext.FolderPage.EmptyState,onClick:e.onCreateSamplePad},u.createElement(p,n.__assign({},m.sampledoc))),u.createElement(o.CreatePadButton,{primary:!0,
"track-context":r.AppContext.FolderPage.EmptyState,app:e.app,folder:e.folderData.folder},u.createElement(p,n.__assign({},m.createanewdoc)))):null;return u.createElement(r.TrackContext,{
trackContext:r.AppContext.FolderPage.EmptyState},u.createElement("div",{className:"hp-page-inner hp-page-empty-state"},u.createElement(c.InvertibleImage,{className:"hp-empty-state-hero",
src:"/static/img/composer/rebrand/empty-states/empty-folder.png"}),u.createElement("h1",null,u.createElement(p,n.__assign({values:{folderName:u.createElement(i.default,{str:e.folderData.folder.name})}
},m.welcometofolderName))),t,a))}},1895:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(6),o=a(90),s=a(2),i=a(60),l=a(7),d=a(11),c=a(12),u=a(76),p=a(200),m=a(172),h=a(273),f=a(0),g=a(379),v=a(4),y=(0,a(5).PaperIntlFactory)().F,b=(0,s.defineMessages)({
unabletoremovethisdocfromtheFolder:{id:"FwvreH",defaultMessage:"Unable to remove this doc from the Folder."},unabletomoveproject:{id:"sQ1NkX",defaultMessage:"Unable to move project"},
thisfolderisaprojectandcantbemovedintoanotherfolder:{id:"CNLJBf",defaultMessage:"This folder is a project and can't be moved into another folder."},movetofolder:{id:"p+Enby",
defaultMessage:"Move to folder"},unabletomoveFolder:{id:"oXe5+A",defaultMessage:"Unable to move Folder."},unabletochangethisdocsFolder:{id:"74wSB9",defaultMessage:"Unable to change this doc's Folder."
},parentfoldernameisacompanyfolderAnyoneatteamNamewillbeabletoaccesschildFolderName:{id:"qRpGK0",
defaultMessage:"\n           “{parentFolderName}” is a company folder.\n           Anyone at {teamName} will be able to access “{childFolderName}”.\n        "},
parentfoldernameisacompanyfolderEveryoneatteamNamewillbeabletoaccesschildFolderName:{id:"UFXeIP",
defaultMessage:"\n           “{parentFolderName}” is a company folder.\n           Everyone at {teamName} will be able to access “{childFolderName}”.\n        "},
parentfoldernameisaninviteonlyfolderOnlymembersinvitedtoparentFolderNamewillbeabletoaccesschildFolderNamelineBreaklineBreakPeoplewillstillbeabletoseeanydocstheyhavebeenaddedto:{id:"nnJOkp",
defaultMessage:"\n          “{parentFolderName}” is an invite-only folder.\n          Only members invited to “{parentFolderName}” will be able to\n          access “{childFolderName}”.{lineBreak}{lineBreak}\n          People will still be able to see any docs they have been added to.\n        "
},move:{id:"ds25UH",defaultMessage:"Move"},confirmMove:{id:"qsKCw1",defaultMessage:"Confirm Move"}}),E=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this
;t.makeTopLevel=function(){(0,v.track)("folder-parent-removed");var e=t.props.folderData.parentFolders;0!=e.length&&c.post({url:"/folder/remove-parent-folder",data:{
folderId:t.props.folderData.folder.encryptedId,parentFolderId:e[e.length-1].encryptedId},analyticsTag:"remove-parent-folder",shardingKey:c.getStatelessShardingKey(),hpAppLevel:!0,
successHandler:t.props.onChange,errorModalMessage:f.createElement(y,n.__assign({},b.unabletoremovethisdocfromtheFolder))})};t.changeFolder=function(){(0,v.track)("folder-move-clicked",(0,
m.default)(t.props.folderData));if(t.props.folderData&&t.props.folderData.folder&&t.props.folderData.folder.isProject){
var e=f.createElement(y,n.__assign({},b.unabletomoveproject)),a=f.createElement(y,n.__assign({},b.thisfolderisaprojectandcantbemovedintoanotherfolder));o.alert(e,a)}else{
var r=f.createElement(y,n.__assign({},b.movetofolder));(0,g.default)(r,t.props.stores,t.setFolder,t.onCancel,{allowRoot:!0,excludeFolderIds:[t.props.folderData.folder.encryptedId],
requireDomainId:t.props.folderData.folder.encryptedDomainId,trackContext:t.getTrackContext()})}};t.onCancel=function(){(0,v.track)("folder-move-cancelled")};t.setFolder=function(e,a){
if(null==e)t.makeTopLevel();else{a&&(0,v.track)("folder-move-folder-created");(0,v.track)("folder-move-change-started");c.post({url:"/folder/set-parent-folder",data:{
folderId:t.props.folderData.folder.encryptedId,parentFolderId:e.folder.encryptedId,confirmed:!1},analyticsTag:"folder-move-change",shardingKey:c.getStatelessShardingKey(),hpAppLevel:!0,
successHandler:t.maybeConfirmMove,errorModalMessage:f.createElement(y,n.__assign({},b.unabletomoveFolder))})}};t.maybeConfirmMove=function(e){if(e.needsConfirmation){var a=e.confirmationInfo
;t.showMoveConfirmation(a)}else{(0,v.track)("folder-move-changed",{privacyWarning:!1});t.props.onChange(e)}};t.cancelConfirmation=function(){(0,v.track)("folder-move-privacy-warning-cancelled")}
;t.showMoveConfirmation=function(e){var a,r=e.folderTeamName,s=e.parentFolder.name,d=e.parentFolder.guestPolicy,u=e.childFolder.name;a=d==l.FolderGuestPolicy.public?f.createElement(y,n.__assign({
values:{childFolderName:f.createElement(i.default,{str:u}),parentFolderName:f.createElement(i.default,{str:s}),teamName:r}
},b.parentfoldernameisacompanyfolderEveryoneatteamNamewillbeabletoaccesschildFolderName)):f.createElement(y,n.__assign({values:{childFolderName:f.createElement(i.default,{str:u}),
parentFolderName:f.createElement(i.default,{str:s}),lineBreak:f.createElement("br",null)}
},b.parentfoldernameisaninviteonlyfolderOnlymembersinvitedtoparentFolderNamewillbeabletoaccesschildFolderNamelineBreaklineBreakPeoplewillstillbeabletoseeanydocstheyhavebeenaddedto));(0,
v.track)("folder-move-privacy-warning",{newGuestPolicy:d});var p=f.createElement(y,n.__assign({},b.move)),m=f.createElement(y,n.__assign({},b.confirmMove));o.confirm(m,a,function(){(0,
v.track)("folder-move-privacy-warning-confirmed");(0,v.track)("folder-move-changed",{privacyWarning:!0});c.post({url:"/folder/set-parent-folder",data:{folderId:e.childFolder.encryptedId,
parentFolderId:e.parentFolder.encryptedId,confirmed:!0},analyticsTag:"pad-folder-changed",shardingKey:c.getStatelessShardingKey(),hpAppLevel:!0,successHandler:this.props.onChange,
errorModalMessage:f.createElement(y,n.__assign({},b.unabletochangethisdocsFolder))})}.bind(t),{confirmText:p,cancelCallback:t.cancelConfirmation})};return t}t.prototype.getTrackContext=function(){}
;t.prototype.render=function(){var e=this,t=this.props.folderData,a=t.parentFolders,n=t.folder,r=(a||[]).concat(n),o=this.props.hideFolderIcon?null:f.createElement(p.default,{
folderData:this.props.folderData,useDecoratedIcon:!0,hasTooltip:!0}),s=u.prettyFolderUrl,l=r.map((function(t,a){return a==r.length-1?f.createElement(h.HpCrumb,{self:!0,key:"self",
onClick:e.props.onCurrentFolderClicked},0==a?o:null,f.createElement("span",{className:"hp-folder-breadcrumb-name"},f.createElement(i.default,{str:t.name}))):f.createElement(h.HpCrumb,{href:s(t),
onClick:App.onLinkClicked,"data-track":"folder-breadcrumb-parent-clicked",key:a},0==a?o:null,f.createElement("span",{className:"hp-folder-breadcrumb-name"},f.createElement(i.default,{str:t.name})))}))
;return f.createElement("div",null,f.createElement(h.HpBreadcrumbs,{className:"hp-folder-breadcrumbs",size:"large"},l))};t.prototype.componentDidMount=function(){var e=this
;this.events.on(window,"resize",r.debounce((function(){return e.forceUpdate()}),200))};t.displayName="FolderBreadcrumbs";return t=n.__decorate([d.default,v.trackContextDecorator],t)}(f.PureComponent)
;t.default=E},1896:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(6),o=a(89),s=a(250),i=a(25),l=a(2),d=a(383),c=a(7),u=a(463),p=a(464),m=a(115),h=a(149),f=a(0),g=a(150),v=a(4),y=(0,a(5).PaperIntlFactory)().F,b=(0,l.defineMessages)({alphabetical:{
id:"IfOwOT",defaultMessage:"Alphabetical"},recentlyviewed:{id:"PQs0ph",defaultMessage:"Recently viewed"},templates:{id:"flo/MH",defaultMessage:"Templates"},pinned:{id:"MQOh5M",defaultMessage:"Pinned"}
}),E=(0,i.createReactClass)({displayName:"FolderContents",mixins:[h],isEntryPinned:function(e){return r.some(this.props.folderPins,(function(t){return t.encryptedEntityId==e.id.id}))},
getTemplateEntries:function(){var e=this.props.pads.filter(m.isPadActive).filter(m.isPadTemplate).map(s.constructPadListEntry);return(0,s.sortEntries)(e,c.ListViewFilter.alphabetical)},
getPinnedEntries:function(){var e=r.reduce(this.props.folderPins,(function(e,t){var a=t.entityType,r=t.entity;if(a==c.ProjectPinEntityType.Pad){var o=r
;return m.isPadActive(o)?n.__spreadArray(n.__spreadArray([],e,!0),[(0,s.constructPadListEntry)(o)],!1):e}if(a==c.ProjectPinEntityType.Folder){var i=r;i||(0,
v.trackEng)("folder_get_pinned_entries_failure",{reason:"folderData undefined"});return i&&i.folder&&!i.folder.isDeleted?n.__spreadArray(n.__spreadArray([],e,!0),[(0,
s.constructFolderListEntry)(i)],!1):e}return e}),[]);return(0,s.sortEntries)(e,c.ListViewFilter.alphabetical)},render:function(){
return f.createElement("div",null,this.renderTemplateEntries(),this.renderPinnedEntries(),this.renderTabs(),this.renderEntries())},renderTabs:function(){
var e=this.props,t=e.getFilterPath,a=e.sortOrder,r=e.app,o=c.ListViewFilter,s=o.recents,i=o.alphabetical;return f.createElement("div",{className:"hp-tabs folder-tabs"},f.createElement(g.default,{
value:i,selected:a,href:t(i),linkHandler:r.onUiTabClicked,isDefault:!0},f.createElement(y,n.__assign({},b.alphabetical))),f.createElement(g.default,{value:s,selected:a,href:t(s),
linkHandler:r.onUiTabClicked},f.createElement(y,n.__assign({},b.recentlyviewed))))},renderTemplateEntries:function(){var e=this.getTemplateEntries();if(!e.length)return null
;var t=r.pick(this.props,"app","stores","onToggle");return f.createElement("div",{className:"folder-contents-template-section"},f.createElement("div",{className:"folder-contents-list-label"
},f.createElement(y,n.__assign({},b.templates))),f.createElement(d.default,n.__assign({trackListView:"folder-contents-templates",data:{entries:e},hideSharingStatus:!0},t)))},
renderPinnedEntries:function(){var e=this.getPinnedEntries();if(!e.length)return null;var t=r.pick(this.props,"app","stores","onToggle");return f.createElement("div",{
className:"folder-contents-pinned-section"},f.createElement("div",{className:"folder-contents-list-label"},f.createElement(y,n.__assign({},b.pinned))),f.createElement(d.default,n.__assign({
trackListView:"folder-contents-pinned"},t,{data:{entries:e},multiselectState:this.props.multiselectState,hideSharingStatus:!0,isEntryPinned:this.isEntryPinned,showOverflowMenu:!(0,
o.cloudDocsUxEnabled)()})))},renderEntries:function(){
var e=this.props,t=e.pads,a=e.sortOrder,i=e.multiselectState,l=e.subfolders,c=t.filter(m.isPadActive).filter(r.negate(m.isPadTemplate)).map((function(e){return(0,s.constructPadListEntry)(e,(0,
p.getPadSortValue)(e,a))})),h=r.partition(c,(function(e){return((e.title||"").match(/📌/g)||[]).length})),g=h[0],v=h[1],y=l.filter((function(e){return!e.folder.isDeleted&&!e.folder.isProject
})).map((function(e){return(0,s.constructFolderListEntry)(e,(0,u.getFolderSortValue)(e,a,!1))})),b=r.pick(this.props,"app","stores","onToggle"),E=n.__spreadArray(n.__spreadArray([],(0,
s.sortEntries)(g,a),!0),(0,s.sortEntries)(n.__spreadArray(n.__spreadArray([],v,!0),y,!0),a),!0);return f.createElement(d.default,n.__assign({},b,{trackListView:"folder-contents-list",data:{entries:E},
multiselectState:i,sortOrder:a,isEntryPinned:this.isEntryPinned,hideSharingStatus:!0,showOverflowMenu:!(0,o.cloudDocsUxEnabled)()}))}});t.default=E},1897:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(3),o=a(25),s=a(8),i=a(2),l=a(10),d=a(149),c=a(0),u=a(462),p=(0,a(5).PaperIntlFactory)().F,m=(0,i.defineMessages)({starred:{id:"5hVhqA",
defaultMessage:"Starred"},star:{id:"hafebi",defaultMessage:"Star"}}),h=(0,o.createReactClass)({displayName:"FolderFavoriteButton",mixins:[d],toggleFavorite:function(){
var e=!this.props.folderState.inSidebar;(0,u.updateFolderIsFavorite)(this.props.stores.folderList,this.props.folderState.folder,e,this.props.onSave)},render:function(){
if(!s.default.isSignedIn())return null;var e=this.props.folderState.inSidebar,t=r({"hp-folder-page-favorite-button":!0,"hp-menu-selected":e
}),a=c.createElement(p,n.__assign({},m.starred)),o=c.createElement(p,n.__assign({},m.star));return c.createElement(l.default,n.__assign({className:t,onClick:this.toggleFavorite,
"data-track":"folder-menu-favorite","aria-checked":e},this.props),e?a:o)}});t.default=h},1898:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(867),r=a(381),o=a(620),s=a(23),i=a(0),l=a(382),d=a(63),c=a(251),u=a(4),p=function(e,t){var a=e.app,s=e.breadcrumbs,p=e.children,m=t.stores;return i.createElement(u.TrackContext,{
trackContext:u.AppContext.FolderPage.Header},i.createElement("div",{className:"hp-folder-page-header hp-header hp-list-page-controls selenium-folder-page-header"},i.createElement("div",{
className:"hp-list-page-controls-inner"},i.createElement("div",{className:"hp-list-page-controls-inner2"},i.createElement("div",{className:"hp-list-page-header-left hp-folder-page-header-left"
},s),i.createElement("div",{className:"hp-list-page-header-right"},d.isOnButDoNotLog("paper_combined_search")?i.createElement(r.DropboxSearchComboBox,{app:a}):i.createElement(l.SearchComboBox,{app:a
}),i.createElement(c.default,null),i.createElement(o.default,{app:a,stores:m}),i.createElement(n.default,null))),p)))};p.displayName="FolderPageHeader";p.contextTypes={stores:s.object.isRequired}
;t.default=p},1899:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),r=a(832),o=function(){function e(e){this.folderId=e;this.tasks=[];this.isLoaded=!1}
e.prototype.refresh=function(){var e=this;n.get({hpAppLevel:!0,url:"/folder/get-tasks",data:{folderId:this.folderId},analyticsTag:"folder-tasks-list",shardingKey:n.getStatelessShardingKey(),
successHandler:function(t){e.tasks=t.tasks;e.isLoaded=!0}})};e.prototype.toggle=function(e){this.tasks=(0,r.performToggleTask)(e,this.tasks)};e.prototype.hasLoaded=function(){return this.isLoaded}
;e.prototype.getList=function(){return this.tasks.slice()};return e}();t.default=o},1900:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(90),o=a(960),s=a(3),i=a(8),l=a(2),d=a(288),c=a(959),u=a(961),p=a(12),m=a(1901),h=a(172),f=a(10),g=a(962),v=a(28),y=a(344),b=a(70),E=a(0),C=a(36),M=a(24),S=a(48),k=a(71),_=a(4),w=(0,
a(5).PaperIntlFactory)(),D=w._f,T=w.F,P=(0,l.defineMessages)({emailPlaceholder:{id:"r80gcA",defaultMessage:"Add collaborators"},messageEntryPlaceholder:{id:"EedMol",
defaultMessage:"Add message (optional)"},sharingisunavailableinofflinemode:{id:"wwT/XW",defaultMessage:"Sharing is unavailable in offline mode."},share:{id:"CcpVyl",defaultMessage:"Share"},
youcanonlysharethiswithmembersofteamName:{id:"CPB+fS",defaultMessage:"You can only share this with members of {teamName}."},invite:{id:"whuNgc",defaultMessage:"Invite"},
youcanonlyinvitemaxInviteesnumbercollaboratorstoafolderatatime:{id:"P2IgPi",defaultMessage:"You can only invite {maxInvitees, number} collaborators to a folder at a time."},toomanyinvitees:{
id:"38cJNG",defaultMessage:"Too many invitees"},adjustInvitees:{id:"EJ7I+7",defaultMessage:"Adjust Invitees"},youvehitthelimitofinvitesyoucansendperdayTryagaininhours:{id:"RGPiHh",
defaultMessage:"You've hit the limit of invites you can send per day. Try again in 24 hours."},youaretryingtosharewithtoomanypeopleatonce:{id:"zN8bIj",
defaultMessage:"You are trying to share with too many people at once."},wecouldnotcompleteyourrequestatthistimePleasetryagainlater:{id:"kosIWE",
defaultMessage:"We could not complete your request at this time. Please try again later"},unabletoinvite:{id:"nF4ATG",defaultMessage:"Unable to invite"},failedtosendoneormoreoftheinvites:{id:"18CgxW",
defaultMessage:"Failed to send one or more of the invites."},numinvitespluraloneInviteotherInvitessent:{id:"udP51W",defaultMessage:"{numInvites, plural, one {Invite} other {Invites}} sent."},error:{
id:"fy9qFc",defaultMessage:"Error"},unabletosharefolder:{id:"2rKMrf",defaultMessage:"Unable to share folder"},emailneedstobeaddedtotopFolderNametoaccessfolderNameDoyouwanttoaddthemtotopFolderName:{
id:"KYbv6i",defaultMessage:"{email} needs to be added to {topFolderName} to access {folderName}.\n              Do you want to add them to {topFolderName}?"},
thefollowingpeopleneedtobeaddedtotopFolderNametoaccessfolderName:{id:"fjOWfz",defaultMessage:"The following people need to be added to {topFolderName} to access {folderName}:"},
doyouwanttoaddthemtotopFolderName:{id:"fP/WQd",defaultMessage:"Do you want to add them to {topFolderName}?"},sharefolderName:{id:"9t6wFQ",defaultMessage:"Share {folderName}"},add:{id:"YcxVqg",
defaultMessage:"Add"}}),N=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleClick=function(e){
t.popupComponent&&t.popupComponent.refs.popup&&t.popupComponent.refs.popup.open()};return t}t.prototype.componentDidMount=function(){this.popupElement||(this.popupElement=I())}
;t.prototype.componentWillUnmount=function(){if(this.popupElement){M.unmountComponentAtNode(this.popupElement);d.remove(this.popupElement)}};t.prototype.render=function(){var e=this
;this.popupElement||(this.popupElement=I());C.reactDomRender(E.createElement(k.ToastAndUnmountErrorBoundary,null,E.createElement(F,n.__assign({},this.props,{ref:function(t){return e.popupComponent=t}
}))),this.popupElement);return E.createElement("div",{className:"hp-sharing"},E.createElement(f.default,{className:"hp-sharing-button",onClick:this.handleClick,primary:!this.props.secondary,
secondary:this.props.secondary,disabled:this.props.isOffline,tooltip:this.props.isOffline?E.createElement(T,n.__assign({},P.sharingisunavailableinofflinemode)):null,showTooltipWhenDisabled:!0
},E.createElement(T,n.__assign({},P.share))))};t.displayName="FolderSharingButton";return t}(E.PureComponent);t.default=N;var F=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.state={mode:t.isTopFolder()?"people":"message",submitEnabled:!1,isInitialized:!1,isOpen:!1,hasEmailEntry:!1};t.renderExternalShareWarning=function(){
var e=t.refs.emailEntry?t.refs.emailEntry.getSharingTargets().emails:[],a=s("hp-sharing-external-user-warning",{hidden:0==e.length});return E.createElement("div",{className:a},E.createElement("span",{
className:"emoji-native"},"🔒"),"  ",E.createElement(T,n.__assign({values:{teamName:i.default.teamName}},P.youcanonlysharethiswithmembersofteamName)))};t.handleOpen=function(){t.setState({isOpen:!0})
;if(!t.state.isInitialized){t.setState({isInitialized:!0});t.refs.emailEntry.initialize();t.bindEvents()}(0,_.trackUi)("Open Folder Sharing Panel");t.forceUpdate()
;v.isMobile()||t.refs.emailEntry.focusAsync()};t.handleClose=function(){t.setState({isOpen:!1});(0,_.trackUi)("Close Folder Sharing Panel");t.refs.emailEntry&&t.refs.emailEntry.clearAsync()}
;t.submitInvites=function(){var e=t.refs.messageEntry.getValue(),a=t.refs.emailEntry.getSharingTargets();if(!a.isEmpty){var r=a.emails,o=a.slackChannels,s=a.slackUsers
;_.IntentionEvent.ShareFolder.track(n.__assign({num_emails:r.length,num_slack_channels:o.length,num_slack_users:s.length,has_message:!!e},(0,h.default)(t.props.folderData)));t.refs.popup.close()
;t.setMode("people");var i={folderId:t.props.folderData.folder.encryptedId,emails:JSON.stringify(r),slackChannels:JSON.stringify(o),slackUsers:JSON.stringify(s),message:e,confirmed:!1}
;t.sendSubmitAjaxRequest(i)}};t.inviteMemberResponse=function(e,a){if(a.needsConfirmation){var n=a.confirmationInfo;t.showInviteConfirmation(n,e)}else t.inviteMemberSuccess(e,a)}
;t.inviteMemberSuccess=function(e,a){var o=JSON.safeParse(e.emails)||[],s=JSON.safeParse(e.slackUsers)||[],i=JSON.safeParse(e.slackChannels)||[],l=o.length+s.length+i.length;if(l>0){
S.default.show(E.createElement(S.default,{autoDismiss:!0},E.createElement(T,n.__assign({values:{numInvites:l}},P.numinvitespluraloneInviteotherInvitessent))));t.clear();(0,
_.trackEng)("Share Folder Success",{num_emails:o.length,num_slack_channels:i.length,num_slack_users:s.length,has_message:!!e.message});t.props.onChange(a.data)}else{
r.alert(E.createElement(T,n.__assign({},P.error)),E.createElement(T,n.__assign({},P.unabletosharefolder)));(0,_.trackEng)("Share Folder Failed",{reason:"invalid sharing"})}}
;t.showInviteConfirmation=function(e,a){
var o=e.emails,s=t.props.folderData.parentFolders,i=E.createElement("b",null,t.props.folderData.folder.name),l=E.createElement("b",null,s.length?s[0].name:i),d=null
;if(1==o.length)d=E.createElement("div",null,E.createElement(T,n.__assign({values:{email:o[0],topFolderName:l,folderName:i}
},P.emailneedstobeaddedtotopFolderNametoaccessfolderNameDoyouwanttoaddthemtotopFolderName)));else{var c=o.map((function(e){return E.createElement("p",{className:"notranslate"},e)}))
;d=E.createElement("div",null,E.createElement("span",null,E.createElement(T,n.__assign({values:{topFolderName:l,folderName:i}
},P.thefollowingpeopleneedtobeaddedtotopFolderNametoaccessfolderName))),E.createElement("div",null,c),E.createElement("span",null,E.createElement(T,n.__assign({values:{topFolderName:l}
},P.doyouwanttoaddthemtotopFolderName))))}r.confirm(E.createElement(T,n.__assign({values:{folderName:t.props.folderData.folder.name}},P.sharefolderName)),d,(function(){a.confirmed=!0
;t.sendSubmitAjaxRequest(a)}),{confirmText:E.createElement(T,n.__assign({},P.add)),cancelCallback:t.clear})};t.isAutocompleting=function(){
return"autocomplete"==t.state.mode||"autocomplete-empty"==t.state.mode};t.reopenInvite=function(){t.setMode("message");t.refs.popup.open()};t.clear=function(){t.refs.emailEntry.clear()
;t.refs.messageEntry.clear()};t.setMode=function(e){e&&t.state.mode!=e&&t.setState({mode:e})};t.getAutocompleteContainer=function(){return t.refs.autocompleteResults.refs.autocompleteContainer}
;t.handleEmailEntryChange=function(e){var a=!e.isEmpty;t.setState({submitEnabled:a&&!e.hasInvalidSelections,mode:t.isAutocompleting()?t.state.mode:a?"message":"people",hasEmailEntry:a})};return t}
t.prototype.isTopFolder=function(){return this.props.folderData.folder.encryptedTopFolderId==this.props.folderData.folder.encryptedId};t.prototype.render=function(){var e=this.state.mode
;this.isTopFolder()||"people"!=e||(e="message")
;var t=this.props.folderData.domainSharePolicy!=y.PaperDocSharePolicy.OnlyTeam,a="message"==e||this.isAutocompleting(),r=E.createElement(T,n.__assign({},P.invite)),s=D(P.emailPlaceholder),d=D(P.messageEntryPlaceholder)
;return E.createElement(_.TrackContext,{trackContext:_.AppContext.FolderPage.SharingPopup},E.createElement(b.default,{closeButton:!0,ref:"popup",onOpen:this.handleOpen,
className:"hp-folder-sharing-popup",onClose:this.handleClose,disableAnimation:this.state.hasEmailEntry},E.createElement(l.IntlProvider,{locale:i.default.userLocale},E.createElement("div",{
className:"hp-sharing-form"},E.createElement("div",{className:"hp-invite-email-link-container"},E.createElement("div",null,E.createElement(c.default,{ref:"emailEntry",setMode:this.setMode,
onChange:this.handleEmailEntryChange,isDisplayed:!0,placeholder:s,submit:this.submitInvites,isAutocompleting:this.isAutocompleting,getAutocompleteContainer:this.getAutocompleteContainer,
stores:this.props.stores,folderId:this.props.folderData.folder.encryptedId,canExternallyShare:t}))),t?null:this.renderExternalShareWarning(),E.createElement("div",{
className:"hp-invite-autocompleter-and-message"},E.createElement(o.default,{isDisplayed:this.isAutocompleting(),ref:"autocompleteResults"}),E.createElement(u.default,{ref:"messageEntry",
isOpen:this.state.isOpen,isDisplayed:a,submit:this.submitInvites,placeholder:d}),E.createElement(m.default,{ref:"peopleList",folderData:this.props.folderData,isDisplayed:"people"==e,
onChange:this.props.onChange})),E.createElement(g.default,{submit:this.submitInvites,isDisplayed:"message"==e||this.isAutocompleting(),submitEnabled:this.state.submitEnabled,sendButtonText:r})))))}
;t.prototype.sendSubmitAjaxRequest=function(e){var t=this;p.post({url:"/folder/invite-member",data:e,analyticsTag:"folder-invite",shardingKey:p.getStatelessShardingKey(),
successHandler:this.inviteMemberResponse.bind(this,e),errorHandler:function(e,a,o){t.refs.emailEntry.abortClear();var s=JSON.safeParse(e),i=o;if(s&&s.exceedsMaxInvites){
var l=E.createElement("span",null,E.createElement(T,n.__assign({values:{maxInvitees:s.maxInvitees}},P.youcanonlyinvitemaxInviteesnumbercollaboratorstoafolderatatime)))
;r.alert(E.createElement(T,n.__assign({},P.toomanyinvitees)),l,t.reopenInvite,{confirmText:E.createElement(T,n.__assign({},P.adjustInvitees))});(0,_.trackEng)("Share Folder Failed",{
reason:"too many invitees"})}else if(s&&s.exceedsInviteRateLimit){var d=E.createElement("span",null,E.createElement(T,n.__assign({},P.youvehitthelimitofinvitesyoucansendperdayTryagaininhours)))
;r.alert(E.createElement(T,n.__assign({},P.toomanyinvitees)),d,t.reopenInvite)}else if(s&&s.tooManyInvitees){
d=E.createElement("span",null,E.createElement(T,n.__assign({},P.youaretryingtosharewithtoomanypeopleatonce)));r.alert(E.createElement(T,n.__assign({},P.toomanyinvitees)),d,t.reopenInvite)
}else if(s&&s.serviceDown){d=E.createElement("span",null,E.createElement(T,n.__assign({},P.wecouldnotcompleteyourrequestatthistimePleasetryagainlater)))
;r.alert(E.createElement(T,n.__assign({},P.unabletoinvite)),d,t.reopenInvite)}else{var c=void 0;if(429==i&&s&&s.message){c=s.message;(0,_.trackEng)("Share Folder Failed",{reason:"rate limit"})}else{
c=E.createElement(T,n.__assign({},P.failedtosendoneormoreoftheinvites));(0,_.trackEng)("Share Folder Failed",{reason:"server error"})}p.fetchErrorModal(a,c,t.reopenInvite)}return!0}})}
;t.prototype.bindEvents=function(){this.refs.emailEntry.bindEvents();this.refs.messageEntry.bindEvents()};t.displayName="FolderSharingPopup";return t}(E.PureComponent);function I(){
var e=document.createElement("div");document.body.appendChild(e);return e}},1901:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(25),r=a(8),o=a(1902),s=a(1903),i=a(149),l=a(0),d=(0,n.createReactClass)({displayName:"FolderPeopleList",mixins:[i],render:function(){return l.createElement("ul",{
className:"hp-sharing-invited-users",style:{display:this.props.isDisplayed?null:"none"}},l.createElement(o.default,{ref:"linkAccess",folderData:this.props.folderData,onChange:this.props.onChange
}),this.renderUserRows_())},isLinkAccessChooserOpen:function(){return this.refs.linkAccess.isLinkAccessChooserOpen()},renderUserRows_:function(){
return this.props.folderData.members&&this.props.folderData.members.map((function(e){var t=e.encryptedAccountId==r.default.encryptedUserId;return l.createElement(s.default,{user:e,
key:e.encryptedAccountId,folder:this.props.folderData.folder,onChange:this.props.onChange,isCurrentUser:t})}),this)}});t.default=d},1902:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0
});var n=a(1),r=a(25),o=a(8),s=a(2),i=a(7),l=a(12),d=a(10),c=a(70),u=a(149),p=a(0),m=a(36),h=a(13),f=a(71),g=a(4),v=(0,a(5).PaperIntlFactory)().F,y=(0,s.defineMessages)({everyoneatteamName:{
id:"ApZsnR",defaultMessage:"Everyone at {teamName}"},inviteonly:{id:"qmtoCL",defaultMessage:"Invite only"},change:{id:"ZPvZld",defaultMessage:"Change"},unabletosavefolderprivacysettings:{id:"DFYWKM",
defaultMessage:"Unable to save folder privacy settings."},sharefolderNamewithothers:{id:"gDhlw0",defaultMessage:"Share “{folderName}” with others"},whocanaccessthisfolder:{id:"ixPNCL",
defaultMessage:"Who can access this folder?"},onlypeopleinvited:{id:"kuFRq0",defaultMessage:"Only people invited"},cancel:{id:"d9/SE1",defaultMessage:"Cancel"},done:{id:"6bRQ0U",defaultMessage:"Done"}
}),b=(0,r.createReactClass)({displayName:"FolderGuestPolicyChooser",mixins:[u],onChangeClick_:function(e){e.preventDefault();!function(e,t){var a=document.createElement("div")
;document.body.appendChild(a);m.reactDomRender(p.createElement(f.ToastAndUnmountErrorBoundary,null,p.createElement(E,{folderData:e,onConfirm:t})),a)}(this.props.folderData,this.onLinkAccessChange_)},
isLinkAccessChooserOpen:function(){return!!document.querySelector(".hp-popup-link-access")},render:function(){var e,t,a;if(this.props.folderData.folder.guestPolicy==i.FolderGuestPolicy.public){
e=p.createElement(v,n.__assign({values:{teamName:this.props.folderData.teamName}},y.everyoneatteamName));t="acl-building"}else{e=p.createElement(v,n.__assign({},y.inviteonly));t="acl-lock"}
this.props.folderData.isPersonalDomainFolder||(a=p.createElement("div",{className:"hp-sharing-desktop-user-controls"},p.createElement(d.default,{href:"#change",onClick:this.onChangeClick_
},p.createElement(v,n.__assign({},y.change)))));return p.createElement("li",{className:"hp-sharing-list-row hp-sharing-link-access"},p.createElement("figure",null,p.createElement("span",{
className:"hp-sharing-icon-status"},p.createElement(h.default,{name:t})),p.createElement("figcaption",{className:"hp-sharing-desktop-user-name"},e)),a)},onLinkAccessChange_:function(e){var t=this
;l.post({url:"/folder/set-guest-policy",data:{folderId:this.props.folderData.folder.encryptedId,guestPolicy:e},analyticsTag:"folder-set-guest-policy",shardingKey:l.getStatelessShardingKey(),
successHandler:function(a){(0,g.track)("folder-link-access-changed",{value:e});t.props.onChange(a.data)},errorModalMessage:p.createElement(v,n.__assign({},y.unabletosavefolderprivacysettings))})}
}),E=(0,r.createReactClass)({displayName:"FolderSharingStatusPopup",mixins:[u],getInitialState:function(){return{nextPolicy:this.props.folderData.folder.guestPolicy}},close:function(){
this.refs.popup.close()},onCancelClick_:function(){this.close()},onConfirmClick_:function(){this.props.onConfirm&&this.props.onConfirm(this.state.nextPolicy);this.close()},onChange_:function(){
var e=this.refs.form.querySelector('input[name="guestPolicy"]:checked').value;this.setState({nextPolicy:i.FolderGuestPolicy[e]})},render:function(){return p.createElement(c.default,{ref:"popup",
className:"hp-popup-link-access",openOnMount:!0,unmountOnClose:!0},p.createElement(s.IntlProvider,{locale:o.default.userLocale},p.createElement("div",{className:"hp-popup-content"
},p.createElement("h1",null,p.createElement(v,n.__assign({values:{folderName:this.props.folderData.folder.name}},y.sharefolderNamewithothers))),p.createElement("form",{ref:"form"
},p.createElement("fieldset",null,p.createElement("legend",null,p.createElement(v,n.__assign({},y.whocanaccessthisfolder))),p.createElement("p",null,p.createElement("input",{type:"radio",
id:"guestPolicy-public",className:"hp-legacy-radio",name:"guestPolicy",value:"public",onChange:this.onChange_,checked:this.state.nextPolicy==i.FolderGuestPolicy.public}),p.createElement("label",{
htmlFor:"guestPolicy-public"},p.createElement(v,n.__assign({values:{teamName:this.props.folderData.teamName}},y.everyoneatteamName)))),p.createElement("p",null,p.createElement("input",{type:"radio",
id:"guestPolicy-private",className:"hp-legacy-radio",name:"guestPolicy",value:"private",onChange:this.onChange_,checked:this.state.nextPolicy==i.FolderGuestPolicy.private}),p.createElement("label",{
htmlFor:"guestPolicy-private"},p.createElement(v,n.__assign({},y.onlypeopleinvited)))))),p.createElement("div",{className:"dmc-button-pair"},p.createElement(d.default,{secondary:!0,
onClick:this.onCancelClick_},p.createElement(v,n.__assign({},y.cancel))),p.createElement(d.default,{primary:!0,onClick:this.onConfirmClick_},p.createElement(v,n.__assign({},y.done)))))))}})
;t.default=b},1903:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(90),o=a(25),s=a(2),i=a(12),l=a(10),d=a(149),c=a(0),u=a(13),p=a(102),m=(0,
a(5).PaperIntlFactory)(),h=m._f,f=m.F,g=(0,s.defineMessages)({guest:{id:"+s6D7j",defaultMessage:"Guest"},nameremoved:{id:"xf6MPr",defaultMessage:"{name} removed"},undo:{id:"OfxyEk",
defaultMessage:"Undo"},owner:{id:"if8xIl",defaultMessage:"Owner"},deleted:{id:"X4aPQk",defaultMessage:"Deleted"},placeholder:{id:"GkDbRM",defaultMessage:"Placeholder"},project:{id:"mPVBQ6",
defaultMessage:"project"},folder:{id:"r//dCN",defaultMessage:"folder"},areyousureyouwanttoremoveyourselffromfolderName:{id:"yAwFS7",
defaultMessage:"Are you sure you want to remove yourself from “{folderName}”?"},youwontbeabletoaccesstheitembutyouwillstillbeabletoseeanydocsyouhavebeenaddedto:{id:"CA7/RR",
defaultMessage:"You won't be able to access the {item}, but you will still be able to\n            see any docs you have been added to."},areyousureyouwanttoremovenamefromfolderName:{id:"raAfty",
defaultMessage:"Are you sure you want to remove {name} from “{folderName}”?"},namewontbeabletoaccesstheitembuttheywillstillbeabletoseeanydocstheyhavebeenaddedto:{id:"ZIpwmA",
defaultMessage:"{name} won't be able to access the {item}, but they will still be able to\n            see any docs they have been added to."},removemember:{id:"HDHR0n",defaultMessage:"Remove member"
},unabletorevokeaccessforname:{id:"buC/vf",defaultMessage:"Unable to revoke access for {name}"},remove:{id:"6WOQfa",defaultMessage:"Remove"}}),v=(0,o.createReactClass)({
displayName:"FolderPeopleListRow",mixins:[d],render:function(){var e,t,a=this.props.user.name||h(g.guest);if(this.props.isRemoved)return c.createElement("li",{
className:"hp-sharing-list-row hp-sharing-desktop-user"},c.createElement("span",{className:"hp-sharing-desktop-user-removed"},c.createElement(f,n.__assign({values:{name:a}
},g.nameremoved))),this.props.user.isDeletedOnMeta||this.props.user.isClaimableHackpadPlaceholder?null:c.createElement(l.default,{secondary:!0,className:"hp-sharing-undo",onClick:this.undoKillUser_
},c.createElement(f,n.__assign({},g.undo))));this.props.user.isOwner?this.props.user.isOwner&&(e=c.createElement("span",null,c.createElement(f,n.__assign({},g.owner)))):e=c.createElement(l.default,{
className:"hp-folder-user-x",onClick:this.killUser},c.createElement(u.default,{name:"close"}));this.props.user.isDeletedOnMeta?t=c.createElement("span",{className:"hp-sharing-entry-deleted"
},c.createElement("span",{className:"hp-sharing-entry-deleted-label"},c.createElement(f,n.__assign({},g.deleted)))):this.props.user.isClaimableHackpadPlaceholder&&(t=c.createElement("span",{
className:"hp-sharing-entry-placeholder"},c.createElement("span",{className:"hp-sharing-entry-placeholder-label"},c.createElement(f,n.__assign({},g.placeholder)))));return c.createElement("li",{
className:"hp-sharing-list-row hp-sharing-desktop-user"},c.createElement("figure",null,c.createElement("span",{className:"hp-sharing-user-avatar"},c.createElement(p.default,{user:this.props.user,
disableTooltip:!0})),c.createElement("figcaption",{className:"hp-sharing-desktop-user-name"},c.createElement("span",{className:"hp-sharing-name-and-activity"},c.createElement("span",{
className:"hp-sharing-user-name notranslate"},a),t),!this.props.user.isClaimableHackpadPlaceholder&&this.props.user.email&&this.props.user.email!=a?c.createElement("span",{
className:"hp-sharing-user-email notranslate"},this.props.user.email):null)),c.createElement("div",{className:"hp-sharing-desktop-user-controls"},e))},killUser:function(){
var e,t=this,a=this.props.user.name,o=this.props.folder.name,s=this.props.folder.isProject?c.createElement(f,n.__assign({},g.project)):c.createElement(f,n.__assign({},g.folder))
;e=this.props.isCurrentUser?c.createElement("span",null,c.createElement(f,n.__assign({values:{folderName:o}
},g.areyousureyouwanttoremoveyourselffromfolderName)),c.createElement("br",null),c.createElement("br",null),c.createElement(f,n.__assign({values:{item:s}
},g.youwontbeabletoaccesstheitembutyouwillstillbeabletoseeanydocsyouhavebeenaddedto))):c.createElement("span",null,c.createElement(f,n.__assign({values:{name:a,folderName:o}
},g.areyousureyouwanttoremovenamefromfolderName)),c.createElement("br",null),c.createElement("br",null),c.createElement(f,n.__assign({values:{name:a,item:s}
},g.namewontbeabletoaccesstheitembuttheywillstillbeabletoseeanydocstheyhavebeenaddedto)));r.confirm(c.createElement(f,n.__assign({},g.removemember)),e,(function(){i.post({url:"/folder/remove-member",
data:{folderId:t.props.folder.encryptedId,encryptedAccountId:t.props.user.encryptedAccountId},analyticsTag:"folder-remove-user",shardingKey:i.getStatelessShardingKey(),successHandler:function(e){
t.props.onChange(e.data)},errorModalMessage:c.createElement(f,n.__assign({values:{name:t.props.user.name}},g.unabletorevokeaccessforname))})}),{confirmText:c.createElement(f,n.__assign({},g.remove))})
}});t.default=v},1904:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(3),o=a(8),s=a(2),i=a(621),l=a(367),d=a(10),c=a(6),u=a(0),p=(0,a(5).PaperIntlFactory)().F,m=(0,
s.defineMessages)({following:{id:"kO6xAI",defaultMessage:"Following"},follow:{id:"Zlh6em",defaultMessage:"Follow"}}),h=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this
;a.toggleSubscriptionLevel=function(){var e=a.props.folderState,t=e.folder,n=e.subscriptionLevel;i.toggleSubscriptionLevel(t.encryptedId,n,a.onSave)};a.onSave=function(e){a.props.onSave(e.data)}
;return a}t.prototype.render=function(){if(!o.default.isSignedIn())return null;var e=this.props.folderState.subscriptionLevel,t=r("hp-folder-page-follow-button",{
"hp-menu-selected":l.isFolderFollowSubscriptionLevel(e)}),a=u.createElement(p,n.__assign({},m.following)),s=u.createElement(p,n.__assign({},m.follow));return u.createElement(d.default,n.__assign({
className:t,onClick:this.toggleSubscriptionLevel,"aria-checked":l.isFolderFollowSubscriptionLevel(e)},(0,c.pick)(this.props,"role")),l.isFolderFollowSubscriptionLevel(e)?a:s)}
;t.displayName="FolderSubscribeButton";return t}(u.PureComponent);t.default=h},1905:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(45),o=a(6),s=a(25),i=a(0),l=(0,
s.createReactClass)({displayName:"LoadingPage",render:function(){var e=this.props,t=e.className,a=e.isLoading,s=o.omit(this.props,"className","isLoading")
;return a?i.createElement(r.default,n.__assign({className:"hp-non-pad-page ".concat(t||"")},s),i.createElement("div",{className:"thin-spinny-wrapper loading"},i.createElement("div",{
className:"thin-spinny"}))):null}});t.default=l},1906:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.FolderMigratedInterstitial=t.InvalidInfoInterstitial=t.FolderNotFoundInterstitial=t.FolderDeletedInterstitial=t.PermissionDeniedInterstital=void 0
;var n=a(1),r=a(4),o=a(2),s=a(10),i=a(73),l=a(274),d=a(45),c=a(0),u=a(1907),p=(0,a(5).PaperIntlFactory)().F,m=(0,o.defineMessages)({permissionDeniedInterstitalHeading:{id:"5Uq4ka",
defaultMessage:"You don’t have access to this folder"},permissionDeniedInterstitalMessage:{id:"6h6jUH",defaultMessage:"You can ask the owner of the folder to add you."},archived:{id:"iLMGJe",
defaultMessage:"This folder has been archived"},permanentlyDelete:{id:"pE/3by",defaultMessage:"You can also {permanentlyDelete} the folder."},permanentlyDeleteButton:{id:"PqLuV/",
defaultMessage:"permanently delete"},restore:{id:"PL5ta5",defaultMessage:"Restore"},fourofour:{id:"w1qfxS",defaultMessage:"404"},cantFind:{id:"VMDVjv",
defaultMessage:"We can't find the folder you're looking for"},backHome:{id:"26L25C",defaultMessage:"Back Home"},unabletoLoadFolder:{id:"1H1Fx2",defaultMessage:"Unable to load folder"},weveMoved:{
id:"MC6ji4",defaultMessage:"We’ve moved Paper docs and folders into Dropbox"},long:{id:"TbZcud",
defaultMessage:"Paper docs and folders have been moved so they can be managed along with other files in Dropbox. {lineBreaker}{lineBreaker}We’ve saved each person’s docs to a new folder—called Paper Docs—in their Dropbox folder. {lineBreaker}{lineBreaker}Everyone can access their content from the Dropbox folder on their computer, the Dropbox Paper mobile app, and dropbox.com. {lineBreaker}{lineBreaker}Questions? Visit our {helpCenter} to learn about changes in permissions to your docs and more."
},helpCenter:{id:"la4K78",defaultMessage:"help center"},migratedFolderLocation:{id:"3AKeTy",
defaultMessage:"This folder has been migrated to the following location(s) in your Dropbox. If it's not there, someone may have moved it."}});t.PermissionDeniedInterstital=function(e){
return c.createElement(r.TrackContext,{trackContext:r.AppContext.FolderPage.RequestAccess},c.createElement(d.default,{name:e.name,isSelected:e.isSelected,className:"hp-non-pad-page"
},c.createElement(u.default,{heroName:"folder-no-access",heading:c.createElement(p,n.__assign({},m.permissionDeniedInterstitalHeading)),
message:c.createElement(p,n.__assign({},m.permissionDeniedInterstitalMessage)),requestAccess:e.onRequestAccess})))};t.PermissionDeniedInterstital.displayName="PermissionDeniedInterstital"
;t.FolderDeletedInterstitial=function(e){return c.createElement(r.TrackContext,{trackContext:r.AppContext.FolderPage.Page},c.createElement(d.default,{name:e.name,isSelected:e.isSelected,
className:"hp-non-pad-page"},c.createElement("div",{className:"hp-page-inner hp-page-empty-state"},c.createElement(i.InvertibleImage,{className:"hp-empty-state-hero",
src:"/static/img/composer/rebrand/empty-states/folder-archived.png"}),c.createElement("h1",null,c.createElement(p,n.__assign({},m.archived))),c.createElement("div",{
className:"deleted-pad-page-subtext"},e.canPermanentlyDeleteFolder?c.createElement("div",{className:"delete-text-line"},c.createElement(p,n.__assign({},m.permanentlyDelete,{values:{
permanentlyDelete:c.createElement(s.default,{styleless:!0,href:"#",onClick:e.onPermanentDelete},c.createElement(p,n.__assign({},m.permanentlyDeleteButton)))}
}))):null),e.canRestore?c.createElement(s.default,{primary:!0,onClick:e.onRestore},c.createElement(p,n.__assign({},m.restore))):null)))}
;t.FolderDeletedInterstitial.displayName="FolderDeletedInterstitial";t.FolderNotFoundInterstitial=function(e){return c.createElement(r.TrackContext,{trackContext:r.AppContext.FolderPage.Page
},c.createElement(d.default,{name:e.name,isSelected:e.isSelected,className:"hp-non-pad-page"},c.createElement("div",{className:"hp-page-inner hp-page-empty-state"},c.createElement(i.default,{
skip2x:!0,src:"/static/img/ace/stickers/InKitties/original/04.png"}),c.createElement("h1",{className:"notranslate"},c.createElement(p,n.__assign({},m.fourofour))),c.createElement("div",{
className:"folder-not-found-subtext"},c.createElement(p,n.__assign({},m.cantFind))),c.createElement(s.default,{secondary:!0,onClick:e.onGoHome},c.createElement(p,n.__assign({},m.backHome))))))}
;t.FolderNotFoundInterstitial.displayName="FolderNotFoundInterstitial";t.InvalidInfoInterstitial=function(e){return c.createElement(r.TrackContext,{trackContext:r.AppContext.FolderPage.Page
},c.createElement(d.default,{name:e.name,isSelected:e.isSelected,className:"hp-non-pad-page hp-folder-page2"},c.createElement(l.default,{app:e.app}),c.createElement("div",{
className:"hp-page-inner hp-page-empty-state"},c.createElement("h1",null,c.createElement(p,n.__assign({},m.unabletoLoadFolder))))))};t.InvalidInfoInterstitial.displayName="InvalidInfoInterstitial"
;t.FolderMigratedInterstitial=function(e){return c.createElement(r.TrackContext,{trackContext:r.AppContext.FolderPage.Page},c.createElement(d.default,{name:e.name,isSelected:e.isSelected,
className:"hp-non-pad-page"},c.createElement("div",{className:"hp-page-inner hp-page-empty-state"
},c.createElement("h1",null,c.createElement(p,n.__assign({},m.weveMoved))),e.dbxFolderPaths&&e.dbxFolderPaths.length>0?c.createElement("div",null,c.createElement("p",null,c.createElement(p,n.__assign({},m.migratedFolderLocation))),c.createElement("p",null,c.createElement("ul",null,e.dbxFolderPaths.map((function(e){
return c.createElement("li",null,e)}))))):null,c.createElement("p",null,c.createElement(p,n.__assign({},m.long,{values:{helpCenter:c.createElement(s.default,{styleless:!0,
href:"https://help.dropbox.com/files-folders/paper/paper-2020-faqs"},c.createElement(p,n.__assign({},m.helpCenter))),lineBreaker:c.createElement("br",null)}}))))))}},1907:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(2),o=a(10),s=a(73),i=a(0),l=(0,a(5).PaperIntlFactory)().F,d=(0,r.defineMessages)({requestaccess:{id:"392ZxX",
defaultMessage:"Request access"}});t.default=function(e){var t=e.heroName,a=e.heading,r=e.message,c=e.requestAccess;return i.createElement("div",{className:"hp-page-inner hp-page-empty-state"
},i.createElement(s.InvertibleImage,{className:"hp-empty-state-hero",src:"/static/img/composer/rebrand/empty-states/".concat(t,".png")
}),i.createElement("h1",null,a),i.createElement("p",null,r),i.createElement("div",{className:"hp-page-empty-state-actions dmc-button-solo"},i.createElement(o.default,{primary:!0,onClick:c
},i.createElement(l,n.__assign({},d.requestaccess)))))}},1908:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.PadSelectEntry=t.MovePadSelector=void 0
;var n=a(1),r=a(861),o=a(3),s=a(228),i=a(8),l=a(2),d=a(60),c=a(11),u=a(76),p=a(7),m=a(865),h=a(172),f=a(10),g=a(4),v=a(14),y=a(43),b=a(315),E=a(70),C=a(0),M=a(36),S=a(617),k=a(427),_=a(32),w=a(13),D=a(48),T=a(71),P=(0,
v.MsgFactory)("folders"),N=P.F,F=(0,P.defineMessages)({countpluralonedocumentotherdocumentscountpluralonewasmovedotherweremoved:{
msg:"{count, plural, one {1 document} other {# documents}} {count, plural, one {was moved} other {were moved}}"},countpluralonedocumentotherdocumentscouldntbemoved:{
msg:"{count, plural, one {1 document} other {# documents}} couldn't be moved"},countpluralonedocumentotherdocuments:{msg:"{count, plural, one {1 document} other {# documents}}"},itemscouldntbemoved:{
msg:"{items} couldn't be moved"},sharedwithinvitedUserName:{description:"Doc entry subtitle message indicating the doc was shared with invitedUserName",msg:"Shared with {invitedUserName}"},
sharedwithinvitedUserCountpluraloneotherotherinvitedUserCountothers:{description:"Doc entry subtitle message indicating the doc was shared with invitedUserCount others",
msg:"Shared with {invitedUserCount, plural,\n                one {1 other}\n                other {{invitedUserCount} others}\n            }"},unfiled:{
description:"Badge on doc entry subtitle indicating that the doc is unshared and not in a folder",msg:"Unfiled"},searchresults:{msg:"Search results"},recommended:{msg:"Recommended"},
additemCountpluralonedocotherdocs:{description:"Confirm text with folder name.",msg:"Add {itemCount, plural, one {1 doc} other {# docs}}"},add:{msg:"Add"},cancel:{msg:"Cancel"},
onlytheeditorofadoccanmoveit:{msg:"Only the editor of a doc can move it."}}),I=((0,l.defineMessages)({countpluralonedocumentotherdocumentscountpluralonewasmovedotherweremoved:{id:"B/LVpu",
defaultMessage:"{count, plural, one {1 document was moved} other {# documents were moved}}"},countpluralonedocumentotherdocumentscouldntbemoved:{id:"pn3YnS",
defaultMessage:"{count, plural, one {1 document} other {# documents}} couldn't be moved"},countpluralonedocumentotherdocuments:{id:"LFbVIP",
defaultMessage:"{count, plural, one {1 document} other {# documents}}"},itemscouldntbemoved:{id:"pUpLcx",defaultMessage:"{items} couldn't be moved"},sharedwithinvitedUserName:{id:"qffp17",
defaultMessage:"Shared with {invitedUserName}"},sharedwithinvitedUserCountpluraloneotherotherinvitedUserCountothers:{id:"+MvXtF",
defaultMessage:"Shared with {invitedUserCount, plural,\n                one {1 other}\n                other {{invitedUserCount} others}\n            }"},unfiled:{id:"u9I2n4",defaultMessage:"Unfiled"
},searchresults:{id:"AUTa6P",defaultMessage:"Search results"},recommended:{id:"nvk3VW",defaultMessage:"Recommended"},additemCountpluralonedocotherdocs:{id:"Qz/Ij8",
defaultMessage:"Add {itemCount, plural, one {1 doc} other {# docs}}"},add:{id:"YcxVqg",defaultMessage:"Add"},cancel:{id:"d9/SE1",defaultMessage:"Cancel"},onlytheeditorofadoccanmoveit:{id:"+xovEY",
defaultMessage:"Only the editor of a doc can move it."}}),function(e){n.__extends(t,e);function t(t){var o,i=e.call(this,t)||this;i.handleToggle=function(e,t){var a={type:"doc",id:e};i.setState({
multiselectState:i.state.multiselectState.handleClick(a,t,(function(){i.setState({multiselectState:i.state.multiselectState.clone()})}))})};i.refreshPadListFromStore=function(){
i.props.stores.padList.getPadList({filter:p.ListViewFilter.recents},(function(e){i.setState({shownPads:e,inSearchMode:!1})}))};i.onOpen=function(){i.refs.searchBox&&i.refs.searchBox.focus()
;i.events.on(document,"keydown",(function(e){e.which==y.KeyCode.ENTER&&i.isConfirmButtonEnabled()&&i.onAccept()}))};i.handleMoveSuccess=function(e){for(var t,a=0,r=0,o=0,s=e.result;o<s.length;o++){
var l=s[o];"doc"==l.type&&("success"===l.state?a+=1:r+=1)}a>0?t=C.createElement(N,n.__assign({values:{count:a}
},F.countpluralonedocumentotherdocumentscountpluralonewasmovedotherweremoved)):r>0&&(t=C.createElement(N,n.__assign({values:{count:r}},F.countpluralonedocumentotherdocumentscouldntbemoved)))
;t&&D.default.show(C.createElement(D.default,{autoDismiss:!0},t));i.setState({multiselectState:new b.MultiselectState});i.props.onSubmit();g.IntentionEvent.MovePadsToFolder.track(n.__assign({
context:i.getTrackContext(),numPadsSelected:a,is_public:i.props.destinationFolder.folder.guestPolicy==p.FolderGuestPolicy.public},(0,h.default)(i.props.destinationFolder)));i.refs.popup.close()}
;i.onAccept=function(){var e=i.props.destinationFolder;(0,r.batchMove)(i.state.multiselectState,e,i.handleMoveSuccess,(function(){
var e=i.state.multiselectState.getSelectedCountsByType().doc,t=C.createElement(N,n.__assign({values:{count:e}},F.countpluralonedocumentotherdocuments));D.default.show(C.createElement(D.default,{
autoDismiss:!0},C.createElement(N,n.__assign({values:{items:t}},F.itemscouldntbemoved))));i.refs.popup.close()}))};i.onCancel=function(e){e.preventDefault();e.stopPropagation()
;i.props.onCancel&&i.props.onCancel();i.refs.popup.close()};i.fetchSearchResultFromServer=function(){
var e=i.state.query,t=k.newQueryId(),n=a.maxPadResults,r=s.PerfProfile.newActionProfile("pad-selector"),o=k.getSearchId(),l={q:e,searchId:o,queryId:t,limit:n},d=Date.now()
;S.searchPads(i.props.stores.padList,l,{isAppLevel:!0,requestProfile:r,success:function(a){if(!(d<i.lastQueryTime)){i.lastQueryTime=d;g.IntentionEvent.MovePadSelectorSearch.track({searchId:o,
queryId:t,__query:e,queryLength:e.length,numPadResults:a.pads.length,latency:Date.now()-d});i.setState({isLoadingPads:!1,inSearchMode:!0,shownPads:a.pads},(function(){
r.mark(s.Marks.TIME_TO_INTERACTIVE);r.send()}))}}})};i.updateSearchResults=function(){var e="";i.refs.searchBox&&(e=i.refs.searchBox.getValue());i.state.multiselectState.clearLastSelectedState()
;""==e?i.getPadListIfLoaded((function(e){i.setState({shownPads:e,inSearchMode:!1})})):i.setState({query:e,inSearchMode:!0},i.fetchSearchResultFromServer)};i.getPadListIfLoaded((function(e){o=e}))
;i.state={inSearchMode:!1,isLoadingPads:!1,query:"",shownPads:o||[],multiselectState:new b.MultiselectState};return i}a=t;t.prototype.componentDidMount=function(){k.trackSearchSession()
;this.props.stores.padList.on("pad-list-change",this.refreshPadListFromStore);this.refreshPadListFromStore()};t.prototype.componentWillUnmount=function(){
this.props.stores.padList.off("pad-list-change",this.refreshPadListFromStore)};t.prototype.getPadListIfLoaded=function(e){var t=p.ListViewFilter.recents;this.props.stores.padList.hasLoaded({filter:t
})&&this.props.stores.padList.getPadList({filter:t,limit:20},e)};t.prototype.getTrackContext=function(){};t.prototype.isConfirmButtonEnabled=function(){
return this.state.multiselectState.getSelectedCountsByType().doc>0&&this.state.multiselectState.haveMovePermission()};t.prototype.getPermissionText=function(e){
return e.folderData?C.createElement("span",{className:"hp-list-item-parent-path"},C.createElement(d.default,{str:u.getFullFolderName(e.folderData)
})):1==e.invitedUserCount&&e.invitedUserName?C.createElement(N,n.__assign({values:{invitedUserName:e.invitedUserName}},F.sharedwithinvitedUserName)):e.invitedUserCount?C.createElement(N,n.__assign({
values:{invitedUserCount:e.invitedUserCount}},F.sharedwithinvitedUserCountpluraloneotherotherinvitedUserCountothers)):C.createElement("span",{className:"hp-doclist-entry-byline-badge"
},C.createElement(N,n.__assign({},F.unfiled)))};t.prototype.render=function(){var e=this,t=this.state.shownPads
;this.state.multiselectState&&this.state.multiselectState.updateDisplayedIds(t.map((function(e){return{type:"doc",id:e.localPadId}})));var a,r=t.map((function(t,a){var n=C.createElement("div",{
className:"hp-move-pad-selector-entry-subtitle"},e.getPermissionText(t)),r=C.createElement(w.default,{name:"note"}),o=_.padTitleOrDefault(t.title,i.default.userLocale),s={type:"doc",id:t.localPadId}
;return C.createElement(A,{key:t.localPadId,icon:r,"track-title":"Pad",isSelected:!!e.state.multiselectState&&e.state.multiselectState.isChecked(s),onSelect:e.handleToggle.bind(e,t.localPadId)
},C.createElement("div",null,C.createElement(d.default,{str:o})),n)
})),o=this.state.inSearchMode?C.createElement(N,n.__assign({},F.searchresults)):C.createElement(N,n.__assign({},F.recommended)),s=C.createElement(m.default,{onKeyUp:this.updateSearchResults,
onChange:this.updateSearchResults,ref:"searchBox"}),l=this.state.multiselectState.getSelectedCountsByType().doc;a=l>0?C.createElement(N,n.__assign({values:{itemCount:l}
},F.additemCountpluralonedocotherdocs)):C.createElement(N,n.__assign({},F.add));return C.createElement(v.IntlProvider,{locale:i.default.userLocale},C.createElement(g.TrackContext,{
trackContext:this.props.trackContext},C.createElement(E.default,{className:"hp-move-pad-selector-popup",ref:"popup",onOpen:this.onOpen,unmountOnClose:!0,openOnMount:!0,size:"mediumlarge"
},C.createElement(g.TrackContext,{trackContext:g.AppContext.MovePadDialog},C.createElement("div",{ref:"popupContent",className:"hp-popup-content"},C.createElement("div",{
className:"hp-move-pad-selector-top-content"},C.createElement("h1",null,this.props.title),s,C.createElement("div",{className:"hp-move-pad-selector-results-title"},o),C.createElement("div",{
className:"hp-move-pad-selector-results"},r)),C.createElement("div",{className:"dmc-button-pair"},C.createElement(f.default,{secondary:!0,onClick:this.onCancel
},C.createElement(N,n.__assign({},F.cancel))),C.createElement(f.default,{className:"hp-move-pad-selector-button",ref:"ok","track-title":"Add",
tooltip:!this.state.multiselectState.haveMovePermission()&&C.createElement(N,n.__assign({},F.onlytheeditorofadoccanmoveit)),disabled:!this.isConfirmButtonEnabled(),primary:!0,onClick:this.onAccept,
showTooltipWhenDisabled:!0},a)))))))};var a;t.displayName="MovePadSelector";t.maxPadResults=15;return t=a=n.__decorate([c.default],t)}(C.Component));t.MovePadSelector=I;var A=function(e){
n.__extends(t,e);function t(t){return e.call(this,t)||this}t.prototype.render=function(){var e=o("hp-move-pad-selector-entry",{"hp-move-pad-selector-entry-highlighted":!!this.props.isHighlighted,
"hp-move-pad-selector-entry-selected":!!this.props.isSelected});return C.createElement("div",{className:e,onClick:this.props.onSelect.bind(this),"data-track":"Select List Item",
"data-track-category":"ui","data-track-title":this.props["track-title"],"data-track-context":this.getTrackContext(),key:this.props.key},C.createElement("div",{
className:"hp-move-pad-selector-entry-checkbox"}),C.createElement("div",{className:"hp-move-pad-selector-entry-icon-wrapper"},this.props.icon),C.createElement("div",{
className:"hp-move-pad-selector-entry-text"},this.props.children))};t.displayName="PadSelectEntry";return t=n.__decorate([g.trackContextDecorator],t)}(C.Component);t.PadSelectEntry=A
;t.default=function(e,t,a,r,o,s){var i=C.createElement(I,n.__assign({title:e,onSubmit:r,onCancel:o,destinationFolder:a,stores:t},s)),l=document.createElement("div");document.body.appendChild(l)
;M.reactDomRender(C.createElement(T.ToastAndUnmountErrorBoundary,null,i),l)}},274:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(867),o=a(3),s=a(381),i=a(620),l=a(23),d=a(0),c=a(382),u=a(63),p=a(13),m=a(251),h=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.bell=null
;return t}t.prototype.openBell=function(){var e;null===(e=this.bell)||void 0===e||e.open()};t.prototype.render=function(){
var e=this,t=u.isOnButDoNotLog("paper_combined_search")?d.createElement(s.DropboxSearchComboBox,{app:this.props.app,collapsible:!!this.props.collapseSearch}):d.createElement(c.SearchComboBox,{
app:this.props.app,collapsible:!!this.props.collapseSearch});return d.createElement("div",{className:o({"hp-list-page-header":!0,"hp-header":!0,"hp-list-page-controls":!0,
"hp-tabbed-list-page-header":this.props.hasTabs,"hp-list-page-header-noborder":this.props.noBorder})},d.createElement("div",{className:"hp-list-page-controls-inner"},d.createElement("div",{
className:"hp-list-page-controls-inner2"},this.props.title?d.createElement("h1",{className:"hp-page-title"},this.props.title):null,d.createElement("div",{className:"hp-list-page-header-right"
},t,d.createElement(m.default,null),d.createElement(i.default,{ref:function(t){return e.bell=t},app:this.props.app,stores:this.context.stores
}),this.props.createDocButton?this.props.app.createNewPadButton(this.context.trackContext.toString(),d.createElement(p.default,{name:"plus-header"
})):null,d.createElement(r.default,null))),this.props.children))};t.displayName="ListPageHeader";t.contextTypes={stores:l.object.isRequired,trackContext:l.oneOfType([l.string,l.object]).isRequired}
;return t}(d.Component);t.default=h},315:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.MultiselectState=t.CursorDir=void 0;var n,r=a(6),o=a(12),s=a(4),i=a(38),l=a(92)
;!function(e){e[e.Up=1]="Up";e[e.Down=2]="Down"}(n=t.CursorDir||(t.CursorDir={}));var d=function(){function e(){this.numChecked=0;this.cursorSelectedId=null;this.lastSelectedId=null
;this.checkedState={};this.allIdsInOrder=[];this.editPermissions={};this.deletePermissions={};this.editPermissions={};this.deletePermissions={}}e.prototype.cloneState=function(){var t=new e
;t.numChecked=this.numChecked;t.cursorSelectedId=this.cursorSelectedId;t.lastSelectedId=this.lastSelectedId;t.checkedState=r.clone(this.checkedState);t.allIdsInOrder=this.allIdsInOrder
;t.editPermissions=l.deepCopy(this.editPermissions);t.deletePermissions=l.deepCopy(this.deletePermissions);return t};e.prototype.handleClick=function(e,t,a){var n=!(!t.shiftKey||!this.lastSelectedId)
;return this.toggleCheckbox(e,n,a)};e.prototype.toggleCheckbox=function(e,t,a){
var n=this.cloneState(),r=!this.checkedState[JSON.stringify(e)],o=this.getCheckboxIndex(e),i=o,l=o,d=this.allIdsInOrder.map((function(e){return JSON.stringify(e)}));if(t){
var c=this.getCheckboxIndex(this.lastSelectedId);i=Math.min(o,c);l=Math.max(o,c)}for(var u=i;u<=l;u++)if(r!=!!n.checkedState[d[u]]){n.checkedState[d[u]]=r;n.numChecked+=r?1:-1}
n.numChecked>0&&(n.lastSelectedId=e);s.IntentionEvent.SelectOneMultiselectItem.track(n.addTrackingCounts({numCheckedThisEvent:l-i}));n.checkPermissionsForAllCheckedItems(a);return n}
;e.prototype.hasCursor=function(e){return this.equivalentIds(this.cursorSelectedId,e)};e.prototype.moveCursorUp=function(){return this.moveCursor(n.Up)};e.prototype.moveCursorDown=function(){
return this.moveCursor(n.Down)};e.prototype.getCursorId=function(){return this.cursorSelectedId};e.prototype.equivalentIds=function(e,t){return e&&t&&e.type==t.type&&e.id==t.id}
;e.prototype.moveCursor=function(e){var t=e==n.Up?-1:1,a=this.getCheckboxIndex(this.cursorSelectedId),r=i.clamp(a+t,0,this.allIdsInOrder.length-1),o=this.cloneState()
;o.cursorSelectedId=this.allIdsInOrder[r];return o};e.prototype.toggleCursor=function(){return null!=this.cursorSelectedId?this.toggleCheckbox(this.cursorSelectedId,!1,(function(){})):this}
;e.prototype.getCheckboxIndex=function(e){return this.allIdsInOrder.map((function(e){return JSON.stringify(e)})).indexOf(JSON.stringify(e))};e.prototype.selectAll=function(){var e=this.cloneState()
;e.checkedState={};e.allIdsInOrder.forEach((function(t){e.checkedState[JSON.stringify(t)]=!0}));e.numChecked=e.allIdsInOrder.length;e.lastSelectedId=null
;s.IntentionEvent.SelectAllMultiselectItems.track(e.addTrackingCounts({}));return e};e.prototype.deselectAll=function(){var e=this.cloneState();e.checkedState={};e.numChecked=0;e.lastSelectedId=null
;e.editPermissions=l.deepCopy(this.editPermissions);e.deletePermissions=l.deepCopy(this.deletePermissions);e.cursorSelectedId=null
;s.IntentionEvent.DeselectAllMultiselectItems.track(e.addTrackingCounts({}));return e};e.prototype.clearLastSelectedState=function(){this.lastSelectedId=null}
;e.prototype.updateDisplayedIds=function(e){this.allIdsInOrder=e};e.prototype.isChecked=function(e){return this.checkedState[JSON.stringify(e)]};e.prototype.getSelectedCountsByType=function(){var e={}
;for(var t in this.checkedState)if(this.checkedState[t]){var a=JSON.parse(t).type;e[a]=(e[a]||0)+1}return e};e.prototype.areAllChecked=function(){return this.numChecked==this.allIdsInOrder.length}
;e.prototype.addTrackingCounts=function(e){e.totalChecked=this.allIdsInOrder.length;e.totalIds=this.allIdsInOrder.length;e.totalPercentChecked=this.numChecked/this.allIdsInOrder.length
;var t=this.getSelectedCountsByType();e.totalFoldersChecked=t.folder||0;e.totalDocsChecked=t.doc||0;return e};e.prototype.clone=function(){var t=new e;t.numChecked=this.numChecked
;t.checkedState=this.checkedState;t.cursorSelectedId=this.cursorSelectedId;t.allIdsInOrder=l.deepCopy(this.allIdsInOrder);t.editPermissions=l.deepCopy(this.editPermissions)
;t.deletePermissions=l.deepCopy(this.deletePermissions);return t};e.prototype.checkPermissionsForAllCheckedItems=function(e){this.checkPermission(this.getAllCheckedIds(),e)}
;e.prototype.checkPermission=function(e,t){var a=this,n=e.filter((function(e){return!(e.id in a.editPermissions)}));n.length>0&&o.get({url:"/ep/internal/padlist/check_permission",data:{
entities:JSON.stringify(n)},analyticsTag:"ep-internal-padlist-check-permission",shardingKey:o.getStatelessShardingKey(),successHandler:function(e){var n=e.res,r=n.pads,o=n.folders
;r.forEach((function(e){a.editPermissions[e.id]=e.canEdit;a.deletePermissions[e.id]=e.canDelete}));o.forEach((function(e){a.editPermissions[e.id]=e.canEdit;a.deletePermissions[e.id]=e.canDelete}));t()
}})};e.prototype.haveMovePermission=function(){var e=this;return this.toJson().every((function(t){return e.editPermissions[t.id]}))};e.prototype.haveDeletePermission=function(){var e=this
;return this.toJson().every((function(t){return e.deletePermissions[t.id]}))};e.prototype.getAllCheckedIds=function(){var e=this;return this.allIdsInOrder.filter((function(t){
return e.checkedState[JSON.stringify(t)]}))};e.prototype.toJson=function(){var e=[];for(var t in this.checkedState)this.checkedState[t]&&e.push(JSON.parse(t));return e};return e}()
;t.MultiselectState=d},374:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.DangerousTertiaryAction=t.TertiaryAction=t.SecondaryAction=t.PrimaryAction=void 0
;var n=a(1),r=a(6),o=a(21),s=a(3),i=a(10),l=a(0),d=a(13),c=function(e){return l.createElement("div",{className:s("hp-actions-menu","hp-actions-menu-dig",{"hp-actions-menu-disabled":e.disabled}),
"aria-hidden":e.disabled},e.header?l.createElement("span",{className:"hp-actions-menu-header"},e.header):null,l.createElement("div",{className:"hp-actions-menu-actions"
},e.primary,e.secondary),e.children?l.createElement("ul",{className:"hp-actions-menu-more-actions hp-actions-menu-more-actions-dig"},l.Children.map(e.children,(function(e,t){
return l.createElement("li",{key:t},e)}))):null,e.bonus?l.createElement("div",{className:"hp-actions-menu-bonus"},e.bonus):null)};c.displayName="ActionsMenu";t.default=c;t.PrimaryAction=function(e){
return l.createElement(o.default,{className:s("hp-actions-menu-primary-button",e.className),onClick:e.onClick,variant:"primary"},e.children)};t.PrimaryAction.displayName="PrimaryAction"
;t.SecondaryAction=function(e){return l.createElement(o.default,{onClick:e.onClick,className:"hp-actions-menu-secondary-button",variant:"opacity"},e.children)}
;t.SecondaryAction.displayName="SecondaryAction";t.TertiaryAction=function(e){return l.createElement(o.default,{className:s("hp-actions-menu-tertiary-button",e.className),variant:"opacity",
withIconLeft:e.withIconLeft,onClick:e.onClick},e.children)};t.TertiaryAction.displayName="TertiaryAction";t.DangerousTertiaryAction=function(e){return l.createElement(i.default,n.__assign({
className:"hp-actions-menu-tertiary-button hp-actions-menu-tertiary-button-dangerous"},r.omit(e,"key")),l.createElement(d.default,{name:e.icon}),e.children)}
;t.DangerousTertiaryAction.displayName="DangerousTertiaryAction"},377:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.MultiselectButtons=void 0
;var n=a(1),r=a(6),o=a(90),s=a(861),i=a(10),l=a(862),d=a(2),c=a(1534),u=a(1535),p=a(378),m=a(12),h=a(76),f=a(4),g=a(66),v=a(14),y=a(75),b=a(18),E=a(313),C=a(23),M=a(0),S=a(4),k=a(119),_=(0,
v.MsgFactory)("ui"),w=_.defineMessages,D=_.F,T=a(21),P=a(281),N=a(258),F=a(30),I=a(77),A=a(78),x=w({archiveSuccess:{
description:'Displayed when archiving one document or folder and it succeed.The full sentence will be "1 document was archived for all collaborators',msg:"{items} was archived for all collaborators"},
archiveSuccessPlural:{
description:'Displayed when archiving multiple documents and folders and they all succeed.The full sentence will be "1 document and 2 folders were archived for all collaborators',
msg:"{items} were archived for all collaborators"},archiveFailed:{
description:"Displayed when archiving multiple documents and folders and some failed.The full sentence will be \"1 document and 2 folders couldn't be archived",msg:"{items} couldn't be archived"},
trashSuccess:{description:'Displayed when deleting multiple documents and folders and they all succeed.The full sentence will be "1 document and 2 folders were deleted for all collaborators',
msg:"{items} {count, plural, one {was deleted} other {were deleted}} for all collaborators"},trashFailed:{
description:"Displayed when deleting multiple documents and folders and some failed.The full sentence will be \"1 document and 2 folders couldn't be deleted",msg:"{items} couldn't be deleted"},
moveSuccess:{description:'Displayed when moving multiple documents and folders and they all succeed.The full sentence will be "1 document and 2 folders were moved',
msg:"{items} {count, plural, one {was moved} other {were moved}}"},moveFailed:{
description:"Displayed when moving multiple documents and folders and some failed.The full sentence will be \"1 document and 2 folders couldn't be moved",msg:"{items} couldn't be moved"},
permaDeleteSuccess:{description:'Displayed when permanently deleting multiple documents and folders and they all succeed.The full sentence will be "1 document and 2 folders were deleted',
msg:"{items} {count, plural, one {was permanently deleted} other {were permanently deleted}}"},permaDeleteFailed:{
description:"Displayed when permanently deleting multiple documents and folders and some failed.The full sentence will be \"1 document and 2 folders couldn't be deleted",
msg:"{items} couldn't be permanently deleted"},restoreSuccess:{
description:'Displayed when restoring multiple archived documents and folders and they all succeed.The full sentence will be "1 document and 2 folders were restored',
msg:"{items} {count, plural, one {was restored} other {were restored}}"},restoreFailed:{
description:"Displayed when restoring multiple archived documents and folders and some failed.The full sentence will be \"1 document and 2 folders couldn't be restored",
msg:"{items} couldn't be restored"},untrashSuccess:{
description:'Displayed when restoring multiple deleted documents and folders and they all succeed.The full sentence will be "1 document and 2 folders were restored',
msg:"{items} {count, plural, one {was restored} other {were restored}}"},untrashFailed:{
description:"Displayed when restoring multiple deleted documents and folders and some failed.The full sentence will be \"1 document and 2 folders couldn't be restored",
msg:"{items} couldn't be restored"},undoButton:{msg:"Undo"},undoArchiveButton:{msg:"Restore"},undoTrashButton:{msg:"Restore"},moveItems:{description:"Title for folder selector modal.",
msg:"Move {numChecked, plural, one {1 item} other {# items}} to..."},confirmdeletion:{description:"Title for a dialog box to confirm the user really wants to delete the documents",
msg:"Confirm deletion"},deleteItems:{description:"Dialog to confirm the user really wants to delete the documents",msg:"Delete {numChecked, plural, one {1 item} other {# items}}?"},delete:{
msg:"Delete"},deleteDocsForever:{description:"Title for a dialog box to confirm the user really wants to permanently delete the documents",
msg:"Delete {numChecked, plural, one {this doc} other {these docs}} forever?"},deleteforever:{description:"The button to click to confirm permanently deleting documents",msg:"Delete forever"},
unabletomovethisfolder:{msg:"Unable to move this folder."},working:{description:"Indicate that a batch move/archive of documents is in progress",msg:"Working"},countpluralonefolderotherfolders:{
msg:"{count, plural, one {1 folder} other {# folders}}"},countpluralonedocumentotherdocuments:{msg:"{count, plural, one {1 document} other {# documents}}"},and:{
description:"This is the second of three parts of a sentence, like '1 document and 2 folders'",msg:"and"},documentCount:{
msg:"{documentCount, plural,\n                  one {1 document}\n                  other {# documents}\n                }",
description:"This is the first of three parts of a sentence, like '1 document and 2 folders'"},folderCount:{
msg:"{folderCount, plural,\n                  one {1 folder}\n                  other {# folders}\n                }",
description:"This is the last of three parts of a sentence, like '1 document and 2 folders'"},archiveDocs:{msg:"Archive {numDocs, plural, one {this doc} other {these docs}}?"},archiveFolders:{
msg:"Archive {numDocs, plural, one {this folder} other {these folders}}?"},archive:{msg:"Archive"},gotitclosethis:{
description:"When a user has tried to move/archive multiple documents at once and it succeeds",msg:"Got it, close this."},onlyEditorCanMove:{msg:"Only the editor of a doc or folder can move it."},
onlyEditorCanArchive:{msg:"Only the editor of a doc or folder can archive it."},onlyOwnerCanDelete:{msg:"Only the owner of a doc or folder can delete it."},onlyOwnerCanRestore:{
msg:"Only the owner of a doc or folder can restore it."},selectAll:{msg:"Select All"},countSelected:{msg:"{numSelected, plural, one {{counts} selected} other {{counts} selected}}",
description:"Sentence like '1 document and 2 folders selected'"},restore:{msg:"Restore"},permanentlydelete:{msg:"Permanently delete"},move:{msg:"Move"},export:{msg:"Export"},permanentlyDeleteOne:{
msg:"{docTitle} will be permanently deleted for you and everyone else. Once this doc is deleted forever, it can’t be restored.",
description:"Dialog to confirm the user really wants to permanently delete the documents"},permanentlyDeleteTwo:{
msg:"{docTitle} and {otherDocTitle} will be permanently deleted for you and everyone else. Once these docs are deleted forever, they can’t be restored.",
description:"Dialog to confirm the user really wants to permanently delete the documents"},permanentlyDeletMore:{
msg:"{docTitle} and {numOthers} other docs will be permanently deleted for you and everyone else. Once these docs are deleted forever, they can’t be restored.",
description:"Dialog to confirm the user really wants to permanently delete the documents"},archiveDocOne:{
msg:"{docTitle} will be archived for you and everyone else. You can still see and search for archived docs."},archiveDocAndFolderOne:{
msg:"{docTitle} will be archived for you and everyone else. You can still see and search for archived folders."},archiveDocTwo:{
msg:"{docTitle} and {docTitle2} will be archived for you and everyone else. You can still see and search for archived docs."},archiveDocAndFolderTwo:{
msg:"{docTitle} and {docTitle2} will be archived for you and everyone else. You can still see and search for archived folders."},archiveDocMore:{
msg:"{docTitle} and {numCheckedItems} other docs will be archived for you and everyone else. You can still see and search for archived docs."},archiveDocAndFolderMore:{
msg:"{docTitle} and {numCheckedItems} other docs will be archived for you and everyone else. You can still see and search for archived folders."}}),L=((0,d.defineMessages)({archiveSuccess:{
id:"NVGSoI",defaultMessage:"{items} was archived for all collaborators"},archiveSuccessPlural:{id:"3sdd/l",defaultMessage:"{items} were archived for all collaborators"},archiveFailed:{id:"seBtQu",
defaultMessage:"{items} couldn't be archived"},trashSuccess:{id:"qBzRXq",defaultMessage:"{items} {count, plural, one {was deleted} other {were deleted}} for all collaborators"},trashFailed:{
id:"wUFWAp",defaultMessage:"{items} couldn't be deleted"},moveSuccess:{id:"rA+lTG",defaultMessage:"{items} {count, plural, one {was moved} other {were moved}}"},moveFailed:{id:"uKAKUd",
defaultMessage:"{items} couldn't be moved"},permaDeleteSuccess:{id:"qPvHoI",defaultMessage:"{items} {count, plural, one {was permanently deleted} other {were permanently deleted}}"},
permaDeleteFailed:{id:"FUrQ4a",defaultMessage:"{items} couldn't be permanently deleted"},restoreSuccess:{id:"R7FuIN",defaultMessage:"{items} {count, plural, one {was restored} other {were restored}}"
},restoreFailed:{id:"73YLbc",defaultMessage:"{items} couldn't be restored"},untrashSuccess:{id:"w8x3Ak",defaultMessage:"{items} {count, plural, one {was restored} other {were restored}}"},
untrashFailed:{id:"IB24UJ",defaultMessage:"{items} couldn't be restored"},undoButton:{id:"OfxyEk",defaultMessage:"Undo"},undoArchiveButton:{id:"PL5ta5",defaultMessage:"Restore"},undoTrashButton:{
id:"PL5ta5",defaultMessage:"Restore"},permanentlyDeleteOne:{id:"HM4+Di",
defaultMessage:"{docTitle} will be permanently deleted for you and everyone else. Once this doc is deleted forever, it can’t be restored."},permanentlyDeleteTwo:{id:"2PfMC0",
defaultMessage:"{docTitle} and {otherDocTitle} will be permanently deleted for you and everyone else. Once these docs are deleted forever, they can’t be restored."},permanentlyDeletMore:{id:"vUdreO",
defaultMessage:"{docTitle} and {numOthers} other docs will be permanently deleted for you and everyone else. Once these docs are deleted forever, they can’t be restored."},archiveDocOne:{id:"g8j06p",
defaultMessage:"{docTitle} will be archived for you and everyone else. You can still see and search for archived docs."},archiveDocAndFolderOne:{id:"/plsSX",
defaultMessage:"{docTitle} will be archived for you and everyone else. You can still see and search for archived folders."},archiveDocTwo:{id:"a2EWU3",
defaultMessage:"{docTitle} and {docTitle2} will be archived for you and everyone else. You can still see and search for archived docs."},archiveDocAndFolderTwo:{id:"z+jHGl",
defaultMessage:"{docTitle} and {docTitle2} will be archived for you and everyone else. You can still see and search for archived folders."},archiveDocMore:{id:"2GNg5+",
defaultMessage:"{docTitle} and {numCheckedItems} other docs will be archived for you and everyone else. You can still see and search for archived docs."},archiveDocAndFolderMore:{id:"bt9AzR",
defaultMessage:"{docTitle} and {numCheckedItems} other docs will be archived for you and everyone else. You can still see and search for archived folders."}}),"batch-archive"),O=function(e){
n.__extends(t,e);function t(t){var r=e.call(this,t)||this;r.handleToggleCursorItem=function(){r.props.onSelectionChanged(r.props.multiselectState.toggleCursor())};r.handleOpenCursorItem=function(e){
if(r.handleOpenCursor()){e.stopPropagation();e.preventDefault();return!0}};r.handleMoveCursorDown=function(){r.props.onSelectionChanged(r.props.multiselectState.moveCursorDown())
;r.maybeScrollCursorIntoView()};r.handleMoveCursorUp=function(){r.props.onSelectionChanged(r.props.multiselectState.moveCursorUp());r.maybeScrollCursorIntoView()};r.handleTriggerMove=function(e){
if(r.props.multiselectState.haveMovePermission()){e.stopPropagation();e.preventDefault();r.handleMove();return!0}};r.handleTriggerArchive=function(e){if(r.props.multiselectState.haveMovePermission()){
e.stopPropagation();e.preventDefault();r.handleArchive();return!0}};r.handleTriggerDelete=function(e){if(r.props.multiselectState.haveDeletePermission()){e.stopPropagation();e.preventDefault()
;r.handleTrash();return!0}};r.handleClearBulk=function(e){r.props.multiselectState.numChecked>0&&r.props.onSelectionChanged(r.props.multiselectState.deselectAll())};r.bindListViewHotkeys=function(){
k.WindowKeyEvents.define(y.MultiselectHotkeys.ToggleCursorItem,r.handleToggleCursorItem);k.WindowKeyEvents.define(y.MultiselectHotkeys.MoveCursorDown,r.handleMoveCursorDown)
;k.WindowKeyEvents.define(y.MultiselectHotkeys.MoveCursorUp,r.handleMoveCursorUp);k.WindowKeyEvents.define(y.MultiselectHotkeys.OpenCursorItem,r.handleOpenCursorItem)
;k.WindowKeyEvents.define(y.MultiselectHotkeys.TriggerMove,r.handleTriggerMove);k.WindowKeyEvents.define(y.MultiselectHotkeys.TriggerArchive,r.handleTriggerArchive)
;k.WindowKeyEvents.define(y.MultiselectHotkeys.TriggerDelete,r.handleTriggerDelete);k.WindowKeyEvents.define(y.MultiselectHotkeys.ClearBulkActions,r.handleClearBulk)};r.handleMove=function(){
if(!r.selectionIsEmpty()){var e=0==r.props.multiselectState.getAllCheckedIds().filter((function(e){return"folder"==e.type})).length;(0,a(379).default)(M.createElement(D,n.__assign({values:{
numChecked:r.props.multiselectState.numChecked}},x.moveItems)),r.props.stores,r.handleFolderChosen,r.handleFailed,{allowRoot:!0,trackContext:r.getTrackContext(),folderData:e&&r.props.folderData,
baseFolder:r.props.folderData})}};r.handleArchive=function(){if(!r.selectionIsEmpty()){if(i.hasSeenBatchArchiveModal)return r.createArchiveSelectedCommand().do()
;r.context.stores.onboarding.checkCompleted(L,(function(e){if(e){i.hasSeenBatchArchiveModal=!0;return r.createArchiveSelectedCommand().do()}r.showArchiveConfirmDialog()}))}};r.handleTrash=function(){
r.selectionIsEmpty()||o.confirm(M.createElement(D,n.__assign({},x.confirmdeletion)),M.createElement(D,n.__assign({values:{numChecked:r.props.multiselectState.numChecked}},x.deleteItems)),(function(){
return r.createTrashSelectedCommand().do()}),{confirmText:M.createElement(D,n.__assign({},x.delete)),cancelByDefault:!1})};r.handlePermanentlyDelete=function(){if(!r.selectionIsEmpty()){
var e,t=r.props.multiselectState,a=t.numChecked,s=t.getAllCheckedIds().filter((function(e){return"doc"==e.type})),i=M.createElement(D,n.__assign({values:{numChecked:a}
},x.deleteDocsForever)),l=M.createElement("b",null,r.getPadTitle(s[0].id));switch(a){case 1:e=M.createElement(D,n.__assign({},x.permanentlyDeleteOne,{values:{docTitle:l}}));break;case 2:
var d=M.createElement("b",null,r.getPadTitle(s[1].id));e=M.createElement(D,n.__assign({},x.permanentlyDeleteTwo,{values:{docTitle:l,otherDocTitle:d}}));break;default:
e=M.createElement(D,n.__assign({},x.permanentlyDeletMore,{values:{docTitle:l,numOthers:a-1}}))}o.confirm(i,e,(function(){return r.createPermanentelyDeleteCommand().do()}),{
confirmText:M.createElement(D,n.__assign({},x.deleteforever)),cancelByDefault:!0,confirmButtonClass:"hp-button-dangerous"})}};r.handleRestore=function(){
r.props.restoreTrash?r.createUntrashCommand().do():r.createRestoreArchivedCommand().do()};r.handleFolderChosen=function(e){e?r.createMoveSelectedCommand(e).do():r.makeTopLevel()}
;r.makeTopLevel=function(){(0,S.track)("folder-parent-removed");for(var e=[],t=function(t){var a=r.props.stores.folderList.getFolderDataById(t.id);if(a){var o=a.parentFolders;if(0==o.length)return{
value:void 0};e.push(new Promise((function(e,t){m.post({url:"/folder/remove-parent-folder",data:{folderId:a.folder.encryptedId,parentFolderId:o[o.length-1].encryptedId},
analyticsTag:"remove-parent-folder",shardingKey:m.getStatelessShardingKey(),hpAppLevel:!0,successHandler:function(t){e(t)},errorHandler:function(){t.apply(null,arguments);return!1},
errorModalMessage:M.createElement(D,n.__assign({},x.unabletomovethisfolder))})})))}else r.createUnfileSelectedCommand().do()},a=0,o=r.props.multiselectState.getAllCheckedIds();a<o.length;a++){
var s=t(o[a]);if("object"==typeof s)return s.value}Promise.all(e).then((function(e){return r.handleMoveFolderToTopLevel(e,"moveSuccess","moveFailed")}))};r.handleMoveFolderToTopLevel=function(e,t,a){
for(var o=0,s=0,i=0,l=e;i<l.length;i++){var d=l[i];d&&d.success?o++:s++}var c={};c.folder=o;var u={};u.folder=s;r.setState({processing:!1,renderMessage:function(){
var e=r.getCountString(c),s=r.getCountString(u);return e?M.createElement(D,n.__assign({},x[t],{values:{count:o,items:e}})):s?M.createElement(D,n.__assign({},x[a],{values:{items:s}})):void 0}})
;r.handleCompleted()};r.handleExport=function(){f.IntentionEvent.TakeMultiselectAction.track(r.props.multiselectState.addTrackingCounts({action:"export"}))
;p.ExportPopup.showBatch(r.props.multiselectState.toJson(),r.handleCompleted,r.handleFailed)};r.handleCompleted=function(){r.setState({processing:!1});r.props.onComplete()};r.handleFailed=function(){
r.setState({processing:!1})};r.handleResponse=function(e,t,a,o){for(var s={},i={},l=0,d=e.result;l<d.length;l++){var c=d[l];"success"===c.state?s[c.type]=(s[c.type]||0)+1:i[c.type]=(i[c.type]||0)+1}
var u=0;for(var p in s)u+=s[p];r.setState({processing:!1,renderMessage:function(){var e=r.getCountString(s),l=r.getCountString(i);return e?u>1&&o?M.createElement(D,n.__assign({},x[o],{values:{items:e}
})):M.createElement(D,n.__assign({},x[t],{values:{count:u,items:e}})):l?M.createElement(D,n.__assign({},x[a],{values:{items:l}})):void 0}});r.handleCompleted()};r.handleSelectAll=function(e){
return(void 0===e?r.props.multiselectState.areAllChecked():!e)?r.props.onSelectionChanged(r.props.multiselectState.deselectAll()):r.props.onSelectionChanged(r.props.multiselectState.selectAll())}
;r.handleOpenCursor=function(){var e=r.props.multiselectState.getCursorId();if(!e)return!1;switch(e.type){case"doc":var t=e.id;App.navigateToPad({id:t});return!0;case"folder":
var a=e.id,n=h.folderUrlFromId(a);App.navigateToUrl(n);return!0;case"file":var o=e.url;App.navigateToUrl(o);return!0;default:e.type}};r.clearMessage=function(e){e.preventDefault();r.setState({
renderMessage:null,lastCommand:null})};r.state={processing:!1,renderMessage:null,lastCommand:null};return r}i=t;t.prototype.maybeScrollCursorIntoView=function(){
var e=document.querySelector(".hp-list-item-cursor"),t=(0,b.offset)(e).top,a=window.innerHeight;(t<136||t>a-75)&&this.centerCursorInWindow()};t.prototype.centerCursorInWindow=function(){
var e=document.querySelector(".hp-list-item-cursor"),t=document.querySelector(".hp-page"),a=(0,b.offset)(e).top,n=Math.floor(.5*window.innerHeight)-a,r=(0,b.getScrollTop)(t);(0,b.setScrollTop)(t,r-n)}
;t.prototype.componentDidMount=function(){this.docListContext=new u.default(this.props.multiselectState,this.props.folderData);this.omnibar.registerContextProvider(this.docListContext)
;this.omnibar.registerCommandProvider(new c.DocListCommandProvider(this));this.bindListViewHotkeys()};t.prototype.componentWillUnmount=function(){
k.WindowKeyEvents.off(y.MultiselectHotkeys.ToggleCursorItem,this.handleToggleCursorItem);k.WindowKeyEvents.off(y.MultiselectHotkeys.MoveCursorDown,this.handleMoveCursorDown)
;k.WindowKeyEvents.off(y.MultiselectHotkeys.MoveCursorUp,this.handleMoveCursorUp);k.WindowKeyEvents.off(y.MultiselectHotkeys.OpenCursorItem,this.handleOpenCursorItem)
;k.WindowKeyEvents.off(y.MultiselectHotkeys.TriggerMove,this.handleTriggerMove);k.WindowKeyEvents.off(y.MultiselectHotkeys.TriggerArchive,this.handleTriggerArchive)
;k.WindowKeyEvents.off(y.MultiselectHotkeys.TriggerDelete,this.handleTriggerDelete);k.WindowKeyEvents.off(y.MultiselectHotkeys.ClearBulkActions,this.handleClearBulk)}
;t.prototype.componentWillReceiveProps=function(e){this.props.multiselectState!==e.multiselectState&&e.multiselectState.numChecked>0&&this.setState({renderMessage:null,lastCommand:null})}
;t.prototype.componentDidUpdate=function(e){this.props.multiselectState!==e.multiselectState&&this.docListContext&&this.docListContext.notifyMultiselectStateChange(this.props.multiselectState)}
;t.prototype.handleFailure=function(){this.setState({processing:!1})};t.prototype.selectionIsEmpty=function(){return 0==this.props.multiselectState.getAllCheckedIds().length}
;t.prototype.createArchiveSelectedCommand=function(){var e=this,t=this.props.multiselectState,a=new l.default((function(){f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({
action:"archive"}));e.setState({processing:!0,renderMessage:null});(0,s.batchArchive)(t,(function(t){e.setState({lastCommand:a,undoButtonMessageName:"undoArchiveButton"})
;e.removeUpdatedEntriesFromStore(t);e.handleResponse(t,"archiveSuccess","archiveFailed","archiveSuccessPlural")}),(function(){e.handleFailure()}))}),(function(){
f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"undo-archive"}));e.setState({processing:!0,renderMessage:null});(0,s.batchUnarchive)(t,(function(t){e.setState({
lastCommand:null});e.removeUpdatedEntriesFromStore(t);e.handleResponse(t,"restoreSuccess","restoreFailed")}),(function(){e.handleFailure()}))}));return a}
;t.prototype.createTrashSelectedCommand=function(){var e=this,t=this.props.multiselectState,a=new l.default((function(){f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"trash"
}));e.setState({processing:!0,renderMessage:null});(0,s.batchTrash)(t,(function(t){e.setState({lastCommand:a,undoButtonMessageName:"undoTrashButton"});e.removeUpdatedEntriesFromStore(t)
;e.handleResponse(t,"trashSuccess","trashFailed")}),(function(){e.handleFailure()}))}),(function(){f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"undo-trash"}));e.setState({
processing:!0,renderMessage:null});(0,s.batchUntrash)(t,(function(t){e.setState({lastCommand:null});e.removeUpdatedEntriesFromStore(t);e.handleResponse(t,"restoreSuccess","restoreFailed")
}),(function(){e.handleFailure()}))}));return a};t.prototype.createMoveSelectedCommand=function(e){var t=this,a=this.props.multiselectState;return new l.default((function(){t.setState({processing:!0,
renderMessage:null});f.IntentionEvent.TakeMultiselectAction.track(a.addTrackingCounts({action:"move"}));(0,s.batchMove)(a,e,(function(a){a.result.filter((function(e){return"success"==e.state
})).filter((function(e){return"doc"==e.type})).forEach((function(a){t.props.stores.padList.modifyEntity(a.localPadId,(function(t){t.folderData=e}))}));t.handleResponse(a,"moveSuccess","moveFailed")
}),(function(){t.handleFailure()}))}),(function(){}))};t.prototype.createUnfileSelectedCommand=function(){var e=this,t=this.props.multiselectState;return new l.default((function(){
f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"unfile"}));if(e.props.folderData){e.setState({processing:!0,renderMessage:null});(0,
s.batchUnfile)(t,e.props.folderData.folder.encryptedId,(function(t){e.handleResponse(t,"moveSuccess","moveFailed")}),(function(){e.handleFailure()}))}}),(function(){}))}
;t.prototype.createUntrashCommand=function(){var e=this,t=this.props.multiselectState,a=new l.default((function(){f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"untrash"}))
;e.setState({processing:!0,renderMessage:null});(0,s.batchUntrash)(t,(function(t){e.setState({lastCommand:a,undoButtonMessageName:"undoButton"});e.removeUpdatedEntriesFromStore(t)
;e.handleResponse(t,"untrashSuccess","untrashFailed")}),(function(){e.handleFailure()}))}),(function(){f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"undo-untrash"}))
;e.setState({processing:!0,renderMessage:null});(0,s.batchTrash)(t,(function(t){e.setState({lastCommand:null,undoButtonMessageName:null});e.removeUpdatedEntriesFromStore(t)
;e.handleResponse(t,"trashSuccess","trashFailed")}),(function(){e.handleFailure()}))}));return a};t.prototype.createRestoreArchivedCommand=function(){
var e=this,t=this.props.multiselectState,a=new l.default((function(){f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"restore"}));e.setState({processing:!0,renderMessage:null
});(0,s.batchUnarchive)(t,(function(t){e.setState({lastCommand:a,undoButtonMessageName:"undoButton"});e.removeUpdatedEntriesFromStore(t);e.handleResponse(t,"restoreSuccess","restoreFailed")
}),(function(){e.handleFailure()}))}),(function(){f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"undo-restore"}));e.setState({processing:!0,renderMessage:null});(0,
s.batchArchive)(t,(function(t){e.setState({lastCommand:null,undoButtonMessageName:null});e.removeUpdatedEntriesFromStore(t);e.handleResponse(t,"archiveSuccess","archiveFailed","archiveSuccessPlural")
}),(function(){e.handleFailure()}))}));return a};t.prototype.createPermanentelyDeleteCommand=function(){var e=this,t=this.props.multiselectState,a=new l.default((function(){
f.IntentionEvent.TakeMultiselectAction.track(t.addTrackingCounts({action:"perma-delete"}));e.setState({processing:!0,renderMessage:null});(0,s.batchPermanentlyDelete)(t,(function(t){e.setState({
lastCommand:a});e.removeUpdatedEntriesFromStore(t);e.handleResponse(t,"permaDeleteSuccess","permaDeleteFailed")}),(function(){e.handleFailure()}))}),(function(){}));return a}
;t.prototype.getPadTitle=function(e){var t=this.props.stores.padList.getPadFromMemory(e);return t?t.title:null};t.prototype.getFolderTitle=function(e){
var t=this.props.stores.folderList.getFolderDataById(e);return t?t.folder.name:null};t.prototype.removeUpdatedEntriesFromStore=function(e){for(var t=[],a=[],n=0,r=e.result;n<r.length;n++){var o=r[n]
;"success"==o.state&&("doc"==o.type?t.push(o.localPadId):"folder"==o.type&&a.push(o.folderId))}t.length>0&&this.props.stores.padList.deletePads(t)
;a.length>0&&this.props.stores.folderList.deleteFolders(a)};t.prototype.render=function(){var e=this;if(this.state.renderMessage&&this.state.renderMessage())return M.createElement(B,{
message:this.state.renderMessage(),clearMessage:this.clearMessage,enableUndo:Boolean(this.state.lastCommand)&&!!this.state.undoButtonMessageName,handleUndo:function(){return e.state.lastCommand.undo()
},undoButtonText:this.state.undoButtonMessageName?M.createElement(D,n.__assign({},x[this.state.undoButtonMessageName])):null});if(this.state.processing)return M.createElement("div",{
className:"hp-multiselect"},M.createElement("div",{className:"hp-multiselect-text"},M.createElement(D,n.__assign({},x.working))," ",M.createElement("span",{className:"notranslate"},"…")))
;if(0===this.props.multiselectState.numChecked)return null;var t=r.some(this.props.multiselectState.getAllCheckedIds(),(function(t){
return"doc"===t.type&&e.props.stores.padList.getPadFromMemory(t.id)&&e.props.stores.padList.getPadFromMemory(t.id).isCloudDoc}));return M.createElement(H,{
selectedCounts:this.getCountString(this.props.multiselectState.getSelectedCountsByType()),enableStandardActions:this.props.enableStandardActions,handleMove:this.handleMove,
handleExport:this.handleExport,handleSoftDelete:this.handleArchive,handleRestore:this.handleRestore,handlePermanentlyDelete:this.handlePermanentlyDelete,
enableArchivedDocsActions:this.props.enableArchivedDocsActions,showRestoreOnly:this.props.showRestoreOnly,enableRestoreAndPermaDelete:this.props.enableRestoreAndPermaDelete,
handleSelectAll:this.handleSelectAll,handleTrash:this.handleTrash,areAllChecked:this.props.multiselectState.areAllChecked(),haveMovePermission:this.props.multiselectState.haveMovePermission(),
haveDeletePermission:this.props.multiselectState.haveDeletePermission(),isCloudDocSelected:t,selectedCountsByType:this.props.multiselectState.getSelectedCountsByType()})}
;t.prototype.getCountString=function(e){var t=Object.keys(e);if(1==t.length)return"folder"==t[0]?M.createElement(D,n.__assign({values:{count:e.folder}
},x.countpluralonefolderotherfolders)):M.createElement(D,n.__assign({values:{count:e.doc}},x.countpluralonedocumentotherdocuments));if(2==t.length){var a=M.createElement(D,n.__assign({},x.and))
;return M.createElement("span",null,M.createElement(D,n.__assign({values:{documentCount:e.doc}},x.documentCount))," ",a," ",M.createElement(D,n.__assign({values:{folderCount:e.folder}
},x.folderCount)))}return null};t.prototype.showArchiveConfirmDialog=function(){var e=this,t=this.props.multiselectState;if(t.numChecked<1)return null
;var a=!t.getSelectedCountsByType().folder,r=a?M.createElement(D,n.__assign({values:{numDocs:t.numChecked}},x.archiveDocs)):M.createElement(D,n.__assign({values:{numDocs:t.numChecked}
},x.archiveFolders)),s=t.getAllCheckedIds(),l=M.createElement("b",null,this.getPadTitle(s[0].id)||this.getFolderTitle(s[0].id)),d=null
;if(1==t.numChecked)d=a?M.createElement(D,n.__assign({},x.archiveDocOne,{values:{docTitle:l}})):M.createElement(D,n.__assign({},x.archiveDocAndFolderOne,{values:{docTitle:l}
}));else if(2==t.numChecked){var c=M.createElement("b",null,this.getPadTitle(s[1].id)||this.getFolderTitle(s[1].id));d=a?M.createElement(D,n.__assign({},x.archiveDocTwo,{values:{docTitle:l,docTitle2:c
}})):M.createElement(D,n.__assign({},x.archiveDocAndFolderTwo,{values:{docTitle:l,docTitle2:c}}))}else d=a?M.createElement(D,n.__assign({},x.archiveDocMore,{values:{docTitle:l,
numCheckedItems:t.numChecked-1}})):M.createElement(D,n.__assign({},x.archiveDocAndFolderMore,{values:{docTitle:l,numCheckedItems:t.numChecked-1}}));var u={
confirmText:M.createElement(D,n.__assign({},x.archive))},p=function(){return e.createArchiveSelectedCommand().do()};o.confirm(r,d,(function(){i.hasSeenBatchArchiveModal=!0
;e.context.stores.onboarding.markCompleted(L,p,p)}),u)};var i;t.displayName="MultiselectButtons";t.hasSeenBatchArchiveModal=!1;t.contextTypes={stores:C.object.isRequired}
;return t=i=n.__decorate([E.default,f.trackContextDecorator],t)}(M.PureComponent);t.MultiselectButtons=O;var B=function(e){return M.createElement("div",{className:"hp-multiselect"
},M.createElement("div",{className:"hp-multiselect-text"},e.message,e.enableUndo?M.createElement(i.default,{href:"#undo",primary:!0,onClick:e.handleUndo,key:"undo"
},e.undoButtonText):M.createElement(i.default,{href:"#close",className:"hp-multiselect-close",onClick:e.clearMessage},M.createElement(D,n.__assign({},x.gotitclosethis)))))}
;B.displayName="ActionComplete";var H=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.componentDidMount=function(){
document.body.classList.add("hp-multiselect-mounted")};t.prototype.componentWillUnmount=function(){document.body.classList.remove("hp-multiselect-mounted")}
;t.prototype.tooltipContentForMove=function(){return M.createElement(D,n.__assign({},x.onlyEditorCanMove))};t.prototype.tooltipContentForArchive=function(){
return M.createElement(D,n.__assign({},x.onlyEditorCanArchive))};t.prototype.tooltipContentForDelete=function(){return M.createElement(D,n.__assign({},x.onlyOwnerCanDelete))}
;t.prototype.tooltipContentForRestore=function(){return M.createElement(D,n.__assign({},x.onlyOwnerCanRestore))};t.prototype.render=function(){var e=[]
;this.props.showRestoreOnly?e=this.renderRestoreButton():this.props.enableArchivedDocsActions?e=this.renderArchivedDocsButtons():this.props.enableRestoreAndPermaDelete?e=this.renderRestoreAndPermaDeleteButtons():this.props.enableStandardActions&&(e=this.renderStandardButtons())
;var t=(this.props.selectedCountsByType.folder||0)+(this.props.selectedCountsByType.doc||0);return M.createElement("div",{className:"hp-multiselect"},M.createElement(I.LayerContext.Provider,{value:{
zIndex:F.default.zindex_toast}},M.createElement(A.Tooltip,{title:M.createElement(D,n.__assign({},x.selectAll)),placement:"top"},M.createElement(N.Checkbox,{className:"multiselect-selectall-dig",
checked:this.props.areAllChecked,onClick:this.props.handleSelectAll,isIndeterminate:!this.props.areAllChecked}))),e,M.createElement("div",{className:"hp-multiselect-text"
},M.createElement(D,n.__assign({values:{counts:this.props.selectedCounts,numSelected:t}},x.countSelected))))};t.prototype.renderArchivedDocsButtons=function(){var e=this
;return M.createElement(P.ButtonGroup,null,(function(t){var a=t.getButtonProps;return M.createElement(M.Fragment,null,M.createElement(T.default,n.__assign({onClick:e.props.handleRestore,key:"restore"
},a({variant:"outline"}),{className:"selenium-multiselect-button-restore"}),M.createElement(D,n.__assign({},x.restore))),M.createElement("span",{className:"multiselect-divider-dig",key:"divider"
}),M.createElement(T.default,n.__assign({onClick:e.props.handleTrash,key:"trash",disabled:!e.props.haveDeletePermission,tooltip:e.props.haveDeletePermission?void 0:{title:e.tooltipContentForDelete(),
placement:"top"}},a({variant:"outline"}),{className:"button-dangerous-dig"}),M.createElement(D,n.__assign({},x.delete))))}))};t.prototype.renderRestoreButton=function(){
return M.createElement(T.default,{variant:"outline",onClick:this.props.handleRestore,key:"restore",disabled:!this.props.haveDeletePermission,tooltip:this.props.haveDeletePermission?void 0:{
title:this.tooltipContentForRestore(),placement:"top"}},M.createElement(D,n.__assign({},x.restore)))};t.prototype.renderRestoreAndPermaDeleteButtons=function(){var e=this
;return M.createElement(P.ButtonGroup,null,(function(t){var a=t.getButtonProps;return M.createElement(M.Fragment,null,M.createElement(T.default,n.__assign({onClick:e.props.handleRestore,key:"restore",
disabled:!e.props.haveDeletePermission,tooltip:e.props.haveDeletePermission?void 0:{title:e.tooltipContentForRestore(),placement:"top"}},a({variant:"outline"
})),M.createElement(D,n.__assign({},x.restore))),M.createElement("span",{className:"multiselect-divider-dig",key:"divider"}),M.createElement(T.default,n.__assign({
onClick:e.props.handlePermanentlyDelete,key:"peram-delete",disabled:!e.props.haveDeletePermission,tooltip:e.props.haveDeletePermission?void 0:{title:e.tooltipContentForDelete(),placement:"top"}},a({
variant:"outline"}),{className:"button-dangerous-dig"}),M.createElement(D,n.__assign({},x.permanentlydelete))))}))};t.prototype.renderStandardButtons=function(){
var e=this,t=this.props.selectedCountsByType.folder>0,a=this.props.selectedCountsByType.doc>0,r=t&&a,o=!t&&a;return M.createElement(P.ButtonGroup,null,(function(t){var a=t.getButtonProps
;return M.createElement(M.Fragment,null,M.createElement(T.default,n.__assign({onClick:e.props.handleMove,key:"move",disabled:!e.props.haveMovePermission,tooltip:e.props.haveMovePermission?void 0:{
title:e.tooltipContentForMove(),placement:"top"}},a({variant:"primary"})),M.createElement(D,n.__assign({},x.move))),!(0,g.isApollo)()&&M.createElement(T.default,n.__assign({
onClick:e.props.handleExport,key:"export"},a({variant:"outline"})),M.createElement(D,n.__assign({},x.export))),!e.props.isCloudDocSelected&&M.createElement("span",{className:"multiselect-divider-dig",
key:"divider"}),!e.props.isCloudDocSelected&&M.createElement(T.default,n.__assign({onClick:e.props.handleSoftDelete,key:"archive",disabled:!e.props.haveMovePermission||r,
tooltip:e.props.haveMovePermission?void 0:{title:e.tooltipContentForArchive(),placement:"top"}},a({variant:"outline"
})),M.createElement(D,n.__assign({},x.archive))),o&&!e.props.isCloudDocSelected&&M.createElement("span",{className:"multiselect-divider-dig",key:"divider2"}),o&&M.createElement(T.default,n.__assign({
onClick:e.props.handleTrash,key:"trash",disabled:!e.props.haveDeletePermission,tooltip:e.props.haveDeletePermission?void 0:{title:e.tooltipContentForDelete(),placement:"top"}},a({variant:"outline"}),{
className:"button-dangerous-dig"}),M.createElement(D,n.__assign({},x.delete))))}))};t.displayName="CommandBar";return t}(M.Component)},380:function(e,t,a){Object.defineProperty(t,"__esModule",{
value:!0});var n=a(1),r=a(11),o=a(18),s=a(0),i=function(e){n.__extends(t,e);function t(t){var a=e.call(this,t)||this;a.handleScroll=function(e){
var t=e.target.scrollTop,n=document.querySelector(a.props.offsetHeightSelector),r=(null==n?void 0:n.offsetHeight)||0,s=(a.inlineElement&&a.inlineElement.offsetTop)<t+r;a.setState({
display:s?"block":"",height:s?(0,o.height)(a.inlineElement):0,top:r,width:s?(0,o.width)(a.inlineElement):0})};a.state={display:"",height:0,top:0,width:0};return a}
t.prototype.componentDidMount=function(){var e=this;this.timers.setTimeout((function(){e.events.on(document.querySelector(e.props.scrollSelector),"scroll",e.handleScroll)}),0)}
;t.prototype.render=function(){var e=this;return s.createElement("div",{className:this.props.className},s.createElement("div",{key:"inline",ref:function(t){return e.inlineElement=t},
className:"hp-scroll-locking-header hp-scroll-locking-header-inline",style:{visibility:"block"==this.state.display?"hidden":"visible"}},this.props.children),s.createElement("div",{key:"fixed",
className:"hp-scroll-locking-header hp-scroll-locking-header-fixed",style:this.state},this.props.children))};t.displayName="ScrollLockingHeader";return t=n.__decorate([r.default],t)}(s.PureComponent)
;t.default=i},383:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),r=a(89),o=a(1577),s=a(7),i=a(853),l=a(0),d=a(1583);function c(e){
var t=e.multiselectState&&e.multiselectState.numChecked>=1,a=e.data.entries;e.multiselectState&&e.multiselectState.updateDisplayedIds(a.map((function(e){return e.id})));var c=a.map((function(a,n){
var c=e.isEntryPinned&&e.isEntryPinned(a),u=e.statusRenderer?e.statusRenderer(e.stores,a):null;0!=e.includeDefaultStatusText||u||(u=l.createElement("span",null));if("pad"==a.type){
if(a.pad.padType==s.PadType.customTemplate)return l.createElement(d.default,{app:e.app,index:n,pad:a.pad});var p=void 0;(0,
r.isUserInPurgatory)(a.pad.isCloudDoc)&&(p="desktop-cloud-docs-purgatory-checkbox");return l.createElement(o.default,{alwaysShowCheckbox:t,app:e.app,checkboxId:a.id,checkboxClassName:p,
checked:e.multiselectState&&e.multiselectState.isChecked(a.id),cursor:e.multiselectState&&e.multiselectState.hasCursor(a.id),enableCheckbox:!!e.multiselectState,hideSharingStatus:e.hideSharingStatus,
index:n,isHighlighted:!1,key:a.pad.localPadId,onToggle:e.onToggle,pad:a.pad,sortOrder:e.sortOrder,stores:e.stores,showMoveButton:e.showMoveButton,showOverflowMenu:e.showOverflowMenu,
trackListView:e.trackListView,isPinned:c,isWebHome:e.isWebHome},u)}if("folder"==a.type)return l.createElement(i.default,{alwaysShowCheckbox:t,checkboxId:a.id,checkboxClassName:(0,
r.cloudDocsUxEnabled)()?"desktop-cloud-docs-purgatory-checkbox":"",checked:e.multiselectState&&e.multiselectState.isChecked(a.id),cursor:e.multiselectState&&e.multiselectState.hasCursor(a.id),
enableCheckbox:!!e.multiselectState,folderData:a.folderData,hideSharingStatus:e.hideSharingStatus,index:n,key:a.folderData.folder.encryptedId,onToggle:e.onToggle,showPath:null!=e.showPath&&e.showPath,
sortOrder:e.sortOrder,stores:e.stores,showOverflowMenu:e.showOverflowMenu,trackListView:e.trackListView,isPinned:c},u)}));e.header&&c.unshift(e.header);e.footer&&c.push(e.footer)
;var u=n("selenium-doc-and-folder-list","hp-doc-and-folder-list",e.className);return l.createElement("div",{className:u},c)}t.default=c;c.displayName="DocAndFolderList"},458:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(371),o=a(608),s=a(609),i=a(11),l=a(460),d=a(4),c=a(610),u=a(23),p=a(0),m=function(e){n.__extends(t,e);function t(){
var t=null!==e&&e.apply(this,arguments)||this;t.state={currentOpenSidebar:null,whatsNewSidebarShowTime:0,optedOutWhatsNewPopup:!1,isOffline:!1};t.openFeedback=function(){
t.context.panels&&t.context.panels.open("feedback")};t.closeSidebar=function(){switch(t.state.currentOpenSidebar){case o.AssistMenuSidebars.hotkeys:d.IntentionEvent.CloseHotkeysSidebar.track();break
;case o.AssistMenuSidebars.tips:d.IntentionEvent.CloseTipsSidebar.track();break;case o.AssistMenuSidebars.whatsNew:var e=(new Date).getTime()-t.state.whatsNewSidebarShowTime
;d.IntentionEvent.CloseWhatsNewSidebar.track({viewTime:e})}t.setState({currentOpenSidebar:null})};t.onNavigation=function(){return t.forceUpdate()};t.closeAssistMenu=function(){
document.body.dispatchEvent(new Event("close-menu"))};return t}t.prototype.componentDidMount=function(){this.props.app.on("hp-after-navigate",this.onNavigation)}
;t.prototype.componentWillUnmount=function(){this.props.app.off("hp-after-navigate",this.onNavigation)};t.prototype.shouldShowShortcutButton=function(){return!0}
;t.prototype.shouldShowShortcutSidebar=function(){return this.shouldShowShortcutButton()};t.prototype.isShortcutSidebarOpened=function(){
return this.state.currentOpenSidebar==o.AssistMenuSidebars.hotkeys};t.prototype.renderShortcutsSidebar=function(){var e=this.props.app;return p.createElement(l.HotkeysSidebar,{
padController:e.getCurrentPadController()})};t.prototype.isWhatsNewSidebarOpened=function(){return this.state.currentOpenSidebar==o.AssistMenuSidebars.whatsNew}
;t.prototype.renderWhatsNewSidebar=function(){};t.prototype.renderAssistHelpMenuButton=function(){var e=this.props.app.getCurrentPadController()
;return p.createElement(r.default,n.__assign({},this.props,{collabClient:e&&e.collabClient,productType:this.props.app.getProductType(),localPadId:e&&e.localPadId}))};t.prototype.render=function(){
var e=this.props.showBugButton&&p.createElement(s.default,{openFeedbackFunc:this.openFeedback,isDesktopBeta:this.props.isDesktopBeta,isOffline:this.state.isOffline,app:this.props.app
}),t=this.shouldShowShortcutButton()?p.createElement(c.default,{onClick:this.closeAssistMenu}):null,a=this.props.isDesktopBeta?t:e,n=this.props.isDesktopBeta?e:t;return p.createElement("div",{
className:"hp-editor-assist-button-group"},a,n,this.renderAssistHelpMenuButton(),this.shouldShowShortcutSidebar()&&this.renderShortcutsSidebar())};t.displayName="AssistMenuButton";t.contextTypes={
panels:u.object,stores:u.object};return t=n.__decorate([i.default],t)}(p.PureComponent);t.default=m},461:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.tabsLookup=t.tabsLookupByPath=t.tabsLookupByMetadata=t.retrieveTabFromHash=t.hashTab=t.unifiedHomeTabs=t.desktopCloudDocsTabs=void 0;var n=a(144),r=a(7),o=(0,
a(191).MsgFactory)("home").defineMessages,s=o({recent:{msg:"Recent",description:"Title of the tab on Home that lists docs and folders that have been shared with the user"},starred:{msg:"Starred",
description:"Title of the tab on Home that lists docs and folders starred by the user"}});t.desktopCloudDocsTabs=[{title:s.recent,paths:["/","/home","/home/recents"],
trackContext:n.AppContext.HomePageTabsRecents,metadata:{dataSource:r.ListViewDataSource.All,filter:r.ListViewFilter.recents}},{title:s.starred,paths:["/home/favorites"],
trackContext:n.AppContext.HomePageTabsFavorites,metadata:{dataSource:r.ListViewDataSource.All,filter:r.ListViewFilter.recentFavorites}}];var i=o({recents:{msg:"All",
description:"Title of the tab on Home that lists docs and folders that have been shared with the user"},starred:{msg:"Starred",
description:"Title of the tab on Home that lists docs and folders starred by the user"},docs:{msg:"Docs",description:"Title of the tab on Home that lists recently viewed docs"},folders:{msg:"Folders",
description:"Title of the tab on Home that lists alphabetically all folders"}}),l=o({alphabetical:{msg:"Alphabetical"},recents:{msg:"Viewed recently"},ownedByMe:{msg:"Owned by me"},sharedWithMe:{
msg:"Shared with me"},archived:{msg:"Archived"},deleted:{msg:"Deleted"}});t.unifiedHomeTabs=[{title:i.recents,paths:["/","/home","/home/recents"],trackContext:n.AppContext.HomePageTabsRecents,
metadata:{dataSource:r.ListViewDataSource.All,filter:r.ListViewFilter.recents},subTabs:[{title:l.recents,paths:["/home/recents"],trackContext:n.AppContext.HomePageTabsRecents.Recents,metadata:{
dataSource:r.ListViewDataSource.All,filter:r.ListViewFilter.recents}},{title:l.ownedByMe,paths:["/home/created-by-me"],trackContext:n.AppContext.HomePageTabsRecents.CreatedByMe,metadata:{
dataSource:r.ListViewDataSource.All,filter:r.ListViewFilter.createdByMe}},{title:l.sharedWithMe,paths:["/home/shared-with-me"],trackContext:n.AppContext.HomePageTabsRecents.SharedWithMe,metadata:{
dataSource:r.ListViewDataSource.All,filter:r.ListViewFilter.sharedWithMe}}]},{title:i.starred,paths:["/home/favorites"],trackContext:n.AppContext.HomePageTabsFavorites,metadata:{
dataSource:r.ListViewDataSource.All,filter:r.ListViewFilter.recentFavorites}},{title:i.docs,paths:["/docs","/docs/recents"],trackContext:n.AppContext.HomePageTabsDocsOnly,metadata:{
dataSource:r.ListViewDataSource.Docs,filter:r.ListViewFilter.recents},subTabs:[{title:l.recents,paths:["/docs/recents"],trackContext:n.AppContext.HomePageTabsDocsOnly.Recents,metadata:{
dataSource:r.ListViewDataSource.Docs,filter:r.ListViewFilter.recents}},{title:l.ownedByMe,paths:["/docs/owned-by-me"],trackContext:n.AppContext.HomePageTabsDocsOnly.OwnedByMe,metadata:{
dataSource:r.ListViewDataSource.Docs,filter:r.ListViewFilter.ownedByMe}},{title:l.sharedWithMe,paths:["/docs/shared-with-me"],trackContext:n.AppContext.HomePageTabsDocsOnly.SharedWithMe,metadata:{
dataSource:r.ListViewDataSource.Docs,filter:r.ListViewFilter.sharedWithMe}},{title:l.archived,paths:["/docs/archived"],trackContext:n.AppContext.HomePageTabsDocsOnly.Archived,metadata:{
dataSource:r.ListViewDataSource.Docs,filter:r.ListViewFilter.archived}},{title:l.deleted,paths:["/docs/deleted"],trackContext:n.AppContext.HomePageTabsDocsOnly.Deleted,metadata:{
dataSource:r.ListViewDataSource.Docs,filter:r.ListViewFilter.trashed}}]},{title:i.folders,paths:["/folders","/folders/all"],trackContext:n.AppContext.HomePageTabsFoldersOnly,metadata:{
dataSource:r.ListViewDataSource.Folders,filter:r.ListViewFilter.alphabetical},subTabs:[{title:l.alphabetical,paths:["/folders/all"],trackContext:n.AppContext.HomePageTabsFoldersOnly.All,metadata:{
dataSource:r.ListViewDataSource.Folders,filter:r.ListViewFilter.alphabetical}},{title:l.recents,paths:["/folders/recents"],trackContext:n.AppContext.HomePageTabsFoldersOnly.Recents,metadata:{
dataSource:r.ListViewDataSource.Folders,filter:r.ListViewFilter.recents}},{title:l.ownedByMe,paths:["/folders/owned-by-me"],trackContext:n.AppContext.HomePageTabsFoldersOnly.CreatedByMe,metadata:{
dataSource:r.ListViewDataSource.Folders,filter:r.ListViewFilter.ownedByMe}},{title:l.sharedWithMe,paths:["/folders/shared-with-me"],trackContext:n.AppContext.HomePageTabsFoldersOnly.SharedWithMe,
metadata:{dataSource:r.ListViewDataSource.Folders,filter:r.ListViewFilter.sharedWithMe}},{title:l.archived,paths:["/folders/archived"],trackContext:n.AppContext.HomePageTabsFoldersOnly.Archived,
metadata:{dataSource:r.ListViewDataSource.Folders,filter:r.ListViewFilter.archived}}]}];function d(e){var t=r.ListViewFilter[e.filter],a=r.ListViewDataSource[e.dataSource]
;return"home-tab-".concat(t,"-").concat(a)}t.hashTab=d;t.retrieveTabFromHash=function(e,t){for(var a=0,n=e;a<n.length;a++){var r=n[a];if(r.subTabs){var o=c(r.subTabs,(function(e){
return d(e.metadata)===t}));if(o)return{tab:r,subTab:o}}else if(d(r.metadata)===t)return{tab:r}}return{}};t.tabsLookupByMetadata=function(e,t){return c(e,(function(e){
return e.metadata.dataSource===t.dataSource&&e.metadata.filter===t.filter}))};t.tabsLookupByPath=function(e,t){return c(e,(function(e){return-1!==e.paths.indexOf(t)}))};function c(e,t){
for(var a=0,n=e;a<n.length;a++){var r=n[a];if(r.subTabs){var o=c(r.subTabs,t);if(o)return o}if(t(r))return r}return null}t.tabsLookup=c},608:function(e,t){Object.defineProperty(t,"__esModule",{
value:!0});t.AssistMenuSidebars=void 0;!function(e){e[e.tips=1]="tips";e[e.hotkeys=2]="hotkeys";e[e.whatsNew=3]="whatsNew"}(t.AssistMenuSidebars||(t.AssistMenuSidebars={}))},856:function(e,t,a){
Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(4),o=a(89),s=a(47),i=a(8),l=a(2),d=a(857),c=a(18),u=a(11),p=a(1531),m=a(1532),h=a(1542),f=a(274),g=a(7),v=a(14),y=a(315),b=a(157),E=a(45),C=a(23),M=a(0),S=a(36),k=a(24),_=a(275),w=a(161),D=a(1576),T=a(17),P=(0,
v.MsgFactory)("home"),N=P.IntlMessageFormat,F=P.F,I=(0,P.defineMessages)({somedocsthatweresharedwithyoumaybemissingfromthislist:{
msg:"Some docs that were shared with you may be missing from this list."},somedeleteddocsmaybemissingfromthislist:{msg:"Some deleted docs may be missing from this list."},paperHome:{msg:"Paper Home"},
home:{msg:"Home"}}),A=((0,l.defineMessages)({somedocsthatweresharedwithyoumaybemissingfromthislist:{id:"M7cCK+",defaultMessage:"Some docs that were shared with you may be missing from this list."},
somedeleteddocsmaybemissingfromthislist:{id:"gh1xlN",defaultMessage:"Some deleted docs may be missing from this list."},paperHome:{id:"ovchUj",defaultMessage:"Paper Home"},home:{id:"cPi7mo",
defaultMessage:"Home"}}),function(e){n.__extends(t,e);function t(t,a){var n=e.call(this,t,a)||this;n.handleToggle=function(e,t,a){(0,o.cloudDocsUxEnabled)()&&"folder"===e.type||"pad"===a.type&&(0,
o.isUserInPurgatory)(a.pad.isCloudDoc)||n.setState({multiselectState:n.state.multiselectState.handleClick(e,t,(function(){n.setState({multiselectState:n.state.multiselectState.clone()})}))})}
;n.handleCloudDocPresenceChange=function(e,t){t.filter===g.ListViewFilter.recents&&n.state.isCloudDocPresentInRecents!==e&&n.setState({isCloudDocPresentInRecents:e})};n.handleTabChange=function(e){
n.setState({currentTab:e,multiselectState:new y.MultiselectState})};n.handleMeetingNoteAdDismiss=function(){n.setState({dismissedMeetingNotePromotion:!0})};n.handleMultiselectStateChange=function(e){
n.setState({multiselectState:e},(function(){n.state.multiselectState.checkPermissionsForAllCheckedItems((function(){n.setState({multiselectState:n.state.multiselectState.clone()})}))}))}
;n.handleMultiselectActionComplete=function(){n.handleMultiselectStateChange(new y.MultiselectState);n.tabbedDocAndFolderList.reload()};n.onboardingStore=new b.default;n.state={currentTab:t.params,
multiselectState:new y.MultiselectState,dismissedMeetingNotePromotion:!1,isCloudDocPresentInRecents:!1};return n}t.prototype.componentDidMount=function(){var e=this
;this.onboardingStore.checkCompleted("meeting-notes-promotion",(function(t){e.setState({dismissedMeetingNotePromotion:t})}));this.updatePageTitle();this.maybeShowFolderEmbedInfoModal()
;this.maybeRedirectToSettings()};t.prototype.componentDidUpdate=function(e){
e.params.filter===this.props.params.filter&&e.params.dataSource===this.props.params.dataSource||this.handleTabChange(this.props.params)};t.prototype.enter=function(){
var e=this.props.app.getLeftNavSidebar();e&&e.autoOpen()};t.prototype.reload=function(){this.tabbedDocAndFolderList.reload();this.upcomingMeetings&&this.upcomingMeetings.reload()
;document.dispatchEvent(new Event("reload-tasklet"))};t.prototype.updatePageTitle=function(){this.props.app.setPageTitle(new N(I.home,i.default.userLocale).format())}
;t.prototype.maybeRedirectToSettings=function(){if("#settings"==s.default.hash){(0,r.trackEng)("redirect-to-dropbox-settings",{source:"home-page"});_.redirectToSettings()}}
;t.prototype.maybeShowFolderEmbedInfoModal=function(){if("1"==T.default.consumeQueryParam("folder_embed_info")){var e=document.querySelector("#hp-popup-container");k.unmountComponentAtNode(e);(0,
c.empty)(e);S.reactDomRender(M.createElement(w.SilentlyUnmountErrorBoundary,null,M.createElement(p.default,null)),e)}};t.prototype.renderDesktopCloudDocsPurgatorySnackbar=function(){
if(this.props.isDesktop&&this.state.isCloudDocPresentInRecents&&(0,
o.cloudDocsUxEnabled)()&&(this.state.currentTab.filter===g.ListViewFilter.sharedWithMe||this.state.currentTab.filter===g.ListViewFilter.trashed)){var e
;e=this.state.currentTab.filter===g.ListViewFilter.sharedWithMe?M.createElement(F,n.__assign({},I.somedocsthatweresharedwithyoumaybemissingfromthislist)):M.createElement(F,n.__assign({},I.somedeleteddocsmaybemissingfromthislist))
;return M.createElement(d.default,{title:e})}};t.prototype.renderDefaultPageHeader=function(e){return M.createElement(f.default,{title:M.createElement(F,n.__assign({},I.paperHome)),app:this.props.app,
hasTabs:!0},e)};t.prototype.render=function(){var e=this,t=M.createElement(m.default,{app:this.props.app,multiselectState:this.state.multiselectState,
onMultiselectStateChanged:this.handleMultiselectStateChange,onMultiselectActionComplete:this.handleMultiselectActionComplete,currentTab:this.state.currentTab,isDesktop:this.props.isDesktop,
isOffline:this.props.isOffline}),a=this.props.renderPageHeader?this.props.renderPageHeader(t):this.renderDefaultPageHeader(t),n=M.createElement("div",{id:"pad-list-page-banner"
}),o=this.props.isDesktop&&this.props.isOffline?null:M.createElement(r.TrackContext,{trackContext:r.AppContext.MeetingNotes.Home},M.createElement(h.default,{ref:function(t){return e.upcomingMeetings=t
},stores:this.context.stores,onMeetingNoteAdDismiss:this.handleMeetingNoteAdDismiss,dismissedMeetingNotePromotion:this.state.dismissedMeetingNotePromotion
})),s=this.props.tabs,i=M.createElement(D.TabbedDocAndFolderList,{ref:function(t){return e.tabbedDocAndFolderList=t},app:this.props.app,tabs:s,multiselectState:this.state.multiselectState,
initialTab:this.props.params,onCloudDocPresenceChange:this.handleCloudDocPresenceChange,onTabChange:this.handleTabChange,onToggle:this.handleToggle,scrollLockTab:{scrollSelector:"#hp-page-home",
offsetHeightSelector:".hp-list-page-header"},isDesktop:this.props.isDesktop,isWebHome:!this.props.isDesktop
}),l=this.tabbedDocAndFolderList?this.tabbedDocAndFolderList.getCurrentTrackContext():r.AppContext.HomePage;return M.createElement(r.TrackContext,{trackContext:l},M.createElement(E.default,{
className:"hp-non-pad-page hp-pad-list-page",name:this.props.name,isSelected:this.props.isSelected},a,M.createElement("div",{className:"hp-page-inner"
},n,M.createElement("div",null,o,i))),this.renderDesktopCloudDocsPurgatorySnackbar())};t.displayName="HomePage";t.contextTypes={stores:C.object.isRequired};return t=n.__decorate([u.default],t)
}(M.PureComponent));t.default=A},857:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(2),o=a(10),s=a(0),i=a(88),l=a(13),d=(0,a(5).PaperIntlFactory)().F,c=(0,
r.defineMessages)({learnmore:{id:"gk12sS",defaultMessage:"Learn more"}}),u=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){
var e=s.createElement(o.default,{href:"https://help.dropbox.com/files-folders/paper/different-version-new"},s.createElement(d,n.__assign({},c.learnmore)),s.createElement(l.default,{name:"open-in-app"
}));return s.createElement("div",{className:"desktop-cloud-docs-snackbar"},s.createElement(i.Snackbar,{actionButtonText:e,title:this.props.title}))};t.displayName="DesktopCloudDocsSnackbar";return t
}(s.PureComponent);t.default=u},858:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(21),o=a(15),s=a(3),i=a(428),l=a(299),d=a(2),c=a(11),u=a(599),p=a(836),m=a(10),h=a(68),f=a(69),g=a(147),v=a(859),y=a(0),b=a(13),E=a(41),C=a(16),M=(0,
a(5).PaperIntlFactory)(),S=M.F,k=M._f,_=(0,d.defineMessages)({chooseAnotherDate:{id:"PFk4QH",defaultMessage:"Choose another date"},createmeetingnotes:{id:"gSrDuk",defaultMessage:"Create meeting notes"
},selecteddatedatemedium:{id:"WjK+4J",defaultMessage:"{selectedDate, date, medium}"},today:{id:"JDRaFD",defaultMessage:"Today"},tomorrow:{id:"GUi/Lf",defaultMessage:"Tomorrow"},noevents:{id:"4zm6c3",
defaultMessage:"No events"}}),w=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.handleDayClick=function(e,a){t.props.handleDayClick(a)};return t}
t.prototype.renderCreateMeetingNoteAction=function(){return y.createElement(r.default,{"track-title":"New meeting note template",onClick:this.props.createMeetingNoteAuthHandler(null),
withIconLeft:y.createElement(C.UIIcon,{src:o.CalendarLine}),variant:"opacity",disabled:this.props.isLoading},y.createElement(S,n.__assign({},_.createmeetingnotes)))}
;t.prototype.renderDailyEventsWithLinkedDocsHeader=function(){var e,t,a=this.props.selectedDate,r=g.getBeginningOfDay(new Date),o=g.getBeginningOfDay(new Date(r.getTime()+E.Time.DAY))
;t="customDate"==(e=a.getTime()==r.getTime()?"today":a.getTime()==o.getTime()?"tomorrow":"customDate")?y.createElement("span",{className:"meeting-note-panel-header-date-string"
},y.createElement(S,n.__assign({values:{selectedDate:a}},_.selecteddatedatemedium)),y.createElement(m.default,{linky:!0,onClick:this.props.handleTodayClick,
className:"meeting-note-panel-header-date-string-close-button","track-title":"Remove date string in meeting notes header"},y.createElement(b.default,{name:"close"
}))):y.createElement("span",null,y.createElement(m.default,{linky:!0,onClick:this.props.handleTodayClick,className:s("meeting-note-panel-header-button",{
"meeting-note-panel-header-button__active":"today"==e}),"track-title":"Select meeting notes date","track-index":e},y.createElement(S,n.__assign({},_.today))),y.createElement(m.default,{linky:!0,
onClick:this.props.handleTomorrowClick,className:s("meeting-note-panel-header-button",{"meeting-note-panel-header-button__active":"tomorrow"==e}),"track-title":"Select meeting notes date",
"track-index":e},y.createElement(S,n.__assign({},_.tomorrow))));var d=k(_.chooseAnotherDate);return y.createElement("div",{className:"meeting-note-panel-header"},t,y.createElement(f.default,{
className:"meeting-note-panel-header-calendar-picker-button",ref:this.props.registerDayPickerMenu},y.createElement(m.default,{linky:!0,hasPopup:!0,
className:"meeting-note-panel-header-calendar-picker-button-wrapper",tooltip:y.createElement(S,n.__assign({},_.chooseAnotherDate)),"aria-label":d,"track-title":"Select meeting notes date",
"track-index":e},y.createElement(b.default,{name:"meeting-note-calendar"})),y.createElement(h.default,{className:"notranslate",noPadding:!0},y.createElement(i,n.__assign({enableOutsideDays:!0,
onDayClick:this.handleDayClick,selectedDays:this.props.isDaySelected},l.default)))))};t.prototype.render=function(){var e=this,t=!!this.props.padId
;if(!this.props.isAuthorized)return y.createElement("div",{className:"meeting-note-panel"},this.renderCreateMeetingNoteAction());var a,r=(this.props.availableEvents||[]).map((function(a,n){if(t){
var r=e.props.isLoading;e.props.disabledEventIds&&(r=r||-1!=e.props.disabledEventIds.indexOf(g.getEventId(a)));return y.createElement(u.EventMeetingNotePanelEntry,{disabled:r,event:a,
includeSubtitleDate:e.props.includeSubtitleDate,includeSubtitleGuestCount:e.props.includeSubtitleGuestCount,includeSubtitleTime:e.props.includeSubtitleTime,key:n,
onClick:e.props.createMeetingNoteAuthHandler(a)})}return y.createElement(p.EventMeetingNotePanelEntryWithAttachments,{includeSubtitleGuestCount:!0,
onCreateMeetingNoteClick:e.props.createMeetingNoteAuthHandler(a,!0),event:a,key:n})}));a=0==r.length?y.createElement("div",{className:"meeting-note-panel-empty"
},y.createElement(S,n.__assign({},_.noevents))):y.createElement("div",{className:"meeting-note-panel-entries",ref:this.props.registerEventListElement},this.props.isLoading?y.createElement("div",{
className:"awesome-spinner"}):r);var o=!t&&this.props.includeUpcomingEvents?this.renderDailyEventsWithLinkedDocsHeader():null,i=null
;this.props.includeUpcomingEvents&&(i=this.props.isLoading?y.createElement("div",{className:"awesome-spinner"}):a);return y.createElement("div",{
className:s("meeting-note-panel","meeting-note-panel-with-attachments")},this.renderCreateMeetingNoteAction(),o,i)};t.displayName="MeetingNotePanel2";return t=n.__decorate([c.default],t)}(y.Component)
;t.default=(0,v.MeetingNoteBaseDecorator)(w)},859:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.MeetingNoteBaseDecorator=void 0
;var n=a(1),r=a(142),o=a(11),s=a(860),i=a(147),l=a(0),d=a(41),c=a(4);t.MeetingNoteBaseDecorator=function(e){var t=function(t){n.__extends(a,t);function a(){
var e=null!==t&&t.apply(this,arguments)||this;e.state={events:[],requestIsLoading:!1,authChecked:!1,isAuthorized:!1,storeIsLoading:!1,selectedDate:new Date};e.authorizeCalendarCallback=function(){
e.setState({isAuthorized:!0},e.fetchEvents)};e.createMeetingNoteAuthHandler=function(t,a){return function(n){n.preventDefault()
;if(!(a=e.props.preventRedirectToExistingMeetingNote||a)&&t&&t.primary_paper_doc_id)return i.redirectToPrimaryDocId(t,App);e.props.padId?i.createMeetingNoteAssociation({event:t,padId:e.props.padId
},(function(){e.props.onCalendarEventCreate&&e.props.onCalendarEventCreate(t)})):i.createMeetingNote({context:e.getTrackContext(),event:t,app:App,onFetchRequestStarted:function(){return e.setState({
requestIsLoading:!0})},onFetchRequestCompleted:function(){return e.setState({requestIsLoading:!1})}})}};e.fetchEvents=function(){var t=e.getFilterParams(),a=!e.calendarEvents.hasFetched(t)
;e.setState({storeIsLoading:a},(function(){e.calendarEvents.filter(t,!0)}))};e.handleDayClick=function(t){t&&e.setSelectedDate(i.getBeginningOfDay(t));e.dayPickerMenu.close()}
;e.handleTodayClick=function(){var t=i.getBeginningOfDay(new Date);return e.setSelectedDate(t)};e.handleTomorrowClick=function(){var t=i.getBeginningOfDay(new Date((new Date).getTime()+d.Time.DAY))
;return e.setSelectedDate(t)};e.isDaySelected=function(t){return r.toDateString(e.state.selectedDate)==r.toDateString(t)};e.registerEventListElement=function(t){e.eventListElement=t}
;e.registerDayPickerMenu=function(t){if(t){e.dayPickerMenu&&e.dayPickerMenu.close();e.dayPickerMenu=t}};e.setSelectedDate=function(t){e.setState({selectedDate:t},e.fetchEvents)}
;e.updateEventsFromStore=function(){e.setState({events:e.calendarEvents.getEvents(),authChecked:e.props.stores.calendarEvents.authChecked,isAuthorized:e.props.stores.calendarEvents.isAuthorized,
storeIsLoading:!e.calendarEvents.hasFetched(e.getFilterParams())},(function(){e.props.reportImpressionMetrics&&e.props.reportImpressionMetrics({numMeetings:e.state.events.length,
meetingsAuthorized:e.state.isAuthorized})}))};return e}a.prototype.componentDidMount=function(){this.calendarEvents=new s.default(this.props.stores.calendarEvents)
;this.calendarEvents.on("change",this.updateEventsFromStore);this.fetchEvents()};a.prototype.componentDidUpdate=function(e,t){t.selectedDate!=this.state.selectedDate&&this.resetEventListScroll()}
;a.prototype.componentWillUnmount=function(){this.calendarEvents.off("change",this.updateEventsFromStore)};a.prototype.getTrackContext=function(){};a.prototype.getFilterParams=function(){return{
context:this.getTrackContext(),timeMin:this.state.selectedDate,timeMax:i.getEndOfDay(this.state.selectedDate),num:25}};a.prototype.reload=function(){this.fetchEvents()}
;a.prototype.resetEventListScroll=function(){this.eventListElement&&(this.eventListElement.scrollTop=0)};a.prototype.render=function(){return l.createElement(e,n.__assign({},this.props,{
authChecked:this.state.authChecked,availableEvents:this.state.events,isAuthorized:this.state.isAuthorized,isLoading:this.state.requestIsLoading||this.state.storeIsLoading,
selectedDate:this.state.selectedDate,authorizeCalendarCallback:this.authorizeCalendarCallback,createMeetingNoteAuthHandler:this.createMeetingNoteAuthHandler,handleDayClick:this.handleDayClick,
handleTodayClick:this.handleTodayClick,handleTomorrowClick:this.handleTomorrowClick,isDaySelected:this.isDaySelected,registerDayPickerMenu:this.registerDayPickerMenu,
registerEventListElement:this.registerEventListElement,setSelectedDate:this.setSelectedDate}))};a.displayName="MeetingNoteBase";return a=n.__decorate([o.default,c.trackContextDecorator],a)
}(l.Component);return t}},861:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;t.batchRestore=t.batchPermanentlyDelete=t.batchUntrash=t.batchTrash=t.batchUnarchive=t.batchArchive=t.batchDelete=t.batchUnfile=t.batchMove=void 0
;var n=a(1),r=a(612),o=a(12),s=a(14),i=a(0),l=a(4),d=(0,s.MsgFactory)("ui"),c=d.F,u=(0,d.defineMessages)({unabletomovedocuments:{msg:"Unable to move documents"},unabletounfiledocuments:{
msg:"Unable to unfile documents"},unabletoarchivedocuments:{msg:"Unable to archive documents"},unabletorestoredocuments:{msg:"Unable to restore documents"},unabletodeletedocuments:{
msg:"Unable to delete documents"},unabletopermanentlydeletedocuments:{msg:"Unable to permanently delete documents"}});t.batchMove=function(e,t,a,n){var o=function(){p(e,t,!0,a,n)},s=function(){(0,
l.trackUi)("Multiselect move confirmation canceled");n()};p(e,t,!1,(function(n){n.needsConfirmation?function(e,t,a,n){var o=e.toJson(),s=o.filter((function(e){return"doc"==e.type
})).length,i=o.filter((function(e){return"folder"==e.type})).length;r.default.show(t,a,n,s,i,0)}(e,t,o,s):a(n)}),n)};function p(e,t,a,r,s){o.post({url:"/batch/move",data:{
entities:JSON.stringify(e.toJson()),destinationFolderId:t.folder.encryptedId,confirmed:a},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),analyticsTag:"batch-move",
errorModalMessage:i.createElement(c,n.__assign({},u.unabletomovedocuments)),successHandler:r,errorModalCallback:s})}t.batchUnfile=function(e,t,a,r){o.post({url:"/batch/unfile",data:{
entities:JSON.stringify(e.toJson()),folderId:t},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),analyticsTag:"batch-unfile",
errorModalMessage:i.createElement(c,n.__assign({},u.unabletounfiledocuments)),successHandler:a,errorModalCallback:r})};t.batchDelete=function(e,t,a){o.post({url:"/batch/delete",data:{
entities:JSON.stringify(e.toJson())},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),analyticsTag:"batch-delete",errorModalMessage:i.createElement(c,n.__assign({},u.unabletoarchivedocuments)),
successHandler:t,errorModalCallback:a})};t.batchArchive=function(e,t,a){o.post({url:"/batch/archive",data:{entities:JSON.stringify(e.toJson())},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),
analyticsTag:"batch-archive",errorModalMessage:i.createElement(c,n.__assign({},u.unabletoarchivedocuments)),successHandler:t,errorModalCallback:a})};t.batchUnarchive=function(e,t,a){o.post({
url:"/batch/unarchive",data:{entities:JSON.stringify(e.toJson())},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),analyticsTag:"batch-restore",
errorModalMessage:i.createElement(c,n.__assign({},u.unabletorestoredocuments)),successHandler:t,errorModalCallback:a})};t.batchTrash=function(e,t,a){o.post({url:"/batch/trash",data:{
entities:JSON.stringify(e.toJson())},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),analyticsTag:"batch-trash",errorModalMessage:i.createElement(c,n.__assign({},u.unabletodeletedocuments)),
successHandler:t,errorModalCallback:a})};t.batchUntrash=function(e,t,a){o.post({url:"/batch/untrash",data:{entities:JSON.stringify(e.toJson())},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),
analyticsTag:"batch-untrash",errorModalMessage:i.createElement(c,n.__assign({},u.unabletorestoredocuments)),successHandler:t,errorModalCallback:a})};t.batchPermanentlyDelete=function(e,t,a){o.post({
url:"/batch/permanently-delete",data:{entities:JSON.stringify(e.toJson())},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),analyticsTag:"batch-permanently-delete",
errorModalMessage:i.createElement(c,n.__assign({},u.unabletopermanentlydeletedocuments)),successHandler:t,errorModalCallback:a})};t.batchRestore=function(e,t,a){o.post({url:"/batch/restore",data:{
entities:JSON.stringify(e.toJson())},hpAppLevel:!0,shardingKey:o.getStatelessShardingKey(),analyticsTag:"batch-restore",errorModalMessage:i.createElement(c,n.__assign({},u.unabletorestoredocuments)),
successHandler:t,errorModalCallback:a})}},866:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(10),o=a(3),s=a(14),i=a(0),l=a(13),d=(0,
s.MsgFactory)("buttons"),c=d.F,u=(0,d.defineMessages)({showfewer:{msg:"Show fewer"},showmore:{msg:"Show more"},showcountmore:{msg:"Show {count} more"}}),p=function(e){n.__extends(t,e);function t(){
return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){for(var e=[],t=1;t<=4;t++){var a=this.props.count-t*this.props.numRows;if(a>0){var s=void 0
;s=this.props.isExpanded?i.createElement(c,n.__assign({},u.showfewer)):!1===this.props.includeCount?i.createElement(c,n.__assign({},u.showmore)):i.createElement(c,n.__assign({values:{count:a}
},u.showcountmore));e.push(i.createElement(r.default,{key:t,onClick:this.props.onClick,className:o("hp-view-more hp-view-more-"+t,{"hp-view-more--with-chevron":this.props.includeChevron,
"hp-view-more--expanded":this.props.isExpanded})},this.props.includeChevron?i.createElement(l.default,{name:"chevron"}):null,s))}}return i.createElement("div",{className:"hp-view-more-container"},e)}
;t.displayName="ViewMoreButton";return t}(i.PureComponent);t.default=p},867:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.AccountSwitcher=void 0
;var n=a(1),r=a(25),o=a(2),s=a(7),i=a(378),l=a(12),d=a(10),c=a(68),u=a(69),p=a(103),m=a(170),h=a(4),f=a(29),g=a(23),v=a(0),y=a(615),b=a(275),E=a(88),C=a(63),M=a(102),S=a(123),k=(0,
a(5).PaperIntlFactory)(),_=k.F,w=k._f,D=(0,o.defineMessages)({account:{id:"8ckyid",defaultMessage:"Dropbox account: {userName}"},settings:{id:"x/c7tU",defaultMessage:"Settings"},teamsettings:{
id:"rKn4V3",defaultMessage:"Team settings"},hackpadimport:{id:"wfPYlN",defaultMessage:"Hackpad import"},personal:{id:"QPBzI3",defaultMessage:"Personal"},failedtoschedulemigration:{id:"OA4KUC",
defaultMessage:"Failed to schedule migration."},migrate:{id:"kp7NnW",defaultMessage:"Migrate"},migrateteam:{id:"CkDd0X",defaultMessage:"Migrate team"},signout:{id:"3BZJoW",defaultMessage:"Sign out"},
work:{id:"AAQLq4",defaultMessage:"Work"}}),T=(0,r.createReactClass)({displayName:"AccountMenu",contextTypes:{currentUser:g.object.isRequired,stores:g.object.isRequired},
onTeamManagedByDropboxClick:function(){document.body.dispatchEvent(new Event("close-menu"));(0,
f.locationReplace)("account_menu-onTeamManagedByDropboxClick","https://www.dropbox.com/team/admin/settings/paper")},onSignOutClick:function(e){e.preventDefault();h.IntentionEvent.SignOut.track({
type:"menu button"});(0,f.locationAssign)("account_menu-onSignOutClick","/ep/account/sign-out")},renderSettingsButton:function(){return v.createElement(p.HpMenuItem,{
className:"hp-button-account-settings-wrapper"},v.createElement(d.default,{href:b.getSettingsUrl()},v.createElement(_,n.__assign({},D.settings))))},renderExportMultiButton:function(){
return v.createElement(p.HpMenuItem,null,v.createElement(i.ExportMultiButton,null))},renderTeamSettings:function(){var e=this.context.currentUser
;return e.isPersonalDomainUser||!e.isDomainAdmin?null:v.createElement(p.HpMenuItem,null,v.createElement(d.default,{onClick:this.onTeamManagedByDropboxClick,
href:e.teamType==s.DropboxTeamType.FasTrak?"https://www.dropbox.com/team":"https://www.dropbox.com/team/admin/settings/paper"},v.createElement(_,n.__assign({},D.teamsettings))))},
renderHackpadImport:function(){var e=this.context.currentUser;return e.isDomainAdmin&&e.hackpadWorkspace?v.createElement(p.HpMenuItem,null,v.createElement(d.default,{href:"/import-hackpad"
},v.createElement(_,n.__assign({},D.hackpadimport)))):null},renderAccounts:function(){
var e=[],t=v.createElement(_,n.__assign({},D.personal)),a=this.context.currentUser,r=a.linkedAccount,o=a.teamType==s.DropboxTeamType.Unknown?t:v.createElement("span",{className:"notranslate"
},a.teamName);e.push(v.createElement(P,{key:1,companyName:o,email:a.userEmail}));if(r){var i=v.createElement(N,{key:2,role:r.role,companyName:"work"==r.role?v.createElement("span",{
className:"notranslate"},r.teamName):t,email:r.email});"work"==r.role?e.push(i):e.unshift(i)}return e},renderCloudDocsMigrateButton:function(){
if(!C.isOnButDoNotLog("paper_cloud_docs_migration"))return null;var e=this.context.currentUser;if(!e.isPersonalDomainUser&&!e.isDomainAdmin)return null
;return v.createElement(p.HpMenuItem,null,v.createElement(d.default,{onClick:function(){l.post({url:e.isPersonalDomainUser?"/cloud-docs/migrate-user":"/cloud-docs/migrate-team",
analyticsTag:e.isPersonalDomainUser?"cloud-docs-migrate-user":"cloud-docs-migrate-team",shardingKey:l.getStatelessShardingKey(),successHandler:function(e){(0,
y.renderSnackbarForMigration)(e.success,e.link);return!0},errorHandler:function(){E.Snackbar.fail(v.createElement(_,n.__assign({},D.failedtoschedulemigration)));return!0}})},className:"hp-menu-danger"
},e.isPersonalDomainUser?v.createElement(_,n.__assign({},D.migrate)):v.createElement(_,n.__assign({},D.migrateteam))))},render:function(){var e=this.context.currentUser
;if(e.isCurrentUserBeingAssumed)return null;var t=w(D.account,{userName:e.userName});return v.createElement(u.default,{className:"hp-sidebar-account-dropdown hp-account-with-settings",ref:"menu",
"track-title":"Account menu"},v.createElement(d.default,{className:"hp-sidebar-user",hasPopup:!0,"disable-auto-track":!0,"aria-label":t},v.createElement(M.default,{user:e,disableTooltip:!0
})),v.createElement(c.default,null,v.createElement("ul",null,v.createElement(p.HpMenuHeading,{className:"notranslate"
},e.userName),this.renderAccounts(),v.createElement(m.HpMenuSeparator,null),this.renderSettingsButton(),this.renderExportMultiButton(),this.renderTeamSettings(),this.renderHackpadImport(),this.renderCloudDocsMigrateButton(),v.createElement(m.HpMenuSeparator,null),v.createElement(p.HpMenuItem,null,v.createElement(d.default,{
onClick:this.onSignOutClick},v.createElement(_,n.__assign({},D.signout)))))))}});t.default=T;var P=function(e){var t=e.companyName,a=e.email;return v.createElement(p.HpMenuItem,{
className:"hp-account-switcher hp-account-switcher-current"},v.createElement("div",{className:"hp-account-switcher-title"},t),v.createElement("div",{className:"hp-account-switcher-email notranslate"
},a))};P.displayName="AccountSwitcherCurrent";var N=function(e){var t=e.role,a=e.companyName,n=e.email;return v.createElement(p.HpMenuItem,{className:"hp-account-switcher hp-account-switcher-switch"
},v.createElement("form",{method:"POST",action:"/ep/account/session-switch"},v.createElement(S.default,null),v.createElement("input",{type:"hidden",name:"role",value:t}),v.createElement(d.default,{
type:"submit"},v.createElement("div",{className:"hp-account-switcher-title"},a),v.createElement("div",{className:"hp-account-switcher-email notranslate"},n))))};N.displayName="AccountSwitcherSwitch"
;var F=function(e){n.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.context.currentUser
;if(!e||!e.linkedAccount||e.isCurrentUserBeingAssumed)return null;var t=e.linkedAccount.role,a=v.createElement(_,n.__assign({},D.personal)),r=v.createElement(_,n.__assign({},D.work))
;return v.createElement("form",{method:"POST",action:"/ep/account/session-switch"},v.createElement(S.default,null),v.createElement("input",{type:"hidden",name:"role",value:t}),v.createElement("div",{
className:"hp-sidebar-account-switcher"},"personal"==t?v.createElement(d.default,{className:"hp-account-switcher-button",type:"submit"},a):v.createElement("span",{className:"current-role"
},a),"work"==t?v.createElement(d.default,{className:"hp-account-switcher-button",type:"submit"},r):v.createElement("span",{className:"current-role"},r)))};t.contextTypes={
currentUser:g.object.isRequired};t.displayName="AccountSwitcher";return t}(v.Component);t.AccountSwitcher=F},879:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0})
;var n=a(1),r=a(6),o=a(2),s=a(383),i=a(10),l=a(4),d=a(14),c=a(0),u=a(13),p=(0,d.MsgFactory)("padlist"),m=p.F,h=(0,p.defineMessages)({showmore:{msg:"Show more"}}),f=((0,o.defineMessages)({showmore:{
id:"JZEdSO",defaultMessage:"Show more"}}),100),g=function(e){n.__extends(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.state={pageNumber:1};t.changePageNumber=function(e){
l.IntentionEvent.ShowMoreListResults.track({totalNumResults:e*f,context:t.props.trackListView});t.setState({pageNumber:e})};return t}t.prototype.render=function(){var e=r.clone(this.props.data)
;e.entries=this.props.data.entries.slice(0,this.state.pageNumber*f);return c.createElement("div",{className:"hp-paged-doc-and-folder-list-container"
},c.createElement(s.default,n.__assign({},this.props,{data:e})),this.props.data.entries.length>f?c.createElement(v,{entries:this.props.data.entries,pageNumber:this.state.pageNumber,
changePageNumber:this.changePageNumber}):null)};t.displayName="PagedDocAndFolderList";return t}(c.Component);t.default=g;var v=function(e){var t=e.entries,a=e.pageNumber,r=e.changePageNumber
;return a*f>=t.length?null:c.createElement(i.default,{className:"hp-list-show-more",onClick:function(){return r(a+1)}},c.createElement(u.default,{name:"caret"
}),c.createElement(m,n.__assign({},h.showmore)))}},880:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),r=a(0),o=function(e){var t=e.trackTitle,a=e.onClick,o=e.children
;return r.createElement("div",{className:"hp-list-item-inline-secondary-action-wrapper"},r.createElement(n.default,{className:"hp-list-item-inline-secondary-action","track-title":t,onClick:a,
secondary:!0},o))};o.displayName="InlineSecondaryActionButton";t.default=o},966:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});t.getCreateActionsToShow=t.FolderPageAction=void 0
;var n,r=a(1),o=a(6),s=a(374),i=a(90),l=a(89),d=a(479),c=a(47),u=a(2),p=a(1894),m=a(7),h=a(11),f=a(12),g=a(76),v=a(1895),y=a(1896),b=a(1897),E=a(854),C=a(828),M=a(1898),S=a(272),k=a(1899),_=a(1900),w=a(1904),D=a(10),T=a(68),P=a(69),N=a(103),F=a(170),I=a(1905),A=a(377),x=a(315),L=a(45),O=a(32),B=a(344),H=a(76),U=a(1906),R=a(23),j=a(0),W=a(615),V=a(1908),q=a(63),K=a(369),Y=a(48),J=a(4),G=a(17),z=a(135),Q=(0,
a(5).PaperIntlFactory)(),X=Q.F,Z=Q._f,$=(0,u.defineMessages)({permanentlyDelete:{id:"LuofqH",defaultMessage:"Permanently delete"},folderMigrateTitle:{id:"wQixxr",defaultMessage:"Migrate this folder?"
},folderMigrateBody:{id:"yyGrS8",defaultMessage:"{name} and all its content will be migrated to Dropbox. This can't be undone."},folderMigrateButton:{id:"kp7NnW",defaultMessage:"Migrate"},
folderMigrateError:{id:"AWnEXK",defaultMessage:"Unable to migrate folder."},unabletoloadfolderFavoritesUpdate:{id:"hnS2QK",defaultMessage:"Unable to load folder Favorites Update."},
unabletoloadfolder:{id:"5JhKpN",defaultMessage:"Unable to load folder."},unabletocreateasampledoc:{id:"C2dcXQ",defaultMessage:"Unable to create a sample doc."},youveunfollowedthisfolder:{id:"ch8u/U",
defaultMessage:"You've unfollowed this folder."},adddocstofolder:{id:"jxRHRz",defaultMessage:"Add docs to folder"},members:{id:"HLRJwR",defaultMessage:"Members"},more:{id:"S6stj+",
defaultMessage:"More"},createnewdoc:{id:"aUYGpi",defaultMessage:"Create new doc"},createwithtemplates:{id:"QoZ4+r",defaultMessage:"Create with templates"},newfolder:{id:"pxGZm3",
defaultMessage:"New folder"},adddocs:{id:"CZgt+B",defaultMessage:"Add docs"},move:{id:"ds25UH",defaultMessage:"Move"},rename:{id:"0/TLiY",defaultMessage:"Rename"},archive:{id:"JiHG/V",
defaultMessage:"Archive"},migrate:{id:"kp7NnW",defaultMessage:"Migrate"},unabletorestorefolder:{id:"it5DaW",defaultMessage:"Unable to restore folder."},requestsent:{id:"q5XxwP",
defaultMessage:"Request sent."},unabletorequestaccess:{id:"PrvI91",defaultMessage:"Unable to request access."},areyousureyouwanttopermanentlydeletethisfolderYoucantundothisaction:{id:"DdpWC8",
defaultMessage:"Are you sure you want to permanently delete this folder? You can’t undo this action!"},confirmfolderdelete:{id:"vhCB1g",defaultMessage:"Confirm folder delete"}});!function(e){
e.Share="Share";e.CreateNewDoc="CreateNewDoc";e.CreateWithTemplate="CreateWithTemplate";e.NewFolder="NewFolder";e.AddDocs="AddDocs";e.Favorite="Favorite";e.Follow="Follow";e.Move="Move"
;e.Rename="Rename";e.Archive="Archive";e.Migrate="Migrate"}(n=t.FolderPageAction||(t.FolderPageAction={}));function ee(e,t){
return!(!l.alwaysCreateCloudDocs()||q.isOnButDoNotLog("paper_cloud_docs_pifs_user_create_legacy_doc"))||e&&e.folder.encryptedDomainId!=t.encryptedTeamId&&t.docSharePolicy==B.PaperDocSharePolicy.OnlyTeam
}function te(e,t){return ee(e,t)?[n.NewFolder]:[n.CreateNewDoc,n.CreateWithTemplate,n.NewFolder,n.AddDocs]}t.getCreateActionsToShow=te;var ae=function(e){r.__extends(t,e);function t(t,a){
var n=e.call(this,t,a)||this;n.handleMostRecentFolderChange=function(){var e=n.context.stores.mostRecentFolder.getFolder(),t=n.context.stores.mostRecentFolder.getDbxFolderPathsIfMigratedFolder()
;n.onMostRecentFolderLoaded(e,t)};n.handleFolderListChange=function(e){if(e===C.FolderListActions.listSubfolders||e===C.FolderListActions.list){
var t=n.getFolderId(),a=n.context.stores.folderList.getList().filter((function(e){return e.folder.encryptedParentFolderId===t}));n.setState({areSubfoldersLoading:!1,subfolders:a})
;if(n.state.folderData&&n.state.folderData.folder.encryptedId){var o=n.state.folderData.folder.encryptedId
;n.context.stores.mostRecentFolder.loadFolder(o,n.buildErrorHandler(j.createElement(X,r.__assign({},$.unabletoloadfolderFavoritesUpdate)),!0))}}};n.handlePadListChange=function(){var e={
folderId:n.getFolderId()};n.context.stores.padList.getPadList(e,(function(e){n.setState({arePadsLoading:!1,pads:e})}))};n.onSave=function(e){n.setState({folderData:e})}
;n.onRequestUpdateComplete=function(e){n.onSave(e.child||e.data)};n.buildFilterPath=function(e,t){return g.prettyFolderUrl(e.folder,t)};n.createSamplePad=function(){var e=n.state.folderData;f.post({
data:{folderId:e&&e.folder.encryptedId},url:"/pad/create-sample",analyticsTag:"folder-create-sample-note",shardingKey:f.getShardingKeyForCreatingNewPad(),successHandler:function(e){if(e){(0,
J.trackEng)("create sample pad success");n.context.stores.folderList.refresh();App.navigateToPad({id:e.padId})}},
errorHandler:n.buildErrorHandler(j.createElement(X,r.__assign({},$.unabletocreateasampledoc)))})};n.handleToggle=function(e,t){if(!l.cloudDocsUxEnabled()||"folder"!==e.type){if("doc"===e.type){
var a=o.find(n.state.pads,(function(t){return t.localPadId===e.id}));if(l.isUserInPurgatory(a.isCloudDoc))return}n.setState({multiselectState:n.state.multiselectState.handleClick(e,t,(function(){
n.setState({multiselectState:n.state.multiselectState.clone()})}))})}};n.handleMultiselectActionComplete=function(){n.setState({multiselectState:new x.MultiselectState});n.reloadDataFromServer(!0)}
;n.handleSelectionChange=function(e){n.setState({multiselectState:e},(function(){n.state.multiselectState.checkPermissionsForAllCheckedItems((function(){n.setState({
multiselectState:n.state.multiselectState.clone()})}))}))};n.handleCreatePadClicked=function(e){n.state.folderData&&(0,
d.createPad)(e,n.props.app,n.state.folderData.folder,J.AppContext.FolderPage.CreatePad)};n.handleCreateFolderClicked=function(){(0,d.createFolder)(n.context.stores,n.state.folderData)}
;n.handleAddDocsClicked=function(e){e.preventDefault();var t=j.createElement(X,r.__assign({},$.adddocstofolder)),a=n.context.stores,o=n.state.folderData;(0,V.default)(t,a,o,(function(){(0,
J.track)("pad-selector-added");n.reloadDataFromServer()}),(function(){(0,J.track)("pad-selector-cancelled")}),{trackContext:J.AppContext.FolderPage.Page})};n.renderHeader=function(e,t,a){
return n.props.renderPageHeader?n.props.renderPageHeader(e,t,a):j.createElement(M.default,{app:n.props.app,breadcrumbs:t},n.renderActionsMenu(e),a)};n.renderAction=function(e,t,a,r){
return n.props.renderAction?n.props.renderAction(e,t,a,r):a?j.createElement(s.TertiaryAction,{icon:a,onClick:r},t):t};n.changeFolder=function(){n.folderBreadcrumbs.changeFolder()}
;n.handleRestore=function(){var e=n.getFolderId();f.post({url:"/folder/restore",data:{folderId:e},analyticsTag:"folder-restore",shardingKey:f.getStatelessShardingKey(),successHandler:function(){
n.context.stores.folderList.refresh();n.context.stores.padList.loadPadList({folderId:e});n.context.stores.folderList.loadSubFolders(e,!1);n.context.stores.mostRecentFolder.loadFolder(e)},
errorHandler:n.buildErrorHandler(j.createElement(X,r.__assign({},$.unabletorestorefolder)))})};n.handleGoHome=function(){n.props.app.navigateToUrl("/")};n.handleRequestAccess=function(){(0,
J.track)("folder-page-request-access",{fromInviteLink:n.isFromInviteEmail()});f.post({url:"/folder/request-access",data:{folderId:n.getFolderId()},analyticsTag:"folder-request-access",
shardingKey:f.getStatelessShardingKey(),successHandler:function(){Y.default.show(j.createElement(Y.default,{autoDismiss:!0},j.createElement(X,r.__assign({},$.requestsent))))},
errorHandler:n.buildErrorHandler(j.createElement(X,r.__assign({},$.unabletorequestaccess)))})};n.handlePermanentDelete=function(e){e.preventDefault()
;var t=j.createElement(X,r.__assign({},$.areyousureyouwanttopermanentlydeletethisfolderYoucantundothisaction));i.confirm(j.createElement(X,r.__assign({},$.confirmfolderdelete)),t,(function(){
return n.handlePermanentDeleteConfirmClicked()}),{confirmText:Z($.permanentlyDelete),cancelByDefault:!0,confirmButtonClass:"hp-button-dangerous"})};n.showConfirmDialogForFolderMigration=function(e){
var t=n.state.folderData.folder.name;i.confirm(j.createElement(X,r.__assign({},$.folderMigrateTitle)),j.createElement(X,r.__assign({},$.folderMigrateBody,{values:{name:j.createElement("b",null,t)}
})),(function(){e()}),{confirmText:j.createElement(X,r.__assign({},$.folderMigrateButton)),confirmButtonClass:"hp-button-dangerous"})};n.isCurrentUserAllowedToMigrateFolder=function(){
var e=n.state.folderData;return!(!e||!q.isOnButDoNotLog("paper_cloud_docs_migration"))&&(e.folder.encryptedTopFolderId===e.folder.encryptedId&&e.isCreator)};n.migrateFolder=function(){
var e=n.state.folderData;e&&n.showConfirmDialogForFolderMigration((function(){f.post({data:{folderId:e.folder.encryptedId},url:"/folder/migrate",analyticsTag:"folder-migrate",
shardingKey:f.getShardingKeyForCreatingNewPad(),successHandler:function(e){n.reloadDataFromServer();(0,W.renderSnackbarForMigration)(e.success,e.link)},
errorHandler:n.buildErrorHandler(j.createElement(X,r.__assign({},$.folderMigrateError)))})}))};n.state={canRestore:!1,permissionDenied:!1,folderDeleted:!1,folderNotFound:!1,isFolderLoading:!0,
arePadsLoading:!0,areSubfoldersLoading:!0,subfolders:[],pads:[],folderPins:[],multiselectState:new x.MultiselectState,recentTasksStore:new k.default(n.getFolderId())};return n}
t.prototype.isLoaded=function(){return!this.state.isFolderLoading&&!this.state.arePadsLoading&&!this.state.areSubfoldersLoading};t.prototype.componentDidMount=function(){
this.state.multiselectState.numChecked>0&&this.setState({multiselectState:new x.MultiselectState});this.events.on(this.context.stores.padList,"pad-list-change",this.handlePadListChange)
;this.events.on(this.context.stores.mostRecentFolder,"change",this.handleMostRecentFolderChange);this.events.on(this.context.stores.folderList,"folder-list-changed",this.handleFolderListChange)
;this.reloadDataFromServer();this.updatePageUrlWithFolderName();this.checkRedirect()};t.prototype.enter=function(){this.props.app.getLeftNavSidebar().autoOpen()}
;t.prototype.reloadDataFromServer=function(e){var t=this.getFolderId();this.context.stores.padList.loadPadList({folderId:t})
;e?this.context.stores.folderList.refresh():this.context.stores.folderList.loadSubFolders(t,!1)
;this.context.stores.mostRecentFolder.loadFolder(t,this.buildErrorHandler(j.createElement(X,r.__assign({},$.unabletoloadfolder)),!0))};t.prototype.buildErrorHandler=function(e,t){var a=this
;void 0===t&&(t=!1);return function(n,r,o){if(0!=o||"abort"!=r.statusText){if(403==o){if((s=JSON.safeParse(n))&&s.error){if(s.error.folderPermissionDenied){a.state.permissionDenied||(0,
J.track)("folder-page-permission-denied",{fromInvite:a.isFromInviteEmail()});a.setState({permissionDenied:!0});return!0}if(s.error.folderDeleted){a.state.folderDeleted||(0,
J.track)("folder-page-folder-deleted",{fromInvite:a.isFromInviteEmail()});t?a.setState({folderDeleted:!0,canRestore:s.error.canRestore,folderData:s.error.folderData}):a.setState({folderDeleted:!0})
;return!0}}}else if(404==o){var s;if((s=JSON.safeParse(n))&&s.error&&s.error.folderNotFound){a.setState({folderNotFound:!0});return!0}}i.errorModal({title:e});return!0}}}
;t.prototype.getFolderId=function(){
return 0!=c.default.pathname.indexOf(H.PaperFolderPathPrefix)&&0!=c.default.pathname.indexOf(O.PaperCollectionPathPrefix)&&0!=c.default.pathname.indexOf(H.PaperProjectPathPrefix)?null:g.folderIdAndTitleFromUrl(c.default.pathname).id
};t.prototype.onMostRecentFolderLoaded=function(e,t){e&&this.setState({folderData:e,folderDeleted:e&&e.folder.isDeleted,isFolderLoading:!1,dbxFolderPathsIfMigratedFolder:t})}
;t.prototype.updatePageUrlWithFolderName=function(){var e=this.state,t=e.folderData;if(!e.isFolderLoading&&t&&t.folder){var a;a=g.prettyFolderUrl(t.folder,this.props.params.filter)
;c.default.toString()!=a&&(0,z.historyReplaceState)({},document.title,a)}};t.prototype.checkRedirect=function(){G.default.getQueryParams().unsubscribed&&Y.default.show(j.createElement(Y.default,{
alignLeft:!0,autoDismiss:!0},j.createElement(X,r.__assign({},$.youveunfollowedthisfolder))))};t.prototype.componentDidUpdate=function(e,t){var a=this.state.folderData
;a&&a!=t.folderData&&(a.folder&&a.folder.encryptedId!=this.getFolderId()?App.navigateToUrl(g.prettyFolderUrl(a.folder)):this.updatePageUrlWithFolderName())};t.prototype.isFromInviteEmail=function(){
return!!G.default.getQueryParams().inviteEmail};t.prototype.renderMultiselectButtons=function(){return j.createElement(A.MultiselectButtons,{multiselectState:this.state.multiselectState,
onComplete:this.handleMultiselectActionComplete,stores:this.context.stores,folderData:this.state.folderData,onSelectionChanged:this.handleSelectionChange,enableStandardActions:!0,
enableRestoreAndPermaDelete:!1})};t.prototype.renderPrivacyPermissions=function(){return j.createElement(S.default,{showIcon:!0,folderData:this.state.folderData,stores:this.context.stores,
className:"hp-folder-permissions",includeVisibleTo:!0})};t.prototype.renderActionsMenu=function(e){var t=this.state.folderData,a=[];t.members&&t.members.length&&a.push(j.createElement("div",{
className:"hp-shared-folder-members"},j.createElement("h3",null,j.createElement(X,r.__assign({},$.members))),j.createElement(E.default,{border:!0,users:t.members})))
;var o=this.renderPrivacyPermissions();return j.createElement(s.default,{primary:e[n.Share],bonus:a,disabled:this.state.multiselectState&&this.state.multiselectState.numChecked>0
},o,e[n.CreateNewDoc],e[n.CreateWithTemplate],e[n.NewFolder],e[n.AddDocs],j.createElement(P.default,{className:"hp-folder-page-menu"},j.createElement(s.TertiaryAction,{icon:"action-more",hasPopup:!0
},j.createElement(X,r.__assign({},$.more))),j.createElement(J.TrackContext,{trackContext:J.AppContext.FolderPage.MoreMenu
},j.createElement(T.default,null,j.createElement("ul",null,j.createElement(N.HpMenuItem,{role:"menuitemcheckbox"},e[n.Favorite]),j.createElement(N.HpMenuItem,{role:"menuitemcheckbox"
},e[n.Follow]),j.createElement(F.HpMenuSeparator,null),j.createElement(N.HpMenuItem,null,e[n.Move]),j.createElement(N.HpMenuItem,null,e[n.Rename]),j.createElement(N.HpMenuItem,null,e[n.Archive]),j.createElement(N.HpMenuItem,null,e[n.Migrate]))))))
};t.prototype.getActions=function(){var e,t=this,a=this.state.folderData,o=a&&a.folder?a.folder.encryptedId:null,s=this.renderAction(n.Share,j.createElement(_.default,{onChange:this.onSave,
folderData:a,stores:this.context.stores,isOffline:this.props.isOffline})),i=te(this.state.folderData,this.context.currentUser),l={};i.map((function(e){
if(e==n.CreateNewDoc)l[e]=t.renderAction(n.CreateNewDoc,j.createElement(X,r.__assign({},$.createnewdoc)),"action-create-doc",t.handleCreatePadClicked);else if(e==n.CreateWithTemplate){
var a=t.renderAction(n.CreateWithTemplate,j.createElement(X,r.__assign({},$.createwithtemplates)),"action-template");l[e]=j.createElement(J.TrackContext,{
trackContext:J.AppContext.FolderPage.TemplateMenu},j.createElement(K.TemplateMenuButton,{buttonComponent:a,padPreviewStore:t.context.stores.padPreview,folderId:o,
templateListStore:t.context.stores.templateList,app:t.props.app}))
}else e==n.NewFolder?l[e]=t.renderAction(n.NewFolder,j.createElement(X,r.__assign({},$.newfolder)),"action-create-folder",t.handleCreateFolderClicked):e==n.AddDocs&&(l[e]=t.renderAction(n.AddDocs,j.createElement(X,r.__assign({},$.adddocs)),"action-move",t.handleAddDocsClicked))
}));var c=this.renderAction(n.Favorite,j.createElement(b.default,{folderState:a,onSave:this.onSave,stores:this.context.stores})),u=this.renderAction(n.Follow,j.createElement(w.default,{folderState:a,
onSave:this.onSave})),p=a.folder.encryptedDomainId==this.context.currentUser.encryptedTeamId||!!a.folder.encryptedParentFolderId?this.renderAction(n.Move,j.createElement(D.default,{
"data-track":"folder-menu-change-parent",onClick:this.changeFolder},j.createElement(X,r.__assign({},$.move)))):null,m=this.renderAction(n.Rename,j.createElement(d.EditButton,{
tracker:"folder-menu-edit",onSave:this.onSave,folderState:a,stores:this.context.stores},j.createElement(X,r.__assign({},$.rename)))),h=this.renderAction(n.Archive,j.createElement(d.SoftDeleteButton,{
className:"hp-menu-danger","data-track":"folder-menu-delete",folderData:a,stores:this.context.stores
},j.createElement(X,r.__assign({},$.archive)))),f=this.isCurrentUserAllowedToMigrateFolder()?this.renderAction(n.Migrate,j.createElement(D.default,{className:"hp-menu-danger",
"data-track":"folder-menu-migrate",onClick:this.migrateFolder},j.createElement(X,r.__assign({},$.migrate)))):null;return(e={})[n.Share]=s,e[n.CreateNewDoc]=l[n.CreateNewDoc],
e[n.CreateWithTemplate]=l[n.CreateWithTemplate],e[n.NewFolder]=l[n.NewFolder],e[n.AddDocs]=l[n.AddDocs],e[n.Favorite]=c,e[n.Follow]=u,e[n.Move]=p,e[n.Rename]=m,e[n.Archive]=h,e[n.Migrate]=f,e}
;t.prototype.render=function(){var e,t,a=this,n=this.state.folderData,o={name:this.props.name,isSelected:this.props.isSelected}
;if((null===(t=null===(e=this.state)||void 0===e?void 0:e.folderData)||void 0===t?void 0:t.migrationStatus)==m.CloudDocsMigrationStatus.Migrated)return j.createElement(U.FolderMigratedInterstitial,r.__assign({},o,{
dbxFolderPaths:this.state.dbxFolderPathsIfMigratedFolder}));if(this.state.permissionDenied)return j.createElement(U.PermissionDeniedInterstital,r.__assign({},o,{
onRequestAccess:this.handleRequestAccess}));if(this.state.folderDeleted)return j.createElement(U.FolderDeletedInterstitial,r.__assign({},o,{canPermanentlyDeleteFolder:n&&n.canPermanentlyDeleteFolder,
canRestore:n&&this.state.canRestore,onPermanentDelete:this.handlePermanentDelete,onRestore:this.handleRestore}))
;if(this.state.folderNotFound)return j.createElement(U.FolderNotFoundInterstitial,r.__assign({},o,{onGoHome:this.handleGoHome}));var s=n&&n.folder&&!n.folder.isDeleted
;if(this.state.isFolderLoading||s&&this.state.arePadsLoading)return j.createElement(I.default,{className:"hp-folder-page2",name:this.props.name,isSelected:this.props.isSelected})
;if(!s)return j.createElement(U.InvalidInfoInterstitial,r.__assign({},o,{app:this.props.app}));var i=n.folder.name;this.props.app.setPageTitle(i)
;var l=0==this.state.pads.length&&0==n.subFolders.length?j.createElement(p.EmptyFolderContent,{app:this.props.app,folderData:n,canCreatePadInFolder:!ee(this.state.folderData,this.context.currentUser),
onCreateSamplePad:this.createSamplePad}):j.createElement("div",{className:"hp-page-inner"},j.createElement(y.default,{app:this.props.app,folderData:n,folderPins:n.folderPins,
subfolders:this.state.subfolders,pads:this.state.pads,stores:this.context.stores,onToggle:this.handleToggle,getFilterPath:function(e){return a.buildFilterPath(n,e)},
multiselectState:this.state.multiselectState,sortOrder:this.props.params.filter})),d=j.createElement(v.default,{ref:function(e){return a.folderBreadcrumbs=e},folderData:n,
onChange:this.onRequestUpdateComplete,stores:this.context.stores});return j.createElement(J.TrackContext,{trackContext:J.AppContext.FolderPage.Page},j.createElement(L.default,{name:this.props.name,
isSelected:this.props.isSelected,className:"hp-non-pad-page hp-folder-page2"
},this.renderHeader(this.getActions(),d,this.renderMultiselectButtons()),l),this.props.renderSnackbar?this.props.renderSnackbar():null)};t.prototype.handlePermanentDeleteConfirmClicked=function(){
var e=this;f.post({url:"/folder/permanently-delete",data:{folderId:this.getFolderId()},analyticsTag:"folder-permadelete",shardingKey:f.getStatelessShardingKey(),successHandler:function(){
return e.props.app.navigateToUrl("/")}})};t.displayName="FolderPage";t.contextTypes={currentUser:R.object.isRequired,stores:R.object.isRequired};return t=r.__decorate([h.default],t)}(j.PureComponent)
;t.default=ae}}]);

//# sourceMappingURL=https://paper.dropbox.com/static/sourcemap/a2fbe328b2d8efc859a8.WSzBpd2KIOU60cA4yqeBn4Irsqr2a74G37HCd6PwLRg.js.map